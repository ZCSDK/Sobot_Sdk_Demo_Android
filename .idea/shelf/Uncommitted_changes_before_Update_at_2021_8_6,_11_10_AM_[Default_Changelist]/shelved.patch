Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/adapter/SobotSikllAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.adapter;\n\nimport android.content.Context;\nimport androidx.core.content.ContextCompat;\nimport android.text.Html;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.GridView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport com.sobot.chat.adapter.base.SobotBaseAdapter;\nimport com.sobot.chat.api.model.ZhiChiGroupBase;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.ScreenUtils;\nimport com.sobot.chat.utils.ZhiChiConstant;\n\nimport java.util.List;\n\n@SuppressWarnings({\"rawtypes\"})\npublic class SobotSikllAdapter extends SobotBaseAdapter {\n    private LayoutInflater mInflater;\n    private TextView sobot_tv_content;//技能组名称\n    private TextView sobot_tv_desc;//无客服时描述\n    private LinearLayout sobot_ll_content;\n    private int msgFlag;//留言开关\n    private Context mContext;\n\n    @SuppressWarnings(\"unchecked\")\n    public SobotSikllAdapter(Context context, List<ZhiChiGroupBase> list, int msgFlag) {\n        super(context, list);\n        mInflater = LayoutInflater.from(context);\n        mContext = context;\n        this.msgFlag = msgFlag;\n    }\n\n    @Override\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            convertView = mInflater.inflate(ResourceUtils\n                    .getIdByName(context, \"layout\", \"sobot_list_item_skill\"), null);\n        }\n        sobot_ll_content = (LinearLayout) convertView.findViewById(ResourceUtils\n                .getIdByName(context, \"id\", \"sobot_ll_content\"));\n        sobot_tv_content = (TextView) convertView.findViewById(ResourceUtils\n                .getIdByName(context, \"id\", \"sobot_tv_content\"));\n        sobot_tv_desc = (TextView) convertView.findViewById(ResourceUtils\n                .getIdByName(context, \"id\", \"sobot_tv_desc\"));\n        sobot_ll_content.setLayoutParams(new GridView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ScreenUtils.dip2px(mContext, 36)));\n        ZhiChiGroupBase zhiChiSkillIModel = (ZhiChiGroupBase) list.get(position);\n        if (zhiChiSkillIModel != null) {\n            sobot_ll_content.setVisibility(View.VISIBLE);\n//                sobot_ll_content.setSelected(true);\n            sobot_tv_content.setText(zhiChiSkillIModel.getGroupName());\n            if (\"true\".equals(zhiChiSkillIModel.isOnline())) {\n                sobot_tv_desc.setVisibility(View.GONE);\n                sobot_tv_content.setTextSize(14);\n            } else {\n                String content;\n                sobot_tv_content.setTextSize(12);\n                sobot_tv_content.setTextColor(ContextCompat.getColor(context, ResourceUtils.getResColorId(context, \"sobot_common_gray2\")));\n                if (msgFlag == ZhiChiConstant.sobot_msg_flag_open) {\n                    content = ResourceUtils.getResString(context, \"sobot_no_access\") + \" \" + ResourceUtils.getResString(context, \"sobot_can\") + \"<font color='#0DAEAF'>\" + ResourceUtils.getResString(context, \"sobot_str_bottom_message\") + \"</a>\";\n                } else {\n                    content = ResourceUtils.getResString(context, \"sobot_no_access\");\n                }\n                sobot_tv_desc.setText(Html.fromHtml(content));\n                sobot_tv_desc.setVisibility(View.VISIBLE);\n            }\n        } else {\n            sobot_ll_content.setVisibility(View.INVISIBLE);\n            sobot_tv_desc.setVisibility(View.GONE);\n            //   sobot_ll_content.setSelected(false);\n            sobot_tv_content.setText(\"\");\n        }\n        return convertView;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/adapter/SobotSikllAdapter.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/adapter/SobotSikllAdapter.java	(date 1628135719000)
@@ -2,78 +2,163 @@
 
 import android.content.Context;
 import androidx.core.content.ContextCompat;
+import androidx.recyclerview.widget.RecyclerView;
 import android.text.Html;
+import android.text.TextUtils;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.GridView;
-import android.widget.LinearLayout;
+import android.widget.ImageView;
 import android.widget.TextView;
 
-import com.sobot.chat.adapter.base.SobotBaseAdapter;
 import com.sobot.chat.api.model.ZhiChiGroupBase;
 import com.sobot.chat.utils.ResourceUtils;
-import com.sobot.chat.utils.ScreenUtils;
+import com.sobot.chat.utils.SobotBitmapUtil;
 import com.sobot.chat.utils.ZhiChiConstant;
+import com.sobot.chat.widget.horizontalgridpage.SobotRecyclerCallBack;
 
 import java.util.List;
 
-@SuppressWarnings({"rawtypes"})
-public class SobotSikllAdapter extends SobotBaseAdapter {
-    private LayoutInflater mInflater;
-    private TextView sobot_tv_content;//技能组名称
-    private TextView sobot_tv_desc;//无客服时描述
-    private LinearLayout sobot_ll_content;
+public class SobotSikllAdapter extends RecyclerView.Adapter<SobotSikllAdapter.ViewHolder> {
     private int msgFlag;//留言开关
     private Context mContext;
+    private List<ZhiChiGroupBase> list;
+    private SobotRecyclerCallBack callBack;
 
-    @SuppressWarnings("unchecked")
-    public SobotSikllAdapter(Context context, List<ZhiChiGroupBase> list, int msgFlag) {
-        super(context, list);
-        mInflater = LayoutInflater.from(context);
+    public SobotSikllAdapter(Context context, List<ZhiChiGroupBase> list, int msgFlag, SobotRecyclerCallBack callBack) {
         mContext = context;
         this.msgFlag = msgFlag;
+        this.list = list;
+        this.callBack = callBack;
     }
 
+
     @Override
-    public View getView(final int position, View convertView, ViewGroup parent) {
-        if (convertView == null) {
-            convertView = mInflater.inflate(ResourceUtils
-                    .getIdByName(context, "layout", "sobot_list_item_skill"), null);
+    public int getItemCount() {
+        return list == null ? 0 : list.size();
+    }
+
+    /**
+     * 设置监听
+     *
+     * @param holder 监听对象
+     */
+    public void setListener(RecyclerView.ViewHolder holder) {
+        // 设置监听
+        holder.itemView.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                callBack.onItemClickListener(v, (Integer) v.getTag());
+            }
+        });
+
+        holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {
+            @Override
+            public boolean onLongClick(View v) {
+                callBack.onItemLongClickListener(v, (Integer) v.getTag());
+                return true;
+            }
+        });
+    }
+
+
+    @Override
+    public ViewHolder onCreateViewHolder(ViewGroup parent, int position) {
+        View itemView = null;
+        if (getItemViewType(position) == STYLE_PIC_TEXT) {
+            itemView = LayoutInflater.from(mContext).inflate(ResourceUtils.getResLayoutId(mContext, "sobot_list_item_skill_second_style"), parent, false);
+        } else if (getItemViewType(position) == STYLE_PIC_TEXT_DES) {
+            itemView = LayoutInflater.from(mContext).inflate(ResourceUtils.getResLayoutId(mContext, "sobot_list_item_skill_third_style"), parent, false);
+        } else {
+            itemView = LayoutInflater.from(mContext).inflate(ResourceUtils.getResLayoutId(mContext, "sobot_list_item_skill"), parent, false);
         }
-        sobot_ll_content = (LinearLayout) convertView.findViewById(ResourceUtils
-                .getIdByName(context, "id", "sobot_ll_content"));
-        sobot_tv_content = (TextView) convertView.findViewById(ResourceUtils
-                .getIdByName(context, "id", "sobot_tv_content"));
-        sobot_tv_desc = (TextView) convertView.findViewById(ResourceUtils
-                .getIdByName(context, "id", "sobot_tv_desc"));
-        sobot_ll_content.setLayoutParams(new GridView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ScreenUtils.dip2px(mContext, 36)));
+        ViewHolder viewHolder = new ViewHolder(mContext, itemView);
+        setListener(viewHolder);//设置监听
+        return viewHolder;
+    }
+
+    @Override
+    public void onBindViewHolder(SobotSikllAdapter.ViewHolder viewHolder, int position) {
+        viewHolder.itemView.setTag(position);
         ZhiChiGroupBase zhiChiSkillIModel = (ZhiChiGroupBase) list.get(position);
         if (zhiChiSkillIModel != null) {
-            sobot_ll_content.setVisibility(View.VISIBLE);
-//                sobot_ll_content.setSelected(true);
-            sobot_tv_content.setText(zhiChiSkillIModel.getGroupName());
-            if ("true".equals(zhiChiSkillIModel.isOnline())) {
-                sobot_tv_desc.setVisibility(View.GONE);
-                sobot_tv_content.setTextSize(14);
-            } else {
-                String content;
-                sobot_tv_content.setTextSize(12);
-                sobot_tv_content.setTextColor(ContextCompat.getColor(context, ResourceUtils.getResColorId(context, "sobot_common_gray2")));
-                if (msgFlag == ZhiChiConstant.sobot_msg_flag_open) {
-                    content = ResourceUtils.getResString(context, "sobot_no_access") + " " + ResourceUtils.getResString(context, "sobot_can") + "<font color='#0DAEAF'>" + ResourceUtils.getResString(context, "sobot_str_bottom_message") + "</a>";
-                } else {
-                    content = ResourceUtils.getResString(context, "sobot_no_access");
-                }
-                sobot_tv_desc.setText(Html.fromHtml(content));
-                sobot_tv_desc.setVisibility(View.VISIBLE);
-            }
-        } else {
-            sobot_ll_content.setVisibility(View.INVISIBLE);
-            sobot_tv_desc.setVisibility(View.GONE);
-            //   sobot_ll_content.setSelected(false);
-            sobot_tv_content.setText("");
-        }
-        return convertView;
+            if (zhiChiSkillIModel.getGroupStyle() == 1) {
+                //图文样式
+                viewHolder.sobot_tv_group_name.setText(zhiChiSkillIModel.getGroupName());
+                if (!TextUtils.isEmpty(zhiChiSkillIModel.getGroupPic())) {
+                    SobotBitmapUtil.display(mContext, zhiChiSkillIModel.getGroupPic(), viewHolder.sobot_iv_group_img);
+                }
+            } else if (zhiChiSkillIModel.getGroupStyle() == 2) {
+                //图文+描述样式
+                viewHolder.sobot_tv_group_name.setText(zhiChiSkillIModel.getGroupName());
+                viewHolder.sobot_tv_group_desc.setText(zhiChiSkillIModel.getDescription());
+                if (!TextUtils.isEmpty(zhiChiSkillIModel.getGroupPic())) {
+                    SobotBitmapUtil.display(mContext, zhiChiSkillIModel.getGroupPic(), viewHolder.sobot_iv_group_img);
+                }
+            } else {
+                viewHolder.sobot_tv_group_name.setText(zhiChiSkillIModel.getGroupName());
+                if ("true".equals(zhiChiSkillIModel.isOnline())) {
+                    viewHolder.sobot_tv_group_desc.setVisibility(View.GONE);
+                    viewHolder.sobot_tv_group_name.setTextSize(14);
+                } else {
+                    String content;
+                    viewHolder.sobot_tv_group_name.setTextSize(12);
+                    viewHolder.sobot_tv_group_name.setTextColor(ContextCompat.getColor(mContext, ResourceUtils.getResColorId(mContext, "sobot_common_gray2")));
+                    if (msgFlag == ZhiChiConstant.sobot_msg_flag_open) {
+                        content = ResourceUtils.getResString(mContext, "sobot_no_access") + " " + ResourceUtils.getResString(mContext, "sobot_can") + "<font color='#0DAEAF'>" + ResourceUtils.getResString(mContext, "sobot_str_bottom_message") + "</a>";
+                    } else {
+                        content = ResourceUtils.getResString(mContext, "sobot_no_access");
+                    }
+                    viewHolder.sobot_tv_group_desc.setText(Html.fromHtml(content));
+                    viewHolder.sobot_tv_group_desc.setVisibility(View.VISIBLE);
+                }
+            }
+        }
+    }
+
+
+    class ViewHolder extends RecyclerView.ViewHolder {
+        private ImageView sobot_iv_group_img;
+        private TextView sobot_tv_group_name;
+        private TextView sobot_tv_group_desc;
+
+        public ViewHolder(Context context, View itemView) {
+            super(itemView);
+            this.sobot_iv_group_img = itemView.findViewById(ResourceUtils
+                    .getIdByName(context, "id", "sobot_iv_group_img"));
+            this.sobot_tv_group_name = itemView.findViewById(ResourceUtils
+                    .getIdByName(context, "id", "sobot_tv_group_name"));
+            this.sobot_tv_group_desc = itemView.findViewById(ResourceUtils
+                    .getIdByName(context, "id", "sobot_tv_group_desc"));
+        }
+    }
+
+    private static final int STYLE_DEF = 0;//默认
+    private static final int STYLE_PIC_TEXT = 1;//图文
+    private static final int STYLE_PIC_TEXT_DES = 2;//图文——描述
+
+    @Override
+    public int getItemViewType(int position) {
+        ZhiChiGroupBase groupBase = list.get(position);
+        if (groupBase != null) {
+            return groupBase.getGroupStyle();
+        }
+        return 0;
+    }
+
+    public List<ZhiChiGroupBase> getList() {
+        return list;
+    }
+
+    public void setList(List<ZhiChiGroupBase> list) {
+        this.list = list;
+    }
+
+    public int getMsgFlag() {
+        return msgFlag;
+    }
+
+    public void setMsgFlag(int msgFlag) {
+        this.msgFlag = msgFlag;
     }
 }
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.widget.dialog;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport androidx.annotation.IdRes;\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\nimport android.text.TextUtils;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.RatingBar;\nimport android.widget.TextView;\n\nimport com.sobot.chat.activity.base.SobotDialogBaseActivity;\nimport com.sobot.chat.api.ResultCallBack;\nimport com.sobot.chat.api.ZhiChiApi;\nimport com.sobot.chat.api.apiUtils.ZhiChiConstants;\nimport com.sobot.chat.api.model.CommonModel;\nimport com.sobot.chat.api.model.Information;\nimport com.sobot.chat.api.model.SatisfactionSet;\nimport com.sobot.chat.api.model.SatisfactionSetBase;\nimport com.sobot.chat.api.model.SobotCommentParam;\nimport com.sobot.chat.api.model.ZhiChiInitModeBase;\nimport com.sobot.chat.core.channel.SobotMsgManager;\nimport com.sobot.chat.core.http.OkHttpUtils;\nimport com.sobot.chat.core.http.callback.StringResultCallBack;\nimport com.sobot.chat.utils.ChatUtils;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.ScreenUtils;\nimport com.sobot.chat.utils.SharedPreferencesUtil;\nimport com.sobot.chat.utils.ToastUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\nimport com.sobot.chat.widget.SobotEditTextLayout;\nimport com.sobot.chat.widget.SobotTenRatingLayout;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * 评价界面的显示\n * Created by jinxl on 2017/6/12.\n */\npublic class SobotEvaluateActivity extends SobotDialogBaseActivity {\n    private final String CANCEL_TAG = SobotEvaluateActivity.class.getSimpleName();\n    private Activity context;\n    private int score;//默认 选中几颗星 从前面界面传过来\n    private int isSolve;//默认 是否已解决 从前面界面传过来  0 是已解决  1 未解决\n    private boolean isFinish;\n    private boolean isExitSession;\n    private boolean isSessionOver;//会话是否已经结束\n    private boolean isBackShowEvaluate;//是否是 返回弹出评价框\n    private ZhiChiInitModeBase initModel;\n    private Information information;\n    private int current_model;\n    private int commentType;/*commentType 评价类型 主动评价1 邀请评价0*/\n    private String customName;\n    private List<SatisfactionSetBase> satisFactionList;\n    private SatisfactionSetBase satisfactionSetBase;\n    private LinearLayout sobot_negativeButton;\n    private LinearLayout coustom_pop_layout;\n    private LinearLayout sobot_robot_relative;//评价 机器人布局\n    private LinearLayout sobot_custom_relative;//评价人工布局\n    private LinearLayout sobot_hide_layout;//评价机器人和人工未解决时显示出来的布局\n    private RadioGroup sobot_readiogroup;//\n    private RadioButton sobot_btn_ok_robot;//评价  已解决\n    private RadioButton sobot_btn_no_robot;//评价  未解决\n    private Button sobot_close_now;//提交评价按钮\n    private View sobot_ratingBar_split_view;//如果有已解决按钮和未解决按钮就显示，否则隐藏；\n\n    private EditText sobot_add_content;//评价  添加建议\n    private TextView sobot_tv_evaluate_title;//评价   当前是评价机器人还是评价人工客服\n    private TextView sobot_robot_center_title;//评价  机器人或人工是否解决了问题的标题\n    private TextView sobot_text_other_problem;//评价  机器人或人工客服存在哪些问题的标题\n    private TextView sobot_custom_center_title;//评价  对 哪个人工客服 打分  的标题\n    private TextView sobot_ratingBar_title;//评价  对人工客服打分不同显示不同的内容\n    private TextView sobot_evaluate_cancel;//评价  暂不评价\n    private TextView sobot_tv_evaluate_title_hint;//评价  提交后结束评价\n    private RatingBar sobot_ratingBar;//评价  打分\n    private LinearLayout sobot_ten_root_ll;//评价  十分全布局\n    private TextView sobot_ten_very_dissatisfied;//评价 非常不满意\n    private TextView sobot_ten_very_satisfaction;//评价  非常满意\n    private SobotTenRatingLayout sobot_ten_rating_ll;//评价  十分 父布局 动态添加10个textview\n    private int ratingType;//评价  类型   0 5星 ；1 十分 默认5星\n\n    private String evaluateChecklables;//主动邀请评价选中的标签\n    private LinearLayout sobot_evaluate_ll_lable1;//评价  用来放前两个标签，标签最多可以有六个\n    private LinearLayout sobot_evaluate_ll_lable2;//评价  用来放中间两个标签\n    private LinearLayout sobot_evaluate_ll_lable3;//评价  用来放最后两个标签\n    private CheckBox sobot_evaluate_cb_lable1;//六个评价标签\n    private CheckBox sobot_evaluate_cb_lable2;\n    private CheckBox sobot_evaluate_cb_lable3;\n    private CheckBox sobot_evaluate_cb_lable4;\n    private CheckBox sobot_evaluate_cb_lable5;\n    private CheckBox sobot_evaluate_cb_lable6;\n    private SobotEditTextLayout setl_submit_content;//评价框\n\n    private List<CheckBox> checkBoxList = new ArrayList<>();\n\n\n    @Override\n    protected int getContentViewResId() {\n        return ResourceUtils.getResLayoutId(this, \"sobot_layout_evaluate\");\n    }\n\n    @Override\n    protected void initView() {\n        information = (Information) SharedPreferencesUtil.getObject(getContext(), \"sobot_last_current_info\");\n        context = getContext();\n        score = getIntent().getIntExtra(\"score\", 0);\n        evaluateChecklables = getIntent().getStringExtra(\"evaluateChecklables\");\n        isFinish = getIntent().getBooleanExtra(\"isFinish\", false);\n        isSessionOver = getIntent().getBooleanExtra(\"isSessionOver\", false);\n        isExitSession = getIntent().getBooleanExtra(\"isExitSession\", false);\n        isBackShowEvaluate = getIntent().getBooleanExtra(\"isBackShowEvaluate\", false);\n        initModel = (ZhiChiInitModeBase) getIntent().getSerializableExtra(\"initModel\");\n        current_model = getIntent().getIntExtra(\"current_model\", 0);\n        commentType = getIntent().getIntExtra(\"commentType\", 0);\n        customName = getIntent().getStringExtra(\"customName\");\n        isSolve = getIntent().getIntExtra(\"isSolve\", 0);\n        sobot_close_now = (Button) findViewById(getResId(\"sobot_close_now\"));\n        sobot_close_now.setText(ResourceUtils.getResString(context, \"sobot_btn_submit_text\"));\n        sobot_readiogroup = (RadioGroup) findViewById(getResId(\"sobot_readiogroup\"));\n        sobot_tv_evaluate_title = (TextView) findViewById(getResId(\"sobot_tv_evaluate_title\"));\n        sobot_tv_evaluate_title.setText(ResourceUtils.getResString(context, \"sobot_robot_customer_service_evaluation\"));\n        sobot_robot_center_title = (TextView) findViewById(getResId(\"sobot_robot_center_title\"));\n        sobot_robot_center_title.setText(ResourceUtils.getResString(context, \"sobot_question\"));\n        sobot_text_other_problem = (TextView) findViewById(getResId(\"sobot_text_other_problem\"));\n        sobot_custom_center_title = (TextView) findViewById(getResId(\"sobot_custom_center_title\"));\n        sobot_custom_center_title.setText(ResourceUtils.getResString(context, \"sobot_please_evaluate\"));\n        sobot_ratingBar_title = (TextView) findViewById(getResId(\"sobot_ratingBar_title\"));\n        sobot_ratingBar_title.setText(ResourceUtils.getResString(context, \"sobot_great_satisfaction\"));\n        sobot_tv_evaluate_title_hint = (TextView) findViewById(getResId(\"sobot_tv_evaluate_title_hint\"));\n        sobot_evaluate_cancel = (TextView) findViewById(getResId(\"sobot_evaluate_cancel\"));\n        sobot_evaluate_cancel.setText(ResourceUtils.getResString(context, \"sobot_temporarily_not_evaluation\"));\n        sobot_ratingBar_split_view = findViewById(ResourceUtils.getIdByName(context, \"id\",\n                \"sobot_ratingBar_split_view\"));\n        sobot_negativeButton = (LinearLayout) findViewById(getResId(\"sobot_negativeButton\"));\n        sobot_negativeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n        if (information != null && information.isCanBackWithNotEvaluation()) {\n            sobot_evaluate_cancel.setVisibility(View.VISIBLE);\n        } else {\n            sobot_evaluate_cancel.setVisibility(View.GONE);\n        }\n        sobot_ratingBar = (RatingBar) findViewById(getResId(\"sobot_ratingBar\"));\n        sobot_ten_root_ll = findViewById(getResId(\"sobot_ten_root_ll\"));\n        sobot_ten_rating_ll = findViewById(getResId(\"sobot_ten_rating_ll\"));\n        sobot_ten_very_dissatisfied= findViewById(getResId(\"sobot_ten_very_dissatisfied\"));\n        sobot_ten_very_satisfaction= findViewById(getResId(\"sobot_ten_very_satisfaction\"));\n        sobot_ten_very_dissatisfied.setText(ResourceUtils.getResString(context, \"sobot_very_dissatisfied\"));\n        sobot_ten_very_satisfaction.setText(ResourceUtils.getResString(context, \"sobot_great_satisfaction\"));\n\n        sobot_evaluate_ll_lable1 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable1\"));\n        sobot_evaluate_ll_lable2 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable2\"));\n        sobot_evaluate_ll_lable3 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable3\"));\n        sobot_evaluate_cb_lable1 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable1\"));\n        sobot_evaluate_cb_lable2 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable2\"));\n        sobot_evaluate_cb_lable3 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable3\"));\n        sobot_evaluate_cb_lable4 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable4\"));\n        sobot_evaluate_cb_lable5 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable5\"));\n        sobot_evaluate_cb_lable6 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable6\"));\n        checkBoxList.add(sobot_evaluate_cb_lable1);\n        checkBoxList.add(sobot_evaluate_cb_lable2);\n        checkBoxList.add(sobot_evaluate_cb_lable3);\n        checkBoxList.add(sobot_evaluate_cb_lable4);\n        checkBoxList.add(sobot_evaluate_cb_lable5);\n        checkBoxList.add(sobot_evaluate_cb_lable6);\n        sobot_add_content = (EditText) findViewById(getResId(\"sobot_add_content\"));\n        sobot_add_content.setHint(ResourceUtils.getResString(context, \"sobot_edittext_hint\"));\n        sobot_btn_ok_robot = (RadioButton) findViewById(getResId(\"sobot_btn_ok_robot\"));\n        sobot_btn_ok_robot.setText(ResourceUtils.getResString(context, \"sobot_evaluate_yes\"));\n        sobot_btn_ok_robot.setChecked(true);\n        sobot_btn_no_robot = (RadioButton) findViewById(getResId(\"sobot_btn_no_robot\"));\n        sobot_btn_no_robot.setText(ResourceUtils.getResString(context, \"sobot_evaluate_no\"));\n        sobot_robot_relative = (LinearLayout) findViewById(getResId(\"sobot_robot_relative\"));\n        sobot_custom_relative = (LinearLayout) findViewById(getResId(\"sobot_custom_relative\"));\n        sobot_hide_layout = (LinearLayout) findViewById(getResId(\"sobot_hide_layout\"));\n        setl_submit_content = (SobotEditTextLayout) findViewById(getResId(\"setl_submit_content\"));\n\n        setViewGone();\n        setViewListener();\n        if (ScreenUtils.isFullScreen(context)) {\n            getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\n        }\n        displayInNotch(setl_submit_content);\n    }\n\n    @Override\n    protected void initData() {\n\n        if (current_model == ZhiChiConstant.client_model_customService) {\n            ZhiChiApi zhiChiApi = SobotMsgManager.getInstance(context).getZhiChiApi();\n            zhiChiApi.satisfactionMessage(CANCEL_TAG, initModel.getPartnerid(), new ResultCallBack<SatisfactionSet>() {\n                @Override\n                public void onSuccess(SatisfactionSet satisfactionSet) {\n                    if (satisfactionSet != null && \"1\".equals(satisfactionSet.getCode()) && satisfactionSet.getData() != null && satisfactionSet.getData().size() != 0) {\n                        satisFactionList = satisfactionSet.getData();\n                        if (commentType == 1) {\n                            //主动评价需要判断默认星级\n                            if (satisFactionList.get(0) != null && satisFactionList.get(0).getDefaultType() != -1) {\n                                if (satisFactionList.get(0).getScoreFlag() == 0) {\n                                    //defaultType 0-默认5星,1-默认0星\n                                    score = (satisFactionList.get(0).getDefaultType() == 0) ? 5 : 0;\n                                    sobot_ten_root_ll.setVisibility(View.GONE);\n                                    sobot_ratingBar.setVisibility(View.VISIBLE);\n                                    ratingType = 0;//5星\n                                } else {\n                                    sobot_ten_root_ll.setVisibility(View.VISIBLE);\n                                    sobot_ratingBar.setVisibility(View.GONE);\n                                    ratingType = 1;//十分\n                                    // defaultType 0-默认10分,1-默认5分,2-默认0分\n                                    if (satisFactionList.get(0).getDefaultType() == 2) {\n                                        score = 0;\n                                    } else if (satisFactionList.get(0).getDefaultType() == 1) {\n                                        score = 5;\n                                    } else {\n                                        score = 10;\n                                    }\n                                }\n                            }\n                        } else {\n                            if (satisFactionList.get(0) != null && satisFactionList.get(0).getDefaultType() != -1) {\n                                if (satisFactionList.get(0).getScoreFlag() == 0) {\n                                    //defaultType 0-默认5星,1-默认0星\n                                    sobot_ten_root_ll.setVisibility(View.GONE);\n                                    sobot_ratingBar.setVisibility(View.VISIBLE);\n                                    ratingType = 0;//5星\n                                } else {\n                                    sobot_ten_root_ll.setVisibility(View.VISIBLE);\n                                    sobot_ratingBar.setVisibility(View.GONE);\n                                    ratingType = 1;//十分\n                                }\n                            }\n                        }\n                        if (ratingType == 0) {\n                            if (score == -1) {\n                                score = 5;\n                            }\n                            sobot_ratingBar.setRating(score);\n                        } else {\n                            if (score == -1) {\n                                score = 10;\n                            }\n                            sobot_ten_rating_ll.init(score, true);\n                        }\n\n                        if (isSolve == 0) {\n                            sobot_btn_ok_robot.setChecked(true);\n                            sobot_btn_no_robot.setChecked(false);\n                        } else {\n                            sobot_btn_ok_robot.setChecked(false);\n                            sobot_btn_no_robot.setChecked(true);\n                        }\n\n                        setCustomLayoutViewVisible(score, satisFactionList);\n                        if (ratingType == 0) {\n                            if (0 == score) {\n                                sobot_close_now.setVisibility(View.GONE);\n                                sobot_ratingBar_title.setText(ResourceUtils.getResString(getContext(), \"sobot_evaluate_zero_score_des\"));\n                                sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_common_gray3\")));\n                            } else {\n                                sobot_close_now.setVisibility(View.VISIBLE);\n                                if (satisfactionSetBase != null) {\n                                    sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n                                }\n                                sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n                            }\n                        } else {\n                            sobot_close_now.setVisibility(View.VISIBLE);\n                            if (satisfactionSetBase != null) {\n                                sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n                            }\n                            sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n\n                        }\n\n                        if (satisFactionList.get(0).getIsQuestionFlag()) {\n                            sobot_robot_relative.setVisibility(View.VISIBLE);\n                            sobot_ratingBar_split_view.setVisibility(View.VISIBLE);\n                        } else {\n                            sobot_robot_relative.setVisibility(View.GONE);\n                            sobot_ratingBar_split_view.setVisibility(View.GONE);\n                        }\n                    }\n                }\n\n                @Override\n                public void onFailure(Exception e, String des) {\n                }\n\n                @Override\n                public void onLoading(long total, long current, boolean isUploading) {\n                }\n            });\n        }\n    }\n\n    private void setViewListener() {\n        sobot_ratingBar.setOnRatingBarChangeListener(new RatingBar.OnRatingBarChangeListener() {\n            @Override\n            public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\n                sobot_close_now.setVisibility(View.VISIBLE);\n                int score = (int) Math.ceil(sobot_ratingBar.getRating());\n                if (score == 0) {\n                    sobot_ratingBar.setRating(1);\n                }\n                if (score > 0 && score <= 5) {\n                    sobot_close_now.setSelected(true);\n                    setCustomLayoutViewVisible(score, satisFactionList);\n                }\n            }\n        });\n\n        sobot_readiogroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\n                if (current_model == ZhiChiConstant.client_model_robot && initModel != null) {\n                    if (checkedId == getResId(\"sobot_btn_ok_robot\")) {\n                        sobot_hide_layout.setVisibility(View.GONE);\n                        setl_submit_content.setVisibility(View.GONE);\n                    } else if (checkedId == getResId(\"sobot_btn_no_robot\")) {\n                        sobot_hide_layout.setVisibility(View.VISIBLE);\n                        setl_submit_content.setVisibility(View.VISIBLE);\n                        String tmpData[] = convertStrToArray(initModel.getRobotCommentTitle());\n                        if (tmpData != null && tmpData.length > 0) {\n                            setLableViewVisible(tmpData);\n                        } else {\n                            sobot_hide_layout.setVisibility(View.GONE);\n                        }\n                    }\n                }\n            }\n        });\n\n        sobot_close_now.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                subMitEvaluate();\n            }\n        });\n\n        sobot_evaluate_cancel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n                Intent intent = new Intent();\n                intent.setAction(ZhiChiConstants.sobot_close_now);\n                intent.putExtra(\"isBackShowEvaluate\", isBackShowEvaluate);\n                CommonUtils.sendLocalBroadcast(context.getApplicationContext(), intent);\n            }\n        });\n\n        //监听10分评价选择变化\n        if (sobot_ten_rating_ll != null) {\n            sobot_ten_rating_ll.setOnClickItemListener(new SobotTenRatingLayout.OnClickItemListener() {\n                @Override\n                public void onClickItem(int selectIndex) {\n                    sobot_close_now.setVisibility(View.VISIBLE);\n                    sobot_close_now.setSelected(true);\n                    setCustomLayoutViewVisible(selectIndex, satisFactionList);\n                }\n            });\n        }\n    }\n\n\n    private void setViewGone() {\n        sobot_hide_layout.setVisibility(View.GONE);\n        setl_submit_content.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable1.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable1.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable2.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable3.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable4.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable5.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable6.setVisibility(View.GONE);\n\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            sobot_tv_evaluate_title.setText(getResString(\"sobot_robot_customer_service_evaluation\"));\n            sobot_robot_center_title.setText(initModel.getRobotName() + ChatUtils.getResString(context, \"sobot_question\"));\n            sobot_robot_relative.setVisibility(View.VISIBLE);\n            sobot_custom_relative.setVisibility(View.GONE);\n        } else {\n            boolean isExitTalk = SharedPreferencesUtil.getBooleanData(context, ZhiChiConstant.SOBOT_CHAT_EVALUATION_COMPLETED_EXIT, false);\n\n            if (isExitTalk && !isSessionOver) {\n                sobot_tv_evaluate_title_hint.setText(getResString(\"sobot_evaluation_completed_exit\"));\n                sobot_tv_evaluate_title_hint.setVisibility(View.VISIBLE);\n            } else {\n                sobot_tv_evaluate_title_hint.setVisibility(View.GONE);\n            }\n            sobot_tv_evaluate_title.setText(getResString(\"sobot_please_evaluate_this_service\"));\n            sobot_robot_center_title.setText(customName + \" \" + ChatUtils.getResString(context, \"sobot_question\"));\n            sobot_custom_center_title.setText(customName + \" \" + ChatUtils.getResString(context, \"sobot_please_evaluate\"));\n            sobot_robot_relative.setVisibility(View.GONE);\n            sobot_custom_relative.setVisibility(View.VISIBLE);\n        }\n    }\n\n    //设置人工客服评价的布局显示逻辑\n    private void setCustomLayoutViewVisible(int score, List<\n            SatisfactionSetBase> satisFactionList) {\n        satisfactionSetBase = getSatisFaction(score, satisFactionList);\n        for (int i = 0; i < checkBoxList.size(); i++) {\n            checkBoxList.get(i).setChecked(false);\n        }\n        if (satisfactionSetBase != null) {\n            sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n            sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n            if (!TextUtils.isEmpty(satisfactionSetBase.getInputLanguage())) {\n                if (satisfactionSetBase.getIsInputMust()) {\n                    sobot_add_content.setHint(getResString(\"sobot_required\") + satisfactionSetBase.getInputLanguage().replace(\"<br/>\", \"\\n\"));\n                } else {\n                    sobot_add_content.setHint(satisfactionSetBase.getInputLanguage().replace(\"<br/>\", \"\\n\"));\n                }\n            } else {\n                sobot_add_content.setHint(String.format(ChatUtils.getResString(context, \"sobot_edittext_hint\")));\n            }\n\n            if (!TextUtils.isEmpty(satisfactionSetBase.getLabelName())) {\n                String tmpData[] = convertStrToArray(satisfactionSetBase.getLabelName());\n                setLableViewVisible(tmpData);\n            } else {\n                setLableViewVisible(null);\n            }\n\n            //根据infomation 配置是否隐藏星星评价描述\n            if (!information.isHideManualEvaluationLabels()) {\n                sobot_ratingBar_title.setVisibility(View.VISIBLE);\n            } else {\n                sobot_ratingBar_title.setVisibility(View.GONE);\n            }\n            if (score == 5) {\n//                sobot_hide_layout.setVisibility(View.GONE);\n                setl_submit_content.setVisibility(View.VISIBLE);\n                sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n            } else {\n                setl_submit_content.setVisibility(View.VISIBLE);\n            }\n        } else {\n            //根据infomation 配置是否隐藏星星评价描述\n            if (!information.isHideManualEvaluationLabels()) {\n                sobot_ratingBar_title.setVisibility(View.VISIBLE);\n            } else {\n                sobot_ratingBar_title.setVisibility(View.GONE);\n            }\n        }\n    }\n\n    private SatisfactionSetBase getSatisFaction(int score, List<\n            SatisfactionSetBase> satisFactionList) {\n        if (satisFactionList == null) {\n            return null;\n        }\n        for (int i = 0; i < satisFactionList.size(); i++) {\n            if (satisFactionList.get(i).getScore().equals(score + \"\")) {\n                return satisFactionList.get(i);\n            }\n        }\n        return null;\n    }\n\n    //设置评价标签的显示逻辑\n    private void setLableViewVisible(String tmpData[]) {\n        if (tmpData == null) {\n            sobot_hide_layout.setVisibility(View.GONE);\n            return;\n        } else {\n            if (current_model == ZhiChiConstant.client_model_robot && initModel != null) {\n                //根据infomation 配置是否隐藏机器人评价标签\n                if (!information.isHideRototEvaluationLabels()) {\n                    sobot_hide_layout.setVisibility(View.VISIBLE);\n                } else {\n                    sobot_hide_layout.setVisibility(View.GONE);\n                }\n            }\n            if (current_model == ZhiChiConstant.client_model_customService && initModel != null) {\n                //根据infomation 配置是否隐藏人工评价标签\n                if (!information.isHideManualEvaluationLabels()) {\n                    sobot_hide_layout.setVisibility(View.VISIBLE);\n                } else {\n                    sobot_hide_layout.setVisibility(View.GONE);\n                }\n            }\n            if (current_model == ZhiChiConstant.client_model_customService) {\n                if (satisfactionSetBase != null) {\n                    if (TextUtils.isEmpty(satisfactionSetBase.getTagTips())) {\n                        sobot_text_other_problem.setVisibility(View.GONE);\n                    } else {\n                        sobot_text_other_problem.setVisibility(View.VISIBLE);\n                        if (satisfactionSetBase.getIsTagMust()) {\n                            sobot_text_other_problem.setText(satisfactionSetBase.getTagTips());\n                        } else {\n                            sobot_text_other_problem.setText(satisfactionSetBase.getTagTips());\n                        }\n                    }\n                }\n            }\n        }\n\n        switch (tmpData.length) {\n            case 1:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                break;\n            case 2:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                break;\n            case 3:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                break;\n            case 4:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                break;\n            case 5:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable5.setText(tmpData[4]);\n                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable6.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);\n                break;\n            case 6:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable5.setText(tmpData[4]);\n                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable6.setText(tmpData[5]);\n                sobot_evaluate_cb_lable6.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);\n                checkLable(tmpData, 5, sobot_evaluate_cb_lable6);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private int getResovled() {\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            if (sobot_btn_ok_robot.isChecked()) {\n                return 0;\n            } else {\n                return 1;\n            }\n        } else if (current_model == ZhiChiConstant.client_model_customService) {\n            if (satisfactionSetBase != null && satisfactionSetBase.getIsQuestionFlag()) {\n                if (sobot_btn_ok_robot.isChecked()) {\n                    return 0;\n                } else {\n                    return 1;\n                }\n            }\n        }\n        return -1;\n    }\n\n    private SobotCommentParam getCommentParam() {\n        SobotCommentParam param = new SobotCommentParam();\n        String type = current_model == ZhiChiConstant.client_model_robot ? \"0\" : \"1\";\n        int score;\n        if (ratingType == 0) {\n            param.setScoreFlag(0);//5星\n            score = (int) Math.ceil(sobot_ratingBar.getRating());\n        } else {\n            param.setScoreFlag(1);//10分\n            score = sobot_ten_rating_ll.getSelectContent();\n        }\n\n        String problem = checkBoxIsChecked();\n        String suggest = sobot_add_content.getText().toString();\n        param.setType(type);\n        param.setProblem(problem);\n        param.setSuggest(suggest);\n        param.setIsresolve(getResovled());\n        param.setCommentType(commentType);\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            param.setRobotFlag(initModel.getRobotid());\n        } else {\n            param.setScore(score + \"\");\n        }\n        return param;\n    }\n\n    //提交评价\n    private void subMitEvaluate() {\n        if (!checkInput()) {\n            return;\n        }\n\n        comment();\n    }\n\n    /**\n     * 检查是否能提交评价\n     *\n     * @return\n     */\n    private boolean checkInput() {\n        if (current_model == ZhiChiConstant.client_model_customService) {\n            if (satisfactionSetBase != null) {\n                SobotCommentParam commentParam = getCommentParam();\n                if (!TextUtils.isEmpty(satisfactionSetBase.getLabelName()) && satisfactionSetBase.getIsTagMust()) {\n                    if (TextUtils.isEmpty(commentParam.getProblem())) {\n                        ToastUtil.showToast(context, getResString(\"sobot_the_label_is_required\"));//标签必选\n                        return false;\n                    }\n                }\n\n                if (satisfactionSetBase.getIsInputMust()) {\n                    if (TextUtils.isEmpty(commentParam.getSuggest().trim())) {\n                        ToastUtil.showToast(context, getResString(\"sobot_suggestions_are_required\"));//建议必填\n                        return false;\n                    }\n                }\n            }\n        } else if (current_model == ZhiChiConstant.client_model_robot) {\n            return true;\n        }\n\n        return true;\n    }\n\n    // 使用String的split 方法把字符串截取为字符串数组\n    private static String[] convertStrToArray(String str) {\n        String[] strArray = null;\n        if (!TextUtils.isEmpty(str)) {\n            strArray = str.split(\",\"); // 拆分字符为\",\" ,然后把结果交给数组strArray\n        }\n        return strArray;\n    }\n\n    //提交评价调用接口\n    private void comment() {\n\n        ZhiChiApi zhiChiApi = SobotMsgManager.getInstance(context).getZhiChiApi();\n        final SobotCommentParam commentParam = getCommentParam();\n        zhiChiApi.comment(CANCEL_TAG, initModel.getCid(), initModel.getPartnerid(), commentParam,\n                new StringResultCallBack<CommonModel>() {\n                    @Override\n                    public void onSuccess(CommonModel result) {\n                        //评论成功 发送广播\n                        Intent intent = new Intent();\n                        intent.setAction(ZhiChiConstants.dcrc_comment_state);\n                        intent.putExtra(\"commentState\", true);\n                        intent.putExtra(\"isFinish\", isFinish);\n                        intent.putExtra(\"isExitSession\", isExitSession);\n                        intent.putExtra(\"commentType\", commentType);\n                        if (!TextUtils.isEmpty(commentParam.getScore())) {\n                            intent.putExtra(\"score\", Integer.parseInt(commentParam.getScore()));\n                        }\n                        intent.putExtra(\"isResolved\", commentParam.getIsresolve());\n\n                        CommonUtils.sendLocalBroadcast(context, intent);\n                        finish();\n                    }\n\n                    @Override\n                    public void onFailure(Exception arg0, String msg) {\n                        try {\n                            ToastUtil.showToast(getContext(), msg);\n                        } catch (Exception e) {\n//                            e.printStackTrace();\n                        }\n                    }\n                });\n    }\n\n    //检查标签是否选中（根据主动邀评传过来的选中标签判断）\n    private void checkLable(String tmpData[], int pos, CheckBox cb) {\n        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && cb != null) {\n            if (evaluateChecklables.contains(tmpData[pos])) {\n                cb.setChecked(true);\n            } else {\n                cb.setChecked(false);\n            }\n        }\n    }\n\n    //检测选中的标签\n    private String checkBoxIsChecked() {\n        String str = \"\";\n        for (int i = 0; i < checkBoxList.size(); i++) {\n            if (checkBoxList.get(i).isChecked()) {\n                str = str + checkBoxList.get(i).getText() + \",\";\n            }\n        }\n        if (str.length() > 0) {\n            str = str.substring(0, str.length() - 1);\n        }\n        return str + \"\";\n    }\n\n    @Override\n    public void onDetachedFromWindow() {\n        OkHttpUtils.getInstance().cancelTag(CANCEL_TAG);\n        super.onDetachedFromWindow();\n    }\n\n    @Override\n    public boolean dispatchTouchEvent(@NonNull MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {/*点击外部隐藏键盘*/\n            View v = getCurrentFocus();\n            if (isShouldHideInput(v, ev)) {\n\n                InputMethodManager imm = (InputMethodManager) getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n                if (imm != null) {\n                    imm.hideSoftInputFromWindow(v.getWindowToken(), 0);\n                }\n            }\n            return super.dispatchTouchEvent(ev);\n        }\n        // 必不可少，否则所有的组件都不会有TouchEvent了\n        if (getWindow().superDispatchTouchEvent(ev)) {\n            return true;\n        }\n        return onTouchEvent(ev);\n    }\n\n    /*是否在外部*/\n    public boolean isShouldHideInput(View v, MotionEvent event) {\n        if (v != null && (v instanceof EditText)) {\n            int[] leftTop = {0, 0};\n            //获取输入框当前的location位置\n            v.getLocationInWindow(leftTop);\n            int left = leftTop[0];\n            int top = leftTop[1];\n            int bottom = top + v.getHeight();\n            int right = left + v.getWidth();\n            if (event.getX() > left && event.getX() < right\n                    && event.getY() > top && event.getY() < bottom) {\n                // 点击的是输入框区域，保留点击EditText的事件\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public Activity getContext() {\n        return SobotEvaluateActivity.this;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateActivity.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateActivity.java	(date 1628135719000)
@@ -7,6 +7,7 @@
 import androidx.annotation.NonNull;
 import androidx.core.content.ContextCompat;
 import android.text.TextUtils;
+import android.view.LayoutInflater;
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.ViewGroup;
@@ -33,6 +34,7 @@
 import com.sobot.chat.core.channel.SobotMsgManager;
 import com.sobot.chat.core.http.OkHttpUtils;
 import com.sobot.chat.core.http.callback.StringResultCallBack;
+import com.sobot.chat.notchlib.utils.ScreenUtil;
 import com.sobot.chat.utils.ChatUtils;
 import com.sobot.chat.utils.CommonUtils;
 import com.sobot.chat.utils.ResourceUtils;
@@ -40,6 +42,7 @@
 import com.sobot.chat.utils.SharedPreferencesUtil;
 import com.sobot.chat.utils.ToastUtil;
 import com.sobot.chat.utils.ZhiChiConstant;
+import com.sobot.chat.widget.SobotAntoLineLayout;
 import com.sobot.chat.widget.SobotEditTextLayout;
 import com.sobot.chat.widget.SobotTenRatingLayout;
 
@@ -93,15 +96,8 @@
     private int ratingType;//评价  类型   0 5星 ；1 十分 默认5星
 
     private String evaluateChecklables;//主动邀请评价选中的标签
-    private LinearLayout sobot_evaluate_ll_lable1;//评价  用来放前两个标签，标签最多可以有六个
-    private LinearLayout sobot_evaluate_ll_lable2;//评价  用来放中间两个标签
-    private LinearLayout sobot_evaluate_ll_lable3;//评价  用来放最后两个标签
-    private CheckBox sobot_evaluate_cb_lable1;//六个评价标签
-    private CheckBox sobot_evaluate_cb_lable2;
-    private CheckBox sobot_evaluate_cb_lable3;
-    private CheckBox sobot_evaluate_cb_lable4;
-    private CheckBox sobot_evaluate_cb_lable5;
-    private CheckBox sobot_evaluate_cb_lable6;
+    private SobotAntoLineLayout sobot_evaluate_lable_autoline;//评价 标签 自动换行 最多可以有六个
+
     private SobotEditTextLayout setl_submit_content;//评价框
 
     private List<CheckBox> checkBoxList = new ArrayList<>();
@@ -164,21 +160,7 @@
         sobot_ten_very_dissatisfied.setText(ResourceUtils.getResString(context, "sobot_very_dissatisfied"));
         sobot_ten_very_satisfaction.setText(ResourceUtils.getResString(context, "sobot_great_satisfaction"));
 
-        sobot_evaluate_ll_lable1 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable1"));
-        sobot_evaluate_ll_lable2 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable2"));
-        sobot_evaluate_ll_lable3 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable3"));
-        sobot_evaluate_cb_lable1 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable1"));
-        sobot_evaluate_cb_lable2 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable2"));
-        sobot_evaluate_cb_lable3 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable3"));
-        sobot_evaluate_cb_lable4 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable4"));
-        sobot_evaluate_cb_lable5 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable5"));
-        sobot_evaluate_cb_lable6 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable6"));
-        checkBoxList.add(sobot_evaluate_cb_lable1);
-        checkBoxList.add(sobot_evaluate_cb_lable2);
-        checkBoxList.add(sobot_evaluate_cb_lable3);
-        checkBoxList.add(sobot_evaluate_cb_lable4);
-        checkBoxList.add(sobot_evaluate_cb_lable5);
-        checkBoxList.add(sobot_evaluate_cb_lable6);
+        sobot_evaluate_lable_autoline = findViewById(getResId("sobot_evaluate_lable_autoline"));
         sobot_add_content = (EditText) findViewById(getResId("sobot_add_content"));
         sobot_add_content.setHint(ResourceUtils.getResString(context, "sobot_edittext_hint"));
         sobot_btn_ok_robot = (RadioButton) findViewById(getResId("sobot_btn_ok_robot"));
@@ -381,15 +363,7 @@
     private void setViewGone() {
         sobot_hide_layout.setVisibility(View.GONE);
         setl_submit_content.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable1.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable1.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable2.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable3.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable4.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable5.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable6.setVisibility(View.GONE);
+        sobot_evaluate_lable_autoline.removeAllViews();
 
         if (current_model == ZhiChiConstant.client_model_robot) {
             sobot_tv_evaluate_title.setText(getResString("sobot_robot_customer_service_evaluation"));
@@ -476,6 +450,24 @@
         return null;
     }
 
+    //隐藏所有自动换行的标签
+    private void createChildLableView(SobotAntoLineLayout antoLineLayout, String tmpData[]) {
+        if (antoLineLayout != null) {
+            antoLineLayout.removeAllViews();
+            for (int i = 0; i < tmpData.length; i++) {
+                LayoutInflater inflater = getLayoutInflater();
+                View view = inflater.inflate(ResourceUtils.getResLayoutId(getContext(), "sobot_layout_evaluate_item"), null);
+                CheckBox checkBox = view.findViewById(ResourceUtils.getResId(getContext(), "sobot_evaluate_cb_lable"));
+                //50 =antoLineLayout 左间距20+右间距20 +antoLineLayout 子控件行间距10
+                checkBox.setMinWidth((ScreenUtil.getScreenSize(context)[0] - ScreenUtils.dip2px(getContext(), 50)) / 2);
+                checkBox.setText(tmpData[i]);
+                antoLineLayout.addView(view);
+                checkBoxList.add(checkBox);
+            }
+        }
+    }
+
+
     //设置评价标签的显示逻辑
     private void setLableViewVisible(String tmpData[]) {
         if (tmpData == null) {
@@ -513,107 +505,8 @@
                 }
             }
         }
-
-        switch (tmpData.length) {
-            case 1:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                break;
-            case 2:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                break;
-            case 3:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                break;
-            case 4:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                break;
-            case 5:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable5.setText(tmpData[4]);
-                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable6.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);
-                break;
-            case 6:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable5.setText(tmpData[4]);
-                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable6.setText(tmpData[5]);
-                sobot_evaluate_cb_lable6.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);
-                checkLable(tmpData, 5, sobot_evaluate_cb_lable6);
-                break;
-            default:
-                break;
-        }
+        createChildLableView(sobot_evaluate_lable_autoline, tmpData);
+        checkLable(tmpData);
     }
 
     private int getResovled() {
@@ -747,12 +640,17 @@
     }
 
     //检查标签是否选中（根据主动邀评传过来的选中标签判断）
-    private void checkLable(String tmpData[], int pos, CheckBox cb) {
-        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && cb != null) {
-            if (evaluateChecklables.contains(tmpData[pos])) {
-                cb.setChecked(true);
-            } else {
-                cb.setChecked(false);
+    private void checkLable(String tmpData[]) {
+        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && sobot_evaluate_lable_autoline != null) {
+            for (int i = 0; i < tmpData.length; i++) {
+                CheckBox checkBox = (CheckBox) sobot_evaluate_lable_autoline.getChildAt(i);
+                if (checkBox != null) {
+                    if (evaluateChecklables.contains(tmpData[i])) {
+                        checkBox.setChecked(true);
+                    } else {
+                        checkBox.setChecked(false);
+                    }
+                }
             }
         }
     }
Index: sobotsdk-mall-x/src/main/res/layout/sobot_activity_skill_group.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/sobot_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom\"\n    android:background=\"@android:color/transparent\"\n    android:gravity=\"bottom\"\n    android:orientation=\"vertical\">\n\n    <com.sobot.chat.widget.SobotMHLinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:sobot_mhv_HeightRatio=\"0.7\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/sobot_common_gray6\"\n            android:gravity=\"center_vertical\"\n            android:paddingTop=\"10dp\"\n            android:paddingBottom=\"10dp\">\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerInParent=\"true\"\n                android:gravity=\"center\"\n                android:layout_marginRight=\"40dp\"\n                android:layout_marginLeft=\"40dp\"\n                android:orientation=\"vertical\"\n                android:layout_marginEnd=\"40dp\"\n                android:layout_marginStart=\"40dp\">\n\n                <TextView\n                    android:id=\"@+id/sobot_tv_title\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:gravity=\"center\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"17sp\"\n                    android:textStyle=\"bold\" />\n            </LinearLayout>\n\n            <LinearLayout\n                android:id=\"@+id/sobot_btn_cancle\"\n                android:layout_width=\"60dp\"\n                android:layout_height=\"40dp\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_alignParentEnd=\"true\">\n\n                <TextView\n                    android:layout_width=\"15dp\"\n                    android:layout_height=\"15dp\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"25dp\"\n                    android:background=\"@drawable/sobot_icon_evaluation_cancel\"\n                    android:layout_marginStart=\"25dp\" />\n            </LinearLayout>\n        </RelativeLayout>\n\n        <View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"@dimen/sobot_line_height_0_4_dp\"\n            android:background=\"@color/sobot_line_1dp\" />\n\n        <GridView\n            android:id=\"@+id/sobot_gv_skill\"\n            style=\"@style/sobot_grid_view\"\n            android:layout_height=\"wrap_content\"\n            android:horizontalSpacing=\"6dp\"\n            android:paddingLeft=\"20dp\"\n            android:paddingTop=\"20dp\"\n            android:paddingRight=\"20dp\"\n            android:paddingBottom=\"26dp\"\n            android:scrollbarSize=\"10dp\"\n            android:scrollbarThumbVertical=\"@drawable/sobot_custom_scroll_style\"\n            android:verticalSpacing=\"20dp\"\n            android:paddingStart=\"20dp\"\n            android:paddingEnd=\"20dp\" />\n\n    </com.sobot.chat.widget.SobotMHLinearLayout>\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/res/layout/sobot_activity_skill_group.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/res/layout/sobot_activity_skill_group.xml	(date 1628135719000)
@@ -27,12 +27,12 @@
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:layout_centerInParent="true"
-                android:gravity="center"
-                android:layout_marginRight="40dp"
+                android:layout_marginStart="40dp"
                 android:layout_marginLeft="40dp"
-                android:orientation="vertical"
                 android:layout_marginEnd="40dp"
-                android:layout_marginStart="40dp">
+                android:layout_marginRight="40dp"
+                android:gravity="center"
+                android:orientation="vertical">
 
                 <TextView
                     android:id="@+id/sobot_tv_title"
@@ -48,16 +48,16 @@
                 android:id="@+id/sobot_btn_cancle"
                 android:layout_width="60dp"
                 android:layout_height="40dp"
-                android:layout_alignParentRight="true"
-                android:layout_alignParentEnd="true">
+                android:layout_alignParentEnd="true"
+                android:layout_alignParentRight="true">
 
                 <TextView
                     android:layout_width="15dp"
                     android:layout_height="15dp"
                     android:layout_gravity="center_vertical"
+                    android:layout_marginStart="25dp"
                     android:layout_marginLeft="25dp"
-                    android:background="@drawable/sobot_icon_evaluation_cancel"
-                    android:layout_marginStart="25dp" />
+                    android:background="@drawable/sobot_icon_evaluation_cancel" />
             </LinearLayout>
         </RelativeLayout>
 
@@ -66,20 +66,15 @@
             android:layout_height="@dimen/sobot_line_height_0_4_dp"
             android:background="@color/sobot_line_1dp" />
 
-        <GridView
-            android:id="@+id/sobot_gv_skill"
+        <androidx.recyclerview.widget.RecyclerView
+            android:id="@+id/sobot_rcy_skill"
             style="@style/sobot_grid_view"
             android:layout_height="wrap_content"
             android:horizontalSpacing="6dp"
-            android:paddingLeft="20dp"
-            android:paddingTop="20dp"
-            android:paddingRight="20dp"
-            android:paddingBottom="26dp"
+            android:padding="20dp"
             android:scrollbarSize="10dp"
             android:scrollbarThumbVertical="@drawable/sobot_custom_scroll_style"
-            android:verticalSpacing="20dp"
-            android:paddingStart="20dp"
-            android:paddingEnd="20dp" />
+            android:verticalSpacing="20dp" />
 
     </com.sobot.chat.widget.SobotMHLinearLayout>
 </LinearLayout>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.cursoradapter:cursoradapter:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0848f7edc5d9a57114f7a1dfd7cfe789/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/6fe0d16fb46f63e14c79be534d57860f/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/6fe0d16fb46f63e14c79be534d57860f/res" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/6fe0d16fb46f63e14c79be534d57860f/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.cursoradapter/cursoradapter/1.0.0/1e323083b41c31fd4d45510dfce50614963c3c6c/cursoradapter-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.coordinatorlayout:coordinatorlayout:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.coordinatorlayout:coordinatorlayout:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/658e9fe20f765827613d32999c4f7775/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/299e1343719616c24de010f707c4f499/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/658e9fe20f765827613d32999c4f7775/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/658e9fe20f765827613d32999c4f7775/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/658e9fe20f765827613d32999c4f7775/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.coordinatorlayout/coordinatorlayout/1.0.0/4325b3c4422ad58201ed8dc15ae56bda9accedf2/coordinatorlayout-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateDialog.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.widget.dialog;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport androidx.annotation.IdRes;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.StyleRes;\nimport androidx.core.content.ContextCompat;\nimport android.text.TextUtils;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.RatingBar;\nimport android.widget.TextView;\n\nimport com.sobot.chat.api.ResultCallBack;\nimport com.sobot.chat.api.ZhiChiApi;\nimport com.sobot.chat.api.apiUtils.ZhiChiConstants;\nimport com.sobot.chat.api.model.CommonModel;\nimport com.sobot.chat.api.model.Information;\nimport com.sobot.chat.api.model.SatisfactionSet;\nimport com.sobot.chat.api.model.SatisfactionSetBase;\nimport com.sobot.chat.api.model.SobotCommentParam;\nimport com.sobot.chat.api.model.ZhiChiInitModeBase;\nimport com.sobot.chat.core.channel.SobotMsgManager;\nimport com.sobot.chat.core.http.OkHttpUtils;\nimport com.sobot.chat.core.http.callback.StringResultCallBack;\nimport com.sobot.chat.utils.ChatUtils;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.LogUtils;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.ScreenUtils;\nimport com.sobot.chat.utils.SharedPreferencesUtil;\nimport com.sobot.chat.utils.ToastUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\nimport com.sobot.chat.widget.SobotEditTextLayout;\nimport com.sobot.chat.widget.SobotTenRatingLayout;\nimport com.sobot.chat.widget.dialog.base.SobotActionSheet;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * 评价界面的显示\n * Created by jinxl on 2017/6/12.\n */\npublic class SobotEvaluateDialog extends SobotActionSheet {\n    private final String CANCEL_TAG = SobotEvaluateDialog.class.getSimpleName();\n    private Activity context;\n    private int score;//默认 选中几颗星 从前面界面传过来\n    private int isSolve;//默认 是否已解决 从前面界面传过来  0 是已解决  1 未解决\n    private boolean isFinish;\n    private boolean isExitSession;\n    private boolean isSessionOver;//当前会话是否结束\n    private boolean canBackWithNotEvaluation;//是否显示暂不评价\n    private boolean isBackShowEvaluate;//是否是 返回时弹出评价框\n    private ZhiChiInitModeBase initModel;\n    private Information information;\n    private int current_model;\n    private int commentType;/*commentType 评价类型 主动评价1 邀请评价0*/\n    private String customName;\n    private List<SatisfactionSetBase> satisFactionList;\n    private SatisfactionSetBase satisfactionSetBase;\n    private LinearLayout sobot_negativeButton;\n    private LinearLayout coustom_pop_layout;\n    private LinearLayout sobot_robot_relative;//评价 机器人布局\n    private LinearLayout sobot_custom_relative;//评价人工布局\n    private LinearLayout sobot_hide_layout;//评价机器人和人工未解决时显示出来的布局\n    private RadioGroup sobot_readiogroup;//\n    private RadioButton sobot_btn_ok_robot;//评价  已解决\n    private RadioButton sobot_btn_no_robot;//评价  未解决\n    private Button sobot_close_now;//提交评价按钮\n    private View sobot_ratingBar_split_view;//如果有已解决按钮和未解决按钮就显示，否则隐藏；\n\n    private EditText sobot_add_content;//评价  添加建议\n    private TextView sobot_tv_evaluate_title;//评价   当前是评价机器人还是评价人工客服\n    private TextView sobot_robot_center_title;//评价  机器人或人工是否解决了问题的标题\n    private TextView sobot_text_other_problem;//评价  机器人或人工客服存在哪些问题的标题\n    private TextView sobot_custom_center_title;//评价  对 哪个人工客服 打分  的标题\n    private TextView sobot_ratingBar_title;//评价  对人工客服打分不同显示不同的内容\n    private TextView sobot_evaluate_cancel;//评价  暂不评价\n    private TextView sobot_tv_evaluate_title_hint;//评价  提交后结束评价\n    private RatingBar sobot_ratingBar;//评价  打分\n    private LinearLayout sobot_ten_root_ll;//评价  十分全布局\n    private TextView sobot_ten_very_dissatisfied;//评价 非常不满意\n    private TextView sobot_ten_very_satisfaction;//评价  非常满意\n    private SobotTenRatingLayout sobot_ten_rating_ll;//评价  十分 父布局 动态添加10个textview\n    private int ratingType;//评价  类型   0 5星 ；1 十分 默认5星\n\n    private String evaluateChecklables;//主动邀请评价选中的标签\n    private LinearLayout sobot_evaluate_ll_lable1;//评价  用来放前两个标签，标签最多可以有六个\n    private LinearLayout sobot_evaluate_ll_lable2;//评价  用来放中间两个标签\n    private LinearLayout sobot_evaluate_ll_lable3;//评价  用来放最后两个标签\n    private CheckBox sobot_evaluate_cb_lable1;//六个评价标签\n    private CheckBox sobot_evaluate_cb_lable2;\n    private CheckBox sobot_evaluate_cb_lable3;\n    private CheckBox sobot_evaluate_cb_lable4;\n    private CheckBox sobot_evaluate_cb_lable5;\n    private CheckBox sobot_evaluate_cb_lable6;\n    private SobotEditTextLayout setl_submit_content;//评价框\n\n    private List<CheckBox> checkBoxList = new ArrayList<>();\n\n    public SobotEvaluateDialog(Activity context) {\n        super(context);\n    }\n\n    public SobotEvaluateDialog(Activity context, boolean isFinish, boolean isExitSession, ZhiChiInitModeBase initModel, int current_model, int commentType, String customName, int score) {\n        super(context);\n        this.context = context;\n        this.score = score;\n        this.isFinish = isFinish;\n        this.isExitSession = isExitSession;\n        this.initModel = initModel;\n        this.current_model = current_model;\n        this.commentType = commentType;\n        this.customName = customName;\n    }\n\n    public SobotEvaluateDialog(Activity context, boolean isSessionOver, boolean isFinish, boolean isExitSession, ZhiChiInitModeBase initModel, int current_model, int commentType, String customName, int score, int isSolve, String checklables, boolean isBackShowEvaluate, boolean canBackWithNotEvaluation) {\n        super(context);\n        this.context = context;\n        this.score = score;\n        this.isSessionOver = isSessionOver;\n        this.isFinish = isFinish;\n        this.isExitSession = isExitSession;\n        this.initModel = initModel;\n        this.current_model = current_model;\n        this.commentType = commentType;\n        this.customName = customName;\n        this.isSolve = isSolve;\n        this.evaluateChecklables = checklables;\n        this.isBackShowEvaluate = isBackShowEvaluate;\n        this.canBackWithNotEvaluation = canBackWithNotEvaluation;\n    }\n\n    public SobotEvaluateDialog(Activity context, boolean isSessionOver, boolean isFinish, boolean isExitSession, ZhiChiInitModeBase initModel, int current_model, int commentType, String customName, int score, int isSolve, String checklables, boolean isBackShowEvaluate, boolean canBackWithNotEvaluation, @StyleRes int themeResId) {\n        super(context, themeResId);\n        this.context = context;\n        this.score = score;\n        this.isSessionOver = isSessionOver;\n        this.isFinish = isFinish;\n        this.isExitSession = isExitSession;\n        this.initModel = initModel;\n        this.current_model = current_model;\n        this.commentType = commentType;\n        this.customName = customName;\n        this.isSolve = isSolve;\n        this.evaluateChecklables = checklables;\n        this.isBackShowEvaluate = isBackShowEvaluate;\n        this.canBackWithNotEvaluation = canBackWithNotEvaluation;\n    }\n\n    @Override\n    protected String getLayoutStrName() {\n        return \"sobot_layout_evaluate\";\n    }\n\n    @Override\n    protected View getDialogContainer() {\n        if (coustom_pop_layout == null) {\n            coustom_pop_layout = (LinearLayout) findViewById(getResId(\"sobot_evaluate_container\"));\n        }\n        return coustom_pop_layout;\n    }\n\n    @Override\n    protected void initView() {\n        information = (Information) SharedPreferencesUtil.getObject(getContext(), \"sobot_last_current_info\");\n        sobot_close_now = (Button) findViewById(getResId(\"sobot_close_now\"));\n        sobot_close_now.setText(ResourceUtils.getResString(context, \"sobot_btn_submit_text\"));\n        sobot_readiogroup = (RadioGroup) findViewById(getResId(\"sobot_readiogroup\"));\n        sobot_tv_evaluate_title = (TextView) findViewById(getResId(\"sobot_tv_evaluate_title\"));\n        sobot_tv_evaluate_title.setText(ResourceUtils.getResString(context, \"sobot_robot_customer_service_evaluation\"));\n        sobot_robot_center_title = (TextView) findViewById(getResId(\"sobot_robot_center_title\"));\n        sobot_robot_center_title.setText(ResourceUtils.getResString(context, \"sobot_question\"));\n        sobot_text_other_problem = (TextView) findViewById(getResId(\"sobot_text_other_problem\"));\n        sobot_custom_center_title = (TextView) findViewById(getResId(\"sobot_custom_center_title\"));\n        sobot_custom_center_title.setText(ResourceUtils.getResString(context, \"sobot_please_evaluate\"));\n        sobot_ratingBar_title = (TextView) findViewById(getResId(\"sobot_ratingBar_title\"));\n        sobot_ratingBar_title.setText(ResourceUtils.getResString(context, \"sobot_great_satisfaction\"));\n        sobot_tv_evaluate_title_hint = (TextView) findViewById(getResId(\"sobot_tv_evaluate_title_hint\"));\n        sobot_evaluate_cancel = (TextView) findViewById(getResId(\"sobot_evaluate_cancel\"));\n        sobot_evaluate_cancel.setText(ResourceUtils.getResString(context, \"sobot_temporarily_not_evaluation\"));\n        sobot_ratingBar_split_view = findViewById(ResourceUtils.getIdByName(context, \"id\",\n                \"sobot_ratingBar_split_view\"));\n        sobot_negativeButton = (LinearLayout) findViewById(getResId(\"sobot_negativeButton\"));\n        sobot_negativeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                SobotEvaluateDialog.this.dismiss();\n            }\n        });\n        if (information != null && information.isCanBackWithNotEvaluation()) {\n            if (canBackWithNotEvaluation) {\n                sobot_evaluate_cancel.setVisibility(View.VISIBLE);\n            } else {\n                sobot_evaluate_cancel.setVisibility(View.GONE);\n            }\n        } else {\n            sobot_evaluate_cancel.setVisibility(View.GONE);\n        }\n\n        sobot_ratingBar = (RatingBar) findViewById(getResId(\"sobot_ratingBar\"));\n        sobot_ten_root_ll = findViewById(getResId(\"sobot_ten_root_ll\"));\n        sobot_ten_rating_ll = findViewById(getResId(\"sobot_ten_rating_ll\"));\n        sobot_ten_very_dissatisfied= findViewById(getResId(\"sobot_ten_very_dissatisfied\"));\n        sobot_ten_very_satisfaction= findViewById(getResId(\"sobot_ten_very_satisfaction\"));\n        sobot_ten_very_dissatisfied.setText(ResourceUtils.getResString(context, \"sobot_very_dissatisfied\"));\n        sobot_ten_very_satisfaction.setText(ResourceUtils.getResString(context, \"sobot_great_satisfaction\"));\n\n        sobot_evaluate_ll_lable1 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable1\"));\n        sobot_evaluate_ll_lable2 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable2\"));\n        sobot_evaluate_ll_lable3 = (LinearLayout) findViewById(getResId(\"sobot_evaluate_ll_lable3\"));\n        sobot_evaluate_cb_lable1 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable1\"));\n        sobot_evaluate_cb_lable2 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable2\"));\n        sobot_evaluate_cb_lable3 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable3\"));\n        sobot_evaluate_cb_lable4 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable4\"));\n        sobot_evaluate_cb_lable5 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable5\"));\n        sobot_evaluate_cb_lable6 = (CheckBox) findViewById(getResId(\"sobot_evaluate_cb_lable6\"));\n        checkBoxList.add(sobot_evaluate_cb_lable1);\n        checkBoxList.add(sobot_evaluate_cb_lable2);\n        checkBoxList.add(sobot_evaluate_cb_lable3);\n        checkBoxList.add(sobot_evaluate_cb_lable4);\n        checkBoxList.add(sobot_evaluate_cb_lable5);\n        checkBoxList.add(sobot_evaluate_cb_lable6);\n        sobot_add_content = (EditText) findViewById(getResId(\"sobot_add_content\"));\n        sobot_add_content.setHint(ResourceUtils.getResString(context, \"sobot_edittext_hint\"));\n        sobot_btn_ok_robot = (RadioButton) findViewById(getResId(\"sobot_btn_ok_robot\"));\n        sobot_btn_ok_robot.setText(ResourceUtils.getResString(context, \"sobot_evaluate_yes\"));\n        sobot_btn_ok_robot.setChecked(true);\n        sobot_btn_no_robot = (RadioButton) findViewById(getResId(\"sobot_btn_no_robot\"));\n        sobot_btn_no_robot.setText(ResourceUtils.getResString(context, \"sobot_evaluate_no\"));\n        sobot_robot_relative = (LinearLayout) findViewById(getResId(\"sobot_robot_relative\"));\n        sobot_custom_relative = (LinearLayout) findViewById(getResId(\"sobot_custom_relative\"));\n        sobot_hide_layout = (LinearLayout) findViewById(getResId(\"sobot_hide_layout\"));\n        setl_submit_content = (SobotEditTextLayout) findViewById(getResId(\"setl_submit_content\"));\n\n        setViewGone();\n        setViewListener();\n        if (ScreenUtils.isFullScreen(context)) {\n            getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\n        }\n    }\n\n    @Override\n    protected void initData() {\n        if (current_model == ZhiChiConstant.client_model_customService) {\n            ZhiChiApi zhiChiApi = SobotMsgManager.getInstance(context).getZhiChiApi();\n            zhiChiApi.satisfactionMessage(CANCEL_TAG, initModel.getPartnerid(), new ResultCallBack<SatisfactionSet>() {\n                @Override\n                public void onSuccess(SatisfactionSet satisfactionSet) {\n                    if (satisfactionSet != null && \"1\".equals(satisfactionSet.getCode()) && satisfactionSet.getData() != null && satisfactionSet.getData().size() != 0) {\n                        satisFactionList = satisfactionSet.getData();\n                        if (commentType == 1) {\n                            //主动评价需要判断默认星级\n                            if (satisFactionList.get(0) != null && satisFactionList.get(0).getDefaultType() != -1) {\n                                if (satisFactionList.get(0).getScoreFlag() == 0) {\n                                    //defaultType 0-默认5星,1-默认0星\n                                    score = (satisFactionList.get(0).getDefaultType() == 0) ? 5 : 0;\n                                    sobot_ten_root_ll.setVisibility(View.GONE);\n                                    sobot_ratingBar.setVisibility(View.VISIBLE);\n                                    ratingType = 0;//5星\n                                } else {\n                                    sobot_ten_root_ll.setVisibility(View.VISIBLE);\n                                    sobot_ratingBar.setVisibility(View.GONE);\n                                    ratingType = 1;//十分\n                                    // defaultType 0-默认10分,1-默认5分,2-默认0分\n                                    if (satisFactionList.get(0).getDefaultType() == 2) {\n                                        score = 0;\n                                    } else if (satisFactionList.get(0).getDefaultType() == 1) {\n                                        score = 5;\n                                    } else {\n                                        score = 10;\n                                    }\n                                }\n                            }\n                        } else {\n                            if (satisFactionList.get(0) != null && satisFactionList.get(0).getDefaultType() != -1) {\n                                if (satisFactionList.get(0).getScoreFlag() == 0) {\n                                    //defaultType 0-默认5星,1-默认0星\n                                    sobot_ten_root_ll.setVisibility(View.GONE);\n                                    sobot_ratingBar.setVisibility(View.VISIBLE);\n                                    ratingType = 0;//5星\n                                } else {\n                                    sobot_ten_root_ll.setVisibility(View.VISIBLE);\n                                    sobot_ratingBar.setVisibility(View.GONE);\n                                    ratingType = 1;//十分\n                                }\n                            }\n                        }\n                        if (ratingType == 0) {\n                            if (score == -1) {\n                                score = 5;\n                            }\n                            sobot_ratingBar.setRating(score);\n                        } else {\n                            if (score == -1) {\n                                score = 10;\n                            }\n                            sobot_ten_rating_ll.init(score, true);\n                        }\n\n                        if (isSolve == 0) {\n                            sobot_btn_ok_robot.setChecked(true);\n                            sobot_btn_no_robot.setChecked(false);\n                        } else {\n                            sobot_btn_ok_robot.setChecked(false);\n                            sobot_btn_no_robot.setChecked(true);\n                        }\n\n                        setCustomLayoutViewVisible(score, satisFactionList);\n                        if (ratingType == 0) {\n                            if (0 == score) {\n                                sobot_close_now.setVisibility(View.GONE);\n                                sobot_ratingBar_title.setText(ResourceUtils.getResString(getContext(), \"sobot_evaluate_zero_score_des\"));\n                                sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_common_gray3\")));\n                            } else {\n                                sobot_close_now.setVisibility(View.VISIBLE);\n                                if (satisfactionSetBase != null) {\n                                    sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n                                }\n                                sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n                            }\n                        } else {\n                            sobot_close_now.setVisibility(View.VISIBLE);\n                            if (satisfactionSetBase != null) {\n                                sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n                            }\n                            sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n\n                        }\n\n                        if (satisFactionList.get(0).getIsQuestionFlag()) {\n                            sobot_robot_relative.setVisibility(View.VISIBLE);\n                            sobot_ratingBar_split_view.setVisibility(View.VISIBLE);\n                        } else {\n                            sobot_robot_relative.setVisibility(View.GONE);\n                            sobot_ratingBar_split_view.setVisibility(View.GONE);\n                        }\n                    }\n                }\n\n                @Override\n                public void onFailure(Exception e, String des) {\n                }\n\n                @Override\n                public void onLoading(long total, long current, boolean isUploading) {\n                }\n            });\n        }\n    }\n\n    private void setViewListener() {\n        sobot_ratingBar.setOnRatingBarChangeListener(new RatingBar.OnRatingBarChangeListener() {\n            @Override\n            public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\n                sobot_close_now.setVisibility(View.VISIBLE);\n                int score = (int) Math.ceil(sobot_ratingBar.getRating());\n                if (score == 0) {\n                    sobot_ratingBar.setRating(1);\n                }\n                if (score > 0 && score <= 5) {\n                    sobot_close_now.setSelected(true);\n                    setCustomLayoutViewVisible(score, satisFactionList);\n                }\n            }\n        });\n\n        sobot_readiogroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\n                if (current_model == ZhiChiConstant.client_model_robot && initModel != null) {\n                    if (checkedId == getResId(\"sobot_btn_ok_robot\")) {\n                        sobot_hide_layout.setVisibility(View.GONE);\n                        setl_submit_content.setVisibility(View.GONE);\n                    } else if (checkedId == getResId(\"sobot_btn_no_robot\")) {\n                        sobot_hide_layout.setVisibility(View.VISIBLE);\n                        setl_submit_content.setVisibility(View.VISIBLE);\n                        String tmpData[] = convertStrToArray(initModel.getRobotCommentTitle());\n                        if (tmpData != null && tmpData.length > 0) {\n                            setLableViewVisible(tmpData);\n                        } else {\n                            sobot_hide_layout.setVisibility(View.GONE);\n                        }\n                    }\n                }\n            }\n        });\n\n        sobot_close_now.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                subMitEvaluate();\n            }\n        });\n\n        sobot_evaluate_cancel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dismiss();\n                Intent intent = new Intent();\n                intent.setAction(ZhiChiConstants.sobot_close_now);\n                LogUtils.i(\"isBackShowEvaluate:  \" + isBackShowEvaluate + \"--------canBackWithNotEvaluation:   \" + canBackWithNotEvaluation);\n                intent.putExtra(\"isBackShowEvaluate\", isBackShowEvaluate);\n                CommonUtils.sendLocalBroadcast(context.getApplicationContext(), intent);\n            }\n        });\n        //监听10分评价选择变化\n        if (sobot_ten_rating_ll != null) {\n            sobot_ten_rating_ll.setOnClickItemListener(new SobotTenRatingLayout.OnClickItemListener() {\n                @Override\n                public void onClickItem(int selectIndex) {\n                    sobot_close_now.setVisibility(View.VISIBLE);\n                    sobot_close_now.setSelected(true);\n                    setCustomLayoutViewVisible(selectIndex, satisFactionList);\n                }\n            });\n        }\n    }\n\n    @Override\n    public void dismiss() {\n        try {\n            if (isShowing()) {\n                super.dismiss();\n            }\n        } catch (Exception e) {\n//            e.printStackTrace();\n        }\n    }\n\n    private void setViewGone() {\n        sobot_hide_layout.setVisibility(View.GONE);\n        setl_submit_content.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable1.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n        sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable1.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable2.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable3.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable4.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable5.setVisibility(View.GONE);\n        sobot_evaluate_cb_lable6.setVisibility(View.GONE);\n\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            sobot_tv_evaluate_title.setText(getResString(\"sobot_robot_customer_service_evaluation\"));\n            sobot_robot_center_title.setText(initModel.getRobotName() + \"\" + ChatUtils.getResString(context, \"sobot_question\"));\n            sobot_robot_relative.setVisibility(View.VISIBLE);\n            sobot_custom_relative.setVisibility(View.GONE);\n        } else {\n            boolean isExitTalk = SharedPreferencesUtil.getBooleanData(context, ZhiChiConstant.SOBOT_CHAT_EVALUATION_COMPLETED_EXIT, false);\n            if (isExitTalk && !isSessionOver) {//设置了评价关闭且当前会话没有结束\n                sobot_tv_evaluate_title_hint.setText(getResString(\"sobot_evaluation_completed_exit\"));\n                sobot_tv_evaluate_title_hint.setVisibility(View.VISIBLE);\n            } else {\n                sobot_tv_evaluate_title_hint.setVisibility(View.GONE);\n            }\n            sobot_tv_evaluate_title.setText(getResString(\"sobot_please_evaluate_this_service\"));\n            sobot_robot_center_title.setText(customName + \" \" + ChatUtils.getResString(context, \"sobot_question\"));\n            sobot_custom_center_title.setText(customName + \" \" + ChatUtils.getResString(context, \"sobot_please_evaluate\"));\n            sobot_robot_relative.setVisibility(View.GONE);\n            sobot_custom_relative.setVisibility(View.VISIBLE);\n        }\n    }\n\n    //设置人工客服评价的布局显示逻辑\n    private void setCustomLayoutViewVisible(int score, List<SatisfactionSetBase> satisFactionList) {\n        satisfactionSetBase = getSatisFaction(score, satisFactionList);\n        for (int i = 0; i < checkBoxList.size(); i++) {\n            checkBoxList.get(i).setChecked(false);\n        }\n        if (satisfactionSetBase != null) {\n            sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n            sobot_ratingBar_title.setTextColor(ContextCompat.getColor(getContext(), ResourceUtils.getResColorId(getContext(), \"sobot_color_evaluate_ratingBar_des_tv\")));\n            if (!TextUtils.isEmpty(satisfactionSetBase.getInputLanguage())) {\n                if (satisfactionSetBase.getIsInputMust()) {\n                    sobot_add_content.setHint(getResString(\"sobot_required\") + satisfactionSetBase.getInputLanguage().replace(\"<br/>\", \"\\n\"));\n                } else {\n                    sobot_add_content.setHint(satisfactionSetBase.getInputLanguage().replace(\"<br/>\", \"\\n\"));\n                }\n            } else {\n                sobot_add_content.setHint(String.format(ChatUtils.getResString(context, \"sobot_edittext_hint\")));\n            }\n\n            if (!TextUtils.isEmpty(satisfactionSetBase.getLabelName())) {\n                String tmpData[] = convertStrToArray(satisfactionSetBase.getLabelName());\n                setLableViewVisible(tmpData);\n            } else {\n                setLableViewVisible(null);\n            }\n            //根据infomation 配置是否隐藏星星评价描述\n            if (!information.isHideManualEvaluationLabels()) {\n                sobot_ratingBar_title.setVisibility(View.VISIBLE);\n            } else {\n                sobot_ratingBar_title.setVisibility(View.GONE);\n            }\n            if (score == 5) {\n                //sobot_hide_layout.setVisibility(View.GONE);\n                setl_submit_content.setVisibility(View.VISIBLE);\n                sobot_ratingBar_title.setText(satisfactionSetBase.getScoreExplain());\n            } else {\n                setl_submit_content.setVisibility(View.VISIBLE);\n            }\n        } else {\n            //根据infomation 配置是否隐藏星星评价描述\n            if (!information.isHideManualEvaluationLabels()) {\n                sobot_ratingBar_title.setVisibility(View.VISIBLE);\n            } else {\n                sobot_ratingBar_title.setVisibility(View.GONE);\n            }\n        }\n    }\n\n    private SatisfactionSetBase getSatisFaction(int score, List<SatisfactionSetBase> satisFactionList) {\n        if (satisFactionList == null) {\n            return null;\n        }\n        for (int i = 0; i < satisFactionList.size(); i++) {\n            if (satisFactionList.get(i).getScore().equals(score + \"\")) {\n                return satisFactionList.get(i);\n            }\n        }\n        return null;\n    }\n\n    //设置评价标签的显示逻辑\n    private void setLableViewVisible(String tmpData[]) {\n        if (tmpData == null) {\n            sobot_hide_layout.setVisibility(View.GONE);\n            return;\n        } else {\n            if (current_model == ZhiChiConstant.client_model_robot && initModel != null) {\n                //根据infomation 配置是否隐藏机器人评价标签\n                if (!information.isHideRototEvaluationLabels()) {\n                    sobot_hide_layout.setVisibility(View.VISIBLE);\n                } else {\n                    sobot_hide_layout.setVisibility(View.GONE);\n                }\n            }\n            if (current_model == ZhiChiConstant.client_model_customService && initModel != null) {\n                //根据infomation 配置是否隐藏人工评价标签\n                if (!information.isHideManualEvaluationLabels()) {\n                    sobot_hide_layout.setVisibility(View.VISIBLE);\n                } else {\n                    sobot_hide_layout.setVisibility(View.GONE);\n                }\n            }\n            if (current_model == ZhiChiConstant.client_model_customService) {\n                if (satisfactionSetBase != null) {\n                    if (TextUtils.isEmpty(satisfactionSetBase.getTagTips())) {\n                        sobot_text_other_problem.setVisibility(View.GONE);\n                    } else {\n                        sobot_text_other_problem.setVisibility(View.VISIBLE);\n                        if (satisfactionSetBase.getIsTagMust()) {\n                            sobot_text_other_problem.setText(satisfactionSetBase.getTagTips());\n                        } else {\n                            sobot_text_other_problem.setText(satisfactionSetBase.getTagTips());\n                        }\n                    }\n                }\n            }\n        }\n        switch (tmpData.length) {\n            case 1:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                break;\n            case 2:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.GONE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                break;\n            case 3:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                break;\n            case 4:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.GONE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                break;\n            case 5:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable5.setText(tmpData[4]);\n                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable6.setVisibility(View.INVISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);\n                break;\n            case 6:\n                sobot_evaluate_cb_lable1.setText(tmpData[0]);\n                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable2.setText(tmpData[1]);\n                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable3.setText(tmpData[2]);\n                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable4.setText(tmpData[3]);\n                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable5.setText(tmpData[4]);\n                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);\n                sobot_evaluate_cb_lable6.setText(tmpData[5]);\n                sobot_evaluate_cb_lable6.setVisibility(View.VISIBLE);\n                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);\n                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);\n                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);\n                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);\n                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);\n                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);\n                checkLable(tmpData, 5, sobot_evaluate_cb_lable6);\n                break;\n            default:\n                break;\n        }\n    }\n\n    //检查标签是否选中（根据主动邀评传过来的选中标签判断）\n    private void checkLable(String tmpData[], int pos, CheckBox cb) {\n        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && cb != null) {\n            if (evaluateChecklables.contains(tmpData[pos])) {\n                cb.setChecked(true);\n            } else {\n                cb.setChecked(false);\n            }\n        }\n    }\n\n    private int getResovled() {\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            if (sobot_btn_ok_robot.isChecked()) {\n                return 0;\n            } else {\n                return 1;\n            }\n        } else if (current_model == ZhiChiConstant.client_model_customService) {\n            if (satisfactionSetBase != null && satisfactionSetBase.getIsQuestionFlag()) {\n                if (sobot_btn_ok_robot.isChecked()) {\n                    return 0;\n                } else {\n                    return 1;\n                }\n            }\n        }\n        return -1;\n    }\n\n    private SobotCommentParam getCommentParam() {\n        SobotCommentParam param = new SobotCommentParam();\n        String type = current_model == ZhiChiConstant.client_model_robot ? \"0\" : \"1\";\n        int score;\n        if (ratingType == 0) {\n            param.setScoreFlag(0);//5星\n            score = (int) Math.ceil(sobot_ratingBar.getRating());\n        } else {\n            param.setScoreFlag(1);//10分\n            score = sobot_ten_rating_ll.getSelectContent();\n        }\n\n        String problem = checkBoxIsChecked();\n        String suggest = sobot_add_content.getText().toString();\n        param.setType(type);\n        param.setProblem(problem);\n        param.setSuggest(suggest);\n        param.setIsresolve(getResovled());\n        param.setCommentType(commentType);\n        if (current_model == ZhiChiConstant.client_model_robot) {\n            param.setRobotFlag(initModel.getRobotid());\n        } else {\n            param.setScore(score + \"\");\n        }\n        return param;\n    }\n\n    //提交评价\n    private void subMitEvaluate() {\n        if (!checkInput()) {\n            return;\n        }\n\n        comment();\n    }\n\n    /**\n     * 检查是否能提交评价\n     *\n     * @return\n     */\n    private boolean checkInput() {\n        if (current_model == ZhiChiConstant.client_model_customService) {\n            if (satisfactionSetBase != null) {\n                SobotCommentParam commentParam = getCommentParam();\n                if (!TextUtils.isEmpty(satisfactionSetBase.getLabelName()) && satisfactionSetBase.getIsTagMust()) {\n                    if (TextUtils.isEmpty(commentParam.getProblem()) && !information.isHideManualEvaluationLabels()) {\n                        ToastUtil.showToast(context, getResString(\"sobot_the_label_is_required\"));//标签必选\n                        return false;\n                    }\n                }\n\n                if (satisfactionSetBase.getIsInputMust()) {\n                    if (TextUtils.isEmpty(commentParam.getSuggest().trim())) {\n                        ToastUtil.showToast(context, getResString(\"sobot_suggestions_are_required\"));//建议必填\n                        return false;\n                    }\n                }\n            }\n        } else if (current_model == ZhiChiConstant.client_model_robot) {\n            return true;\n        }\n\n        return true;\n    }\n\n    // 使用String的split 方法把字符串截取为字符串数组\n    private static String[] convertStrToArray(String str) {\n        String[] strArray = null;\n        if (!TextUtils.isEmpty(str)) {\n            strArray = str.split(\",\"); // 拆分字符为\",\" ,然后把结果交给数组strArray\n        }\n        return strArray;\n    }\n\n    //提交评价调用接口\n    private void comment() {\n\n        ZhiChiApi zhiChiApi = SobotMsgManager.getInstance(context).getZhiChiApi();\n        final SobotCommentParam commentParam = getCommentParam();\n        zhiChiApi.comment(CANCEL_TAG, initModel.getCid(), initModel.getPartnerid(), commentParam,\n                new StringResultCallBack<CommonModel>() {\n                    @Override\n                    public void onSuccess(CommonModel result) {\n                        //评论成功 发送广播\n                        Intent intent = new Intent();\n                        intent.setAction(ZhiChiConstants.dcrc_comment_state);\n                        intent.putExtra(\"commentState\", true);\n                        intent.putExtra(\"isFinish\", isFinish);\n                        intent.putExtra(\"isExitSession\", isExitSession);\n                        intent.putExtra(\"commentType\", commentType);\n                        if (!TextUtils.isEmpty(commentParam.getScore())) {\n                            intent.putExtra(\"score\", Integer.parseInt(commentParam.getScore()));\n                        }\n                        intent.putExtra(\"isResolved\", commentParam.getIsresolve());\n\n                        CommonUtils.sendLocalBroadcast(context, intent);\n                        dismiss();\n                    }\n\n                    @Override\n                    public void onFailure(Exception arg0, String msg) {\n                        try {\n                            ToastUtil.showToast(getContext(), msg);\n                        } catch (Exception e) {\n//                            e.printStackTrace();\n                        }\n                    }\n                });\n    }\n\n    //检测选中的标签\n    private String checkBoxIsChecked() {\n        String str = \"\";\n        for (int i = 0; i < checkBoxList.size(); i++) {\n            if (checkBoxList.get(i).isChecked()) {\n                str = str + checkBoxList.get(i).getText() + \",\";\n            }\n        }\n        if (str.length() > 0) {\n            str = str.substring(0, str.length() - 1);\n        }\n        return str + \"\";\n    }\n\n    @Override\n    public void onDetachedFromWindow() {\n        OkHttpUtils.getInstance().cancelTag(CANCEL_TAG);\n        super.onDetachedFromWindow();\n    }\n\n    @Override\n    public boolean dispatchTouchEvent(@NonNull MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {/*点击外部隐藏键盘*/\n            View v = getCurrentFocus();\n            if (isShouldHideInput(v, ev)) {\n\n                InputMethodManager imm = (InputMethodManager) getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n                if (imm != null) {\n                    imm.hideSoftInputFromWindow(v.getWindowToken(), 0);\n                }\n            }\n            return super.dispatchTouchEvent(ev);\n        }\n        // 必不可少，否则所有的组件都不会有TouchEvent了\n        if (getWindow().superDispatchTouchEvent(ev)) {\n            return true;\n        }\n        return onTouchEvent(ev);\n    }\n\n    /*是否在外部*/\n    public boolean isShouldHideInput(View v, MotionEvent event) {\n        if (v != null && (v instanceof EditText)) {\n            int[] leftTop = {0, 0};\n            //获取输入框当前的location位置\n            v.getLocationInWindow(leftTop);\n            int left = leftTop[0];\n            int top = leftTop[1];\n            int bottom = top + v.getHeight();\n            int right = left + v.getWidth();\n            if (event.getX() > left && event.getX() < right\n                    && event.getY() > top && event.getY() < bottom) {\n                // 点击的是输入框区域，保留点击EditText的事件\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateDialog.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateDialog.java	(date 1628135719000)
@@ -8,6 +8,7 @@
 import androidx.annotation.StyleRes;
 import androidx.core.content.ContextCompat;
 import android.text.TextUtils;
+import android.view.LayoutInflater;
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.ViewGroup;
@@ -33,6 +34,7 @@
 import com.sobot.chat.core.channel.SobotMsgManager;
 import com.sobot.chat.core.http.OkHttpUtils;
 import com.sobot.chat.core.http.callback.StringResultCallBack;
+import com.sobot.chat.notchlib.utils.ScreenUtil;
 import com.sobot.chat.utils.ChatUtils;
 import com.sobot.chat.utils.CommonUtils;
 import com.sobot.chat.utils.LogUtils;
@@ -41,6 +43,7 @@
 import com.sobot.chat.utils.SharedPreferencesUtil;
 import com.sobot.chat.utils.ToastUtil;
 import com.sobot.chat.utils.ZhiChiConstant;
+import com.sobot.chat.widget.SobotAntoLineLayout;
 import com.sobot.chat.widget.SobotEditTextLayout;
 import com.sobot.chat.widget.SobotTenRatingLayout;
 import com.sobot.chat.widget.dialog.base.SobotActionSheet;
@@ -96,15 +99,7 @@
     private int ratingType;//评价  类型   0 5星 ；1 十分 默认5星
 
     private String evaluateChecklables;//主动邀请评价选中的标签
-    private LinearLayout sobot_evaluate_ll_lable1;//评价  用来放前两个标签，标签最多可以有六个
-    private LinearLayout sobot_evaluate_ll_lable2;//评价  用来放中间两个标签
-    private LinearLayout sobot_evaluate_ll_lable3;//评价  用来放最后两个标签
-    private CheckBox sobot_evaluate_cb_lable1;//六个评价标签
-    private CheckBox sobot_evaluate_cb_lable2;
-    private CheckBox sobot_evaluate_cb_lable3;
-    private CheckBox sobot_evaluate_cb_lable4;
-    private CheckBox sobot_evaluate_cb_lable5;
-    private CheckBox sobot_evaluate_cb_lable6;
+    private SobotAntoLineLayout sobot_evaluate_lable_autoline;//评价 标签 自动换行 最多可以有六个
     private SobotEditTextLayout setl_submit_content;//评价框
 
     private List<CheckBox> checkBoxList = new ArrayList<>();
@@ -212,26 +207,12 @@
         sobot_ratingBar = (RatingBar) findViewById(getResId("sobot_ratingBar"));
         sobot_ten_root_ll = findViewById(getResId("sobot_ten_root_ll"));
         sobot_ten_rating_ll = findViewById(getResId("sobot_ten_rating_ll"));
-        sobot_ten_very_dissatisfied= findViewById(getResId("sobot_ten_very_dissatisfied"));
-        sobot_ten_very_satisfaction= findViewById(getResId("sobot_ten_very_satisfaction"));
+        sobot_ten_very_dissatisfied = findViewById(getResId("sobot_ten_very_dissatisfied"));
+        sobot_ten_very_satisfaction = findViewById(getResId("sobot_ten_very_satisfaction"));
         sobot_ten_very_dissatisfied.setText(ResourceUtils.getResString(context, "sobot_very_dissatisfied"));
         sobot_ten_very_satisfaction.setText(ResourceUtils.getResString(context, "sobot_great_satisfaction"));
 
-        sobot_evaluate_ll_lable1 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable1"));
-        sobot_evaluate_ll_lable2 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable2"));
-        sobot_evaluate_ll_lable3 = (LinearLayout) findViewById(getResId("sobot_evaluate_ll_lable3"));
-        sobot_evaluate_cb_lable1 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable1"));
-        sobot_evaluate_cb_lable2 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable2"));
-        sobot_evaluate_cb_lable3 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable3"));
-        sobot_evaluate_cb_lable4 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable4"));
-        sobot_evaluate_cb_lable5 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable5"));
-        sobot_evaluate_cb_lable6 = (CheckBox) findViewById(getResId("sobot_evaluate_cb_lable6"));
-        checkBoxList.add(sobot_evaluate_cb_lable1);
-        checkBoxList.add(sobot_evaluate_cb_lable2);
-        checkBoxList.add(sobot_evaluate_cb_lable3);
-        checkBoxList.add(sobot_evaluate_cb_lable4);
-        checkBoxList.add(sobot_evaluate_cb_lable5);
-        checkBoxList.add(sobot_evaluate_cb_lable6);
+        sobot_evaluate_lable_autoline = findViewById(getResId("sobot_evaluate_lable_autoline"));
         sobot_add_content = (EditText) findViewById(getResId("sobot_add_content"));
         sobot_add_content.setHint(ResourceUtils.getResString(context, "sobot_edittext_hint"));
         sobot_btn_ok_robot = (RadioButton) findViewById(getResId("sobot_btn_ok_robot"));
@@ -442,15 +423,7 @@
     private void setViewGone() {
         sobot_hide_layout.setVisibility(View.GONE);
         setl_submit_content.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable1.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-        sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable1.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable2.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable3.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable4.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable5.setVisibility(View.GONE);
-        sobot_evaluate_cb_lable6.setVisibility(View.GONE);
+        sobot_evaluate_lable_autoline.removeAllViews();
 
         if (current_model == ZhiChiConstant.client_model_robot) {
             sobot_tv_evaluate_title.setText(getResString("sobot_robot_customer_service_evaluation"));
@@ -533,6 +506,24 @@
         return null;
     }
 
+    //隐藏所有自动换行的标签
+    private void createChildLableView(SobotAntoLineLayout antoLineLayout, String tmpData[]) {
+        if (antoLineLayout != null) {
+            antoLineLayout.removeAllViews();
+            for (int i = 0; i < tmpData.length; i++) {
+                LayoutInflater inflater = getLayoutInflater();
+                View view = inflater.inflate(ResourceUtils.getResLayoutId(getContext(), "sobot_layout_evaluate_item"), null);
+                CheckBox checkBox = view.findViewById(ResourceUtils.getResId(getContext(), "sobot_evaluate_cb_lable"));
+                //50 =antoLineLayout 左间距20+右间距20 +antoLineLayout 子控件行间距10
+                checkBox.setMinWidth((ScreenUtil.getScreenSize(context)[0] - ScreenUtils.dip2px(getContext(), 50)) / 2);
+                checkBox.setText(tmpData[i]);
+                antoLineLayout.addView(view);
+                checkBoxList.add(checkBox);
+            }
+        }
+    }
+
+
     //设置评价标签的显示逻辑
     private void setLableViewVisible(String tmpData[]) {
         if (tmpData == null) {
@@ -570,115 +561,22 @@
                 }
             }
         }
-        switch (tmpData.length) {
-            case 1:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                break;
-            case 2:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.GONE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                break;
-            case 3:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                break;
-            case 4:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.GONE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                break;
-            case 5:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable5.setText(tmpData[4]);
-                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable6.setVisibility(View.INVISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);
-                break;
-            case 6:
-                sobot_evaluate_cb_lable1.setText(tmpData[0]);
-                sobot_evaluate_cb_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable2.setText(tmpData[1]);
-                sobot_evaluate_cb_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable1.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable3.setText(tmpData[2]);
-                sobot_evaluate_cb_lable3.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable4.setText(tmpData[3]);
-                sobot_evaluate_cb_lable4.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable2.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable5.setText(tmpData[4]);
-                sobot_evaluate_cb_lable5.setVisibility(View.VISIBLE);
-                sobot_evaluate_cb_lable6.setText(tmpData[5]);
-                sobot_evaluate_cb_lable6.setVisibility(View.VISIBLE);
-                sobot_evaluate_ll_lable3.setVisibility(View.VISIBLE);
-                checkLable(tmpData, 0, sobot_evaluate_cb_lable1);
-                checkLable(tmpData, 1, sobot_evaluate_cb_lable2);
-                checkLable(tmpData, 2, sobot_evaluate_cb_lable3);
-                checkLable(tmpData, 3, sobot_evaluate_cb_lable4);
-                checkLable(tmpData, 4, sobot_evaluate_cb_lable5);
-                checkLable(tmpData, 5, sobot_evaluate_cb_lable6);
-                break;
-            default:
-                break;
-        }
+        createChildLableView(sobot_evaluate_lable_autoline, tmpData);
+        checkLable(tmpData);
     }
 
     //检查标签是否选中（根据主动邀评传过来的选中标签判断）
-    private void checkLable(String tmpData[], int pos, CheckBox cb) {
-        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && cb != null) {
-            if (evaluateChecklables.contains(tmpData[pos])) {
-                cb.setChecked(true);
-            } else {
-                cb.setChecked(false);
+    private void checkLable(String tmpData[]) {
+        if (tmpData != null && tmpData.length > 0 && !TextUtils.isEmpty(evaluateChecklables) && sobot_evaluate_lable_autoline != null) {
+            for (int i = 0; i < tmpData.length; i++) {
+                CheckBox checkBox = (CheckBox) sobot_evaluate_lable_autoline.getChildAt(i);
+                if (checkBox != null) {
+                    if (evaluateChecklables.contains(tmpData[i])) {
+                        checkBox.setChecked(true);
+                    } else {
+                        checkBox.setChecked(false);
+                    }
+                }
             }
         }
     }
Index: .idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: org.jetbrains:annotations:13.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: org.jetbrains:annotations:13.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/5991ca87ef1fb5544943d9abc5a9a37583fabe03/annotations-13.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/SobotCustomTagHandler.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/SobotCustomTagHandler.java	(date 1628059581000)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/SobotCustomTagHandler.java	(date 1628059581000)
@@ -0,0 +1,238 @@
+package com.sobot.chat.utils;
+
+import android.content.Context;
+import android.content.res.ColorStateList;
+import android.content.res.Resources;
+import android.graphics.Color;
+import android.text.Editable;
+import android.text.Html;
+import android.text.Spannable;
+import android.text.Spanned;
+import android.text.TextUtils;
+import android.text.style.AbsoluteSizeSpan;
+import android.text.style.BackgroundColorSpan;
+import android.text.style.ForegroundColorSpan;
+import android.text.style.TextAppearanceSpan;
+import android.text.style.UnderlineSpan;
+import android.util.Log;
+
+import org.xml.sax.XMLReader;
+
+import java.lang.reflect.Field;
+import java.util.HashMap;
+import java.util.Map;
+import java.util.regex.Matcher;
+import java.util.regex.Pattern;
+
+
+/**
+ * 自定义的一html标签解析
+ * html 中的span 标签需要替换成 自定义的androidfont，因为高版本系统html.formhtml()已经识别了，就不会走自定义的
+ */
+public class SobotCustomTagHandler implements Html.TagHandler {
+
+    private final String TAG = "CustomTagHandler";
+
+    private int startIndex = 0;
+    private int stopIndex = 0;
+
+    private ColorStateList mOriginColors;
+    private Context mContext;
+
+    public SobotCustomTagHandler(Context context, ColorStateList originColors) {
+        mContext = context;
+        mOriginColors = originColors;
+    }
+
+    @Override
+    public void handleTag(boolean opening, String tag, Editable output,
+                          XMLReader xmlReader) {
+        processAttributes(xmlReader);
+
+        if (tag.equalsIgnoreCase("androidfont")) {
+            if (opening) {
+                startSpan(tag, output, xmlReader);
+            } else {
+                endSpan(tag, output, xmlReader);
+                attributes.clear();
+            }
+        }
+
+    }
+
+    public void startSpan(String tag, Editable output, XMLReader xmlReader) {
+        startIndex = output.length();
+    }
+
+    public void endSpan(String tag, Editable output, XMLReader xmlReader) {
+        stopIndex = output.length();
+
+        String color = attributes.get("color");
+        String size = attributes.get("size");
+        String style = attributes.get("style");
+        if (!TextUtils.isEmpty(style)) {
+            analysisStyle(startIndex, stopIndex, output, style);
+        }
+        if (!TextUtils.isEmpty(size)) {
+            size = size.split("px")[0];
+        }
+        if (!TextUtils.isEmpty(color)) {
+            if (color.startsWith("@")) {
+                Resources res = Resources.getSystem();
+                String name = color.substring(1);
+                int colorRes = res.getIdentifier(name, "color", "android");
+                if (colorRes != 0) {
+                    output.setSpan(new ForegroundColorSpan(colorRes), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+                }
+            } else {
+                try {
+                    output.setSpan(new ForegroundColorSpan(Color.parseColor(color)), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+                } catch (Exception e) {
+                    e.printStackTrace();
+                    reductionFontColor(startIndex, stopIndex, output);
+                }
+            }
+        }
+        if (!TextUtils.isEmpty(size)) {
+            int fontSizePx = 16;
+            if (null != mContext) {
+                fontSizePx = ScreenUtils.sp2px(mContext, Integer.parseInt(size));
+            }
+            output.setSpan(new AbsoluteSizeSpan(fontSizePx), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+        }
+    }
+
+    final HashMap<String, String> attributes = new HashMap<String, String>();
+
+    private void processAttributes(final XMLReader xmlReader) {
+        try {
+            Field elementField = xmlReader.getClass().getDeclaredField("theNewElement");
+            elementField.setAccessible(true);
+            Object element = elementField.get(xmlReader);
+            Field attsField = element.getClass().getDeclaredField("theAtts");
+            attsField.setAccessible(true);
+            Object atts = attsField.get(element);
+            Field dataField = atts.getClass().getDeclaredField("data");
+            dataField.setAccessible(true);
+            String[] data = (String[]) dataField.get(atts);
+            Field lengthField = atts.getClass().getDeclaredField("length");
+            lengthField.setAccessible(true);
+            int len = (Integer) lengthField.get(atts);
+
+            /**
+             * MSH: Look for supported attributes and add to hash map.
+             * This is as tight as things can get :)
+             * The data index is "just" where the keys and values are stored.
+             */
+            for (int i = 0; i < len; i++)
+                attributes.put(data[i * 5 + 1], data[i * 5 + 4]);
+        } catch (Exception e) {
+        }
+    }
+
+    /**
+     * 还原为原来的颜色
+     *
+     * @param startIndex
+     * @param stopIndex
+     * @param editable
+     */
+    private void reductionFontColor(int startIndex, int stopIndex, Editable editable) {
+        if (null != mOriginColors) {
+            editable.setSpan(new TextAppearanceSpan(null, 0, 0, mOriginColors, null),
+                    startIndex, stopIndex,
+                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
+        } else {
+            editable.setSpan(new ForegroundColorSpan(0xff2b2b2b), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+        }
+    }
+
+    /**
+     * 解析style属性
+     *
+     * @param startIndex
+     * @param stopIndex
+     * @param editable
+     * @param style
+     */
+    private void analysisStyle(int startIndex, int stopIndex, Editable editable, String style) {
+        Log.e(TAG, "style：" + style);
+        String[] attrArray = style.split(";");
+        Map<String, String> attrMap = new HashMap<>();
+        if (null != attrArray) {
+            for (String attr : attrArray) {
+                String[] keyValueArray = attr.split(":");
+                if (null != keyValueArray && keyValueArray.length == 2) {
+                    // 记住要去除前后空格
+                    attrMap.put(keyValueArray[0].trim(), keyValueArray[1].trim());
+                }
+            }
+        }
+        Log.e(TAG, "attrMap：" + attrMap.toString());
+
+        String color = attrMap.get("color");
+        String fontSize = attrMap.get("font-size");
+        String textdecoration = attrMap.get("text-decoration");
+        String backgroundColor = attrMap.get("background-color");
+
+        if (!TextUtils.isEmpty(fontSize)) {
+            fontSize = fontSize.split("px")[0];
+        }
+        if (!TextUtils.isEmpty(color)) {
+            if (color.startsWith("@")) {
+                Resources res = Resources.getSystem();
+                String name = color.substring(1);
+                int colorRes = res.getIdentifier(name, "color", "android");
+                if (colorRes != 0) {
+                    editable.setSpan(new ForegroundColorSpan(colorRes), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+                }
+            } else {
+                try {
+                    if (color.startsWith("rgb")) {
+                        editable.setSpan(new ForegroundColorSpan(rgbToInt(color, 0x000000)), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+                    }
+                } catch (Exception e) {
+                    e.printStackTrace();
+                    reductionFontColor(startIndex, stopIndex, editable);
+                }
+            }
+        }
+        if (!TextUtils.isEmpty(fontSize)) {
+            int fontSizePx = 16;
+            if (null != mContext) {
+                fontSizePx = ScreenUtils.sp2px(mContext, Integer.parseInt(fontSize));
+            }
+            editable.setSpan(new AbsoluteSizeSpan(fontSizePx), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+        }
+        if (!TextUtils.isEmpty(textdecoration)) {
+            editable.setSpan(new UnderlineSpan(), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+        }
+        if (!TextUtils.isEmpty(backgroundColor)) {
+            if (backgroundColor.startsWith("rgb")) {
+                editable.setSpan(new BackgroundColorSpan(rgbToInt(backgroundColor, 0xFFFFFFFF)), startIndex, stopIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+            }
+        }
+    }
+
+
+    public int rgbToInt(String rgb, int defColor) {
+        int color = defColor;
+        try {
+            Matcher matcher = Pattern.compile("(?<=[\\(|\\[])[^\\)|\\]]+").matcher(rgb);
+            String[] rgbArr = null;
+            if (matcher.find()) {
+                String tmp = matcher.group();
+                rgbArr = tmp.split(",");
+                if (rgbArr.length == 3) {
+                    int a = Integer.parseInt(rgbArr[0].trim());
+                    int b = Integer.parseInt(rgbArr[1].trim());
+                    int c = Integer.parseInt(rgbArr[2].trim());
+                    color = Color.rgb(Integer.parseInt(rgbArr[0].trim()), Integer.parseInt(rgbArr[1].trim()), Integer.parseInt(rgbArr[2].trim()));
+                }
+            }
+        } catch (Exception e) {
+            e.printStackTrace();
+        }
+        return color;
+    }
+}
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.collection:collection:1.0.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/androidx.collection/collection/1.0.0/42858b26cafdaa69b6149f45dfc2894007bc2c7a/collection-1.0.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: androidx.collection:collection:1.0.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/androidx.collection/collection/1.0.0/42858b26cafdaa69b6149f45dfc2894007bc2c7a/collection-1.0.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.collection/collection/1.0.0/42858b26cafdaa69b6149f45dfc2894007bc2c7a/collection-1.0.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.collection/collection/1.0.0/b08973c283f1a0b29fce8b45a1e31e16a36611e9/collection-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.legacy:legacy-support-core-utils:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/f85be247670eecc4814892981ff3dbba/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/5546d7946c456f09d57afc50767bacca/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/5546d7946c456f09d57afc50767bacca/res" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/5546d7946c456f09d57afc50767bacca/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.legacy/legacy-support-core-utils/1.0.0/46c37f178088153618cfb0afef08ec96c48f93cb/legacy-support-core-utils-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.interpolator:interpolator:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3d64cf09fe1e9575a3c68df190f1c780/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b528e99160dd676c60886a18adb68b02/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b528e99160dd676c60886a18adb68b02/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b528e99160dd676c60886a18adb68b02/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.interpolator/interpolator/1.0.0/fefd5e3cbc479b6b4a9532d05688a1e659e8d3d2/interpolator-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.media:media:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.media:media:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/f2dd500eddde89422a3a7295191e166e/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/dfd403f5624773b1d3459517b9e53ad8/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/f2dd500eddde89422a3a7295191e166e/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/f2dd500eddde89422a3a7295191e166e/res" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/f2dd500eddde89422a3a7295191e166e/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.media/media/1.0.0/5faf25be15e16e27275f5c7e04e15e944ebccea0/media-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.alibaba:fastjson:1.2.73\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.alibaba/fastjson/1.2.73/db7da6dcbd7d97876d626aa79775711fc0dc8cd1/fastjson-1.2.73.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.alibaba:fastjson:1.2.73">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.alibaba/fastjson/1.2.73/db7da6dcbd7d97876d626aa79775711fc0dc8cd1/fastjson-1.2.73.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.alibaba/fastjson/1.2.73/db7da6dcbd7d97876d626aa79775711fc0dc8cd1/fastjson-1.2.73.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.alibaba/fastjson/1.2.73/dd89cce04f3110ce858ec84ab4c2c0626d8f3be7/fastjson-1.2.73-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.3.61\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.61/4702105e97f7396ae41b113fdbdc180ec1eb1e36/kotlin-stdlib-1.3.61.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.3.61">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.61/4702105e97f7396ae41b113fdbdc180ec1eb1e36/kotlin-stdlib-1.3.61.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.61/4702105e97f7396ae41b113fdbdc180ec1eb1e36/kotlin-stdlib-1.3.61.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.61/72876c4e34feff9bf8d93d0b100e71ce6f5f8244/kotlin-stdlib-1.3.61-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.fragment:fragment:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.fragment:fragment:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9ef55a3c6e1f3a601d8582acb8c67187/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/141f4a3bec623e7e195886257a11a0b6/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9ef55a3c6e1f3a601d8582acb8c67187/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9ef55a3c6e1f3a601d8582acb8c67187/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9ef55a3c6e1f3a601d8582acb8c67187/res" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.fragment/fragment/1.0.0/bcd167792ec03e930d5c8345c99ae07b2627de84/fragment-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.umeng.umsdk:common:9.1.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.umeng.umsdk/common/9.1.0/320a3008b384ee10a4411c1e7547d17eb7491214/common-9.1.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.umeng.umsdk:common:9.1.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.umeng.umsdk/common/9.1.0/320a3008b384ee10a4411c1e7547d17eb7491214/common-9.1.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.umeng.umsdk/common/9.1.0/320a3008b384ee10a4411c1e7547d17eb7491214/common-9.1.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.umeng.umsdk/common/9.1.0/e183a63f567ac5656877f6c6cf8f276a5ae14775/common-9.1.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.nostra13.universalimageloader:universal-image-loader:1.9.5\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.nostra13.universalimageloader/universal-image-loader/1.9.5/442dbfb517b9ab5cb5c6da7ebf8cc28ec5bd0375/universal-image-loader-1.9.5.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.nostra13.universalimageloader:universal-image-loader:1.9.5">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.nostra13.universalimageloader/universal-image-loader/1.9.5/442dbfb517b9ab5cb5c6da7ebf8cc28ec5bd0375/universal-image-loader-1.9.5.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.nostra13.universalimageloader/universal-image-loader/1.9.5/442dbfb517b9ab5cb5c6da7ebf8cc28ec5bd0375/universal-image-loader-1.9.5.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.nostra13.universalimageloader/universal-image-loader/1.9.5/befa9412ecbd18331c5e066e46ca4005077382bc/universal-image-loader-1.9.5-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.swiperefreshlayout:swiperefreshlayout:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.swiperefreshlayout:swiperefreshlayout:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/79e374ee68997b987b9f61387d59eb19/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8e7490d3cdebab0aa388ec55f7960d74/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/79e374ee68997b987b9f61387d59eb19/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/79e374ee68997b987b9f61387d59eb19/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/79e374ee68997b987b9f61387d59eb19/res" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.swiperefreshlayout/swiperefreshlayout/1.0.0/ab92d86c004eb1d48e45f311b02ca53d6c86b607/swiperefreshlayout-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.recyclerview:recyclerview:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.recyclerview:recyclerview:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/56cf4bae7495a2e5b8c28429b3ffd786/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0e68fd99827d55b50d93d68780cdd250/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/56cf4bae7495a2e5b8c28429b3ffd786/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/56cf4bae7495a2e5b8c28429b3ffd786/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/56cf4bae7495a2e5b8c28429b3ffd786/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.recyclerview/recyclerview/1.0.0/2151d26c3b241f0a887f2dadb9ab091649fcf020/recyclerview-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.github.bumptech.glide:annotations:4.9.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.github.bumptech.glide/annotations/4.9.0/ccdd6bc8b4f3c001fbddec29ecddd515a13203c4/annotations-4.9.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.github.bumptech.glide:annotations:4.9.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.github.bumptech.glide/annotations/4.9.0/ccdd6bc8b4f3c001fbddec29ecddd515a13203c4/annotations-4.9.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.github.bumptech.glide/annotations/4.9.0/ccdd6bc8b4f3c001fbddec29ecddd515a13203c4/annotations-4.9.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.github.bumptech.glide/annotations/4.9.0/827aa034a86dc2dbe8a2daa6b9c99a5f1cec0e69/annotations-4.9.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.asynclayoutinflater:asynclayoutinflater:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/8595898a3668ff2d44a600185f719d1f/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/04acec1b8908d4966c7fa9c09302eee2/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/04acec1b8908d4966c7fa9c09302eee2/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/04acec1b8908d4966c7fa9c09302eee2/AndroidManifest.xml" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.asynclayoutinflater/asynclayoutinflater/1.0.0/ac4d50701fce5c88dcc514f58e695cd32f05134c/asynclayoutinflater-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.lifecycle:lifecycle-livedata:2.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a4652e1bd8a92336e041a0b083a5c4f5/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/7a94630c509c5f6a80ae5f367671f3a1/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/7a94630c509c5f6a80ae5f367671f3a1/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/7a94630c509c5f6a80ae5f367671f3a1/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-livedata/2.0.0/740ce61935bd789380c01178bd8ce402402ebd2f/lifecycle-livedata-2.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.slidingpanelayout:slidingpanelayout:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/3ed88a1323a5ee80d1a98d7480393526/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/1062c248c411be19f6fc57ec4bfecfbd/res" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/1062c248c411be19f6fc57ec4bfecfbd/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/1062c248c411be19f6fc57ec4bfecfbd/AndroidManifest.xml" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.slidingpanelayout/slidingpanelayout/1.0.0/f3f2e4fded24d5969a86e1974ad7e96975d970a0/slidingpanelayout-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.squareup.picasso:picasso:2.5.2\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.squareup.picasso/picasso/2.5.2/7446d06ec8d4f7ffcc53f1da37c95f200dcb9387/picasso-2.5.2.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.squareup.picasso:picasso:2.5.2">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.squareup.picasso/picasso/2.5.2/7446d06ec8d4f7ffcc53f1da37c95f200dcb9387/picasso-2.5.2.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.squareup.picasso/picasso/2.5.2/7446d06ec8d4f7ffcc53f1da37c95f200dcb9387/picasso-2.5.2.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.squareup.picasso/picasso/2.5.2/3f998a26355e4138e3e7a880a5dac57fc4370339/picasso-2.5.2-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.github.bumptech.glide:glide:4.9.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/046e743fb328f26bb5eb3622c8d82ec9/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/60fcc814dc80203f563d84c2f5497878/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/60fcc814dc80203f563d84c2f5497878/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/60fcc814dc80203f563d84c2f5497878/res" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.github.bumptech.glide/glide/4.9.0/5f95e3cc34b116a8024f2af42f66e257d2e28ccb/glide-4.9.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/WebViewActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.activity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Base64;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.DownloadListener;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport com.sobot.chat.activity.base.SobotBaseActivity;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.LogUtils;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.StringUtils;\nimport com.sobot.chat.utils.ToastUtil;\n\nimport static com.sobot.chat.SobotUIConfig.sobot_webview_title_display;\n\n@SuppressLint(\"SetJavaScriptEnabled\")\npublic class WebViewActivity extends SobotBaseActivity implements View.OnClickListener {\n\n    private WebView mWebView;\n    private ProgressBar mProgressBar;\n    private RelativeLayout sobot_rl_net_error;\n\n    private Button sobot_btn_reconnect;\n    private TextView sobot_txt_loading;\n    private TextView sobot_textReConnect;\n\n    private String mUrl = \"\";\n    private LinearLayout sobot_webview_toolsbar;\n    private ImageView sobot_webview_goback;\n    private ImageView sobot_webview_forward;\n    private ImageView sobot_webview_reload;\n    private ImageView sobot_webview_copy;\n\n    //根据冲入的url判断是否url   true:是；false:不是\n    private boolean isUrlOrText = true;\n\n    @Override\n    protected int getContentViewResId() {\n        return getResLayoutId(\"sobot_activity_webview\");\n    }\n\n    @Override\n    protected void initBundleData(Bundle savedInstanceState) {\n        if (savedInstanceState == null) {\n            if (getIntent() != null && !TextUtils.isEmpty(getIntent().getStringExtra(\"url\"))) {\n                mUrl = getIntent().getStringExtra(\"url\");\n                isUrlOrText = StringUtils.isURL(mUrl);\n            }\n        } else {\n            mUrl = savedInstanceState.getString(\"url\");\n            isUrlOrText = StringUtils.isURL(mUrl);\n        }\n    }\n\n    @Override\n    protected void initView() {\n        setTitle(\"\");\n        showLeftMenu(getResDrawableId(\"sobot_btn_back_selector\"), \"\", true);\n        mWebView = (WebView) findViewById(getResId(\"sobot_mWebView\"));\n        mProgressBar = (ProgressBar) findViewById(getResId(\"sobot_loadProgress\"));\n        sobot_rl_net_error = (RelativeLayout) findViewById(getResId(\"sobot_rl_net_error\"));\n        sobot_webview_toolsbar = (LinearLayout) findViewById(getResId(\"sobot_webview_toolsbar\"));\n        sobot_btn_reconnect = (Button) findViewById(getResId(\"sobot_btn_reconnect\"));\n        sobot_btn_reconnect.setText(ResourceUtils.getResString(WebViewActivity.this, \"sobot_reunicon\"));\n        sobot_btn_reconnect.setOnClickListener(this);\n        sobot_textReConnect = (TextView) findViewById(getResId(\"sobot_textReConnect\"));\n        sobot_textReConnect.setText(ResourceUtils.getResString(WebViewActivity.this, \"sobot_network_unavailable\"));\n        sobot_txt_loading = (TextView) findViewById(getResId(\"sobot_txt_loading\"));\n        sobot_webview_goback = (ImageView) findViewById(getResId(\"sobot_webview_goback\"));\n        sobot_webview_forward = (ImageView) findViewById(getResId(\"sobot_webview_forward\"));\n        sobot_webview_reload = (ImageView) findViewById(getResId(\"sobot_webview_reload\"));\n        sobot_webview_copy = (ImageView) findViewById(getResId(\"sobot_webview_copy\"));\n        sobot_webview_goback.setOnClickListener(this);\n        sobot_webview_forward.setOnClickListener(this);\n        sobot_webview_reload.setOnClickListener(this);\n        sobot_webview_copy.setOnClickListener(this);\n        sobot_webview_goback.setEnabled(false);\n        sobot_webview_forward.setEnabled(false);\n\n        displayInNotch(mWebView);\n\n        resetViewDisplay();\n        initWebView();\n        if (isUrlOrText) {\n            //加载url\n            mWebView.loadUrl(mUrl);\n            sobot_webview_copy.setVisibility(View.VISIBLE);\n        } else {\n            //修改图片高度为自适应宽度\n            mUrl = \"<!DOCTYPE html>\\n\" +\n                    \"<html>\\n\" +\n                    \"    <head>\\n\" +\n                    \"        <meta charset=\\\"utf-8\\\">\\n\" +\n                    \"        <title></title>\\n\" +\n                    \"        <style>\\n\" +\n                    \"            img{\\n\" +\n                    \"                width: auto;\\n\" +\n                    \"                height:auto;\\n\" +\n                    \"                max-height: 100%;\\n\" +\n                    \"                max-width: 100%;\\n\" +\n                    \"            }\\n\" +\n                    \"        </style>\\n\" +\n                    \"    </head>\\n\" +\n                    \"    <body>\" + mUrl + \"  </body>\\n\" +\n                    \"</html>\";\n            //显示文本内容\n            mWebView.loadDataWithBaseURL(\"about:blank\", mUrl, \"text/html\", \"utf-8\", null);\n        }\n        LogUtils.i(\"webViewActivity---\" + mUrl);\n    }\n\n    @Override\n    protected void initData() {\n\n    }\n\n    @Override\n    protected void onLeftMenuClick(View view) {\n        finish();\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (view == sobot_btn_reconnect) {\n            if (!TextUtils.isEmpty(mUrl)) {\n                resetViewDisplay();\n            }\n        } else if (view == sobot_webview_forward) {\n            mWebView.goForward();\n        } else if (view == sobot_webview_goback) {\n            mWebView.goBack();\n        } else if (view == sobot_webview_reload) {\n            mWebView.reload();\n        } else if (view == sobot_webview_copy) {\n            copyUrl(mUrl);\n        }\n    }\n\n    private void copyUrl(String url) {\n        if (TextUtils.isEmpty(url)) {\n            return;\n        }\n\n        if (Build.VERSION.SDK_INT >= 11) {\n            LogUtils.i(\"API是大于11\");\n            android.content.ClipboardManager cmb = (android.content.ClipboardManager) getApplicationContext().getSystemService(Context.CLIPBOARD_SERVICE);\n            cmb.setText(url);\n            cmb.getText();\n        } else {\n            LogUtils.i(\"API是小于11\");\n            android.text.ClipboardManager cmb = (android.text.ClipboardManager) getApplicationContext().getSystemService(Context.CLIPBOARD_SERVICE);\n            cmb.setText(url);\n            cmb.getText();\n        }\n\n        ToastUtil.showToast(getApplicationContext(), CommonUtils.getResString(WebViewActivity.this, \"sobot_ctrl_v_success\"));\n    }\n\n    /**\n     * 根据有无网络显示不同的View\n     */\n    private void resetViewDisplay() {\n        if (CommonUtils.isNetWorkConnected(getApplicationContext())) {\n            mWebView.setVisibility(View.VISIBLE);\n            sobot_webview_toolsbar.setVisibility(View.VISIBLE);\n            sobot_rl_net_error.setVisibility(View.GONE);\n        } else {\n            mWebView.setVisibility(View.GONE);\n            sobot_webview_toolsbar.setVisibility(View.GONE);\n            sobot_rl_net_error.setVisibility(View.VISIBLE);\n        }\n    }\n\n    @SuppressLint(\"NewApi\")\n    private void initWebView() {\n        if (Build.VERSION.SDK_INT >= 11) {\n            try {\n                mWebView.removeJavascriptInterface(\"searchBoxJavaBridge_\");\n            } catch (Exception e) {\n                //ignor\n            }\n        }\n        mWebView.setDownloadListener(new DownloadListener() {\n            @Override\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n                //检测到下载文件就打开系统浏览器\n                Intent intent = new Intent();\n                intent.setAction(\"android.intent.action.VIEW\");\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                Uri content = Uri.parse(url);\n                intent.setData(content);\n                startActivity(intent);\n                finish();\n            }\n        });\n        mWebView.removeJavascriptInterface(\"searchBoxJavaBridge_\");\n        mWebView.getSettings().setDefaultFontSize(16);\n        mWebView.getSettings().setTextZoom(100);\n        mWebView.getSettings().setAllowFileAccess(false);\n        mWebView.getSettings().setJavaScriptEnabled(true);\n        mWebView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\n        // 设置可以使用localStorage\n        mWebView.getSettings().setDomStorageEnabled(true);\n        mWebView.getSettings().setLoadsImagesAutomatically(true);\n        mWebView.getSettings().setBlockNetworkImage(false);\n        mWebView.getSettings().setSavePassword(false);\n//        mWebView.getSettings().setUserAgentString(mWebView.getSettings().getUserAgentString() + \" sobot\");\n\n        //关于webview的http和https的混合请求的，从Android5.0开始，WebView默认不支持同时加载Https和Http混合模式。\n        // 在API>=21的版本上面默认是关闭的，在21以下就是默认开启的，直接导致了在高版本上面http请求不能正确跳转。\n        if (Build.VERSION.SDK_INT >= 21) {\n            mWebView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        }\n\n\n        // 应用可以有数据库\n        mWebView.getSettings().setDatabaseEnabled(true);\n\n        // 应用可以有缓存\n        mWebView.getSettings().setAppCacheEnabled(true);\n        mWebView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                //注释的地方是打开其它应用，比如qq\n                /*if (url.startsWith(\"http\") || url.startsWith(\"https\")) {\n                    return false;\n                } else {\n                    Intent in = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n                    startActivity(in);\n                    return true;\n                }*/\n                return false;\n            }\n\n            @Override\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                super.onReceivedError(view, errorCode, description, failingUrl);\n\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                sobot_webview_goback.setEnabled(mWebView.canGoBack());\n                sobot_webview_forward.setEnabled(mWebView.canGoForward());\n                if (isUrlOrText && !mUrl.replace(\"http://\", \"\").replace(\"https://\", \"\").equals(view.getTitle()) && sobot_webview_title_display) {\n                    setTitle(view.getTitle());\n                }\n            }\n        });\n\n        mWebView.setWebChromeClient(new WebChromeClient() {\n\n            @Override\n            public void onReceivedTitle(WebView view, String title) {\n                super.onReceivedTitle(view, title);\n                LogUtils.i(\"网页--title---：\" + title);\n                if (isUrlOrText && !mUrl.replace(\"http://\", \"\").replace(\"https://\", \"\").equals(title) && sobot_webview_title_display) {\n                    setTitle(title);\n                }\n            }\n\n            @Override\n            public void onProgressChanged(WebView view, int newProgress) {\n                if (newProgress > 0 && newProgress < 100) {\n                    mProgressBar.setVisibility(View.VISIBLE);\n                    mProgressBar.setProgress(newProgress);\n                } else if (newProgress == 100) {\n                    mProgressBar.setVisibility(View.GONE);\n                }\n            }\n\n            @Override\n            public boolean onShowFileChooser(WebView webView, ValueCallback<Uri[]> filePathCallback, FileChooserParams fileChooserParams) {\n                uploadMessageAboveL = filePathCallback;\n                chooseAlbumPic();\n                return true;\n            }\n\n        });\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (mWebView != null) {\n            mWebView.onResume();\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        if (mWebView != null) {\n            mWebView.onPause();\n        }\n        super.onPause();\n    }\n\n    @Override\n    protected void onDestroy() {\n        if (mWebView != null) {\n            mWebView.removeAllViews();\n            final ViewGroup viewGroup = (ViewGroup) mWebView.getParent();\n            if (viewGroup != null) {\n                viewGroup.removeView(mWebView);\n            }\n            mWebView.destroy();\n        }\n        super.onDestroy();\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mWebView != null && mWebView.canGoBack()) {\n            mWebView.goBack();\n        } else {\n            super.onBackPressed();\n            finish();\n        }\n    }\n\n    protected void onSaveInstanceState(Bundle outState) {\n        //被摧毁前缓存一些数据\n        outState.putString(\"url\", mUrl);\n        super.onSaveInstanceState(outState);\n    }\n\n    private static final int REQUEST_CODE_ALBUM = 0x0111;\n\n    private ValueCallback<Uri> uploadMessage;\n    private ValueCallback<Uri[]> uploadMessageAboveL;\n\n    public Context getContext() {\n        return WebViewActivity.this;\n    }\n\n    /**\n     * 选择相册照片\n     */\n    private void chooseAlbumPic() {\n        Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n        i.addCategory(Intent.CATEGORY_OPENABLE);\n        i.setType(\"image/*\");\n        startActivityForResult(Intent.createChooser(i, \"Image Chooser\"), REQUEST_CODE_ALBUM);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE_ALBUM) {\n            if (uploadMessage == null && uploadMessageAboveL == null) {\n                return;\n            }\n            if (resultCode != RESULT_OK) {\n                //一定要返回null,否则<input file> 就是没有反应\n                if (uploadMessage != null) {\n                    uploadMessage.onReceiveValue(null);\n                    uploadMessage = null;\n                }\n                if (uploadMessageAboveL != null) {\n                    uploadMessageAboveL.onReceiveValue(null);\n                    uploadMessageAboveL = null;\n\n                }\n            }\n\n            if (resultCode == RESULT_OK) {\n                Uri imageUri = null;\n                switch (requestCode) {\n                    case REQUEST_CODE_ALBUM:\n\n                        if (data != null) {\n                            imageUri = data.getData();\n                        }\n                        break;\n                }\n\n                //上传文件\n                if (uploadMessage != null) {\n                    uploadMessage.onReceiveValue(imageUri);\n                    uploadMessage = null;\n                }\n                if (uploadMessageAboveL != null) {\n                    uploadMessageAboveL.onReceiveValue(new Uri[]{imageUri});\n                    uploadMessageAboveL = null;\n                }\n            }\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/WebViewActivity.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/WebViewActivity.java	(date 1628135261000)
@@ -7,7 +7,6 @@
 import android.os.Build;
 import android.os.Bundle;
 import android.text.TextUtils;
-import android.util.Base64;
 import android.view.View;
 import android.view.ViewGroup;
 import android.webkit.DownloadListener;
Index: .idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.lifecycle:lifecycle-runtime:2.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/a627bdef78fe4e46e4a6388164f9284b/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/646fee8de3513a4448701a72bbd30724/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/646fee8de3513a4448701a72bbd30724/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/646fee8de3513a4448701a72bbd30724/AndroidManifest.xml" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-runtime/2.0.0/94562933879240f04fc2dea3f1841171b164c748/lifecycle-runtime-2.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/camera/CameraInterface.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.camera;\n\nimport android.animation.AnimatorSet;\nimport android.animation.ObjectAnimator;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.ImageFormat;\nimport android.graphics.Matrix;\nimport android.graphics.Rect;\nimport android.graphics.RectF;\nimport android.graphics.YuvImage;\nimport android.hardware.Camera;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.media.MediaRecorder;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.Surface;\nimport android.view.SurfaceHolder;\nimport android.view.WindowManager;\nimport android.widget.ImageView;\n\nimport com.sobot.chat.camera.listener.StErrorListener;\nimport com.sobot.chat.camera.util.AngleUtil;\nimport com.sobot.chat.camera.util.CameraParamUtil;\nimport com.sobot.chat.camera.util.CheckPermission;\nimport com.sobot.chat.camera.util.DeviceUtil;\nimport com.sobot.chat.camera.util.FileUtil;\nimport com.sobot.chat.camera.util.ScreenUtils;\nimport com.sobot.chat.camera.util.StCmeraLog;\nimport com.sobot.chat.utils.CommonUtils;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static android.graphics.Bitmap.createBitmap;\n\n/**\n * camera操作单例\n */\n@SuppressWarnings(\"deprecation\")\npublic class CameraInterface implements Camera.PreviewCallback {\n\n    private static final String TAG = \"CJT\";\n\n    private volatile static CameraInterface mCameraInterface;\n\n    public static void destroyCameraInterface() {\n        if (mCameraInterface != null) {\n            mCameraInterface = null;\n        }\n    }\n\n    private Camera mCamera;\n    private Camera.Parameters mParams;\n    private boolean isPreviewing = false;\n\n    private int SELECTED_CAMERA = -1;\n    private int CAMERA_POST_POSITION = -1;\n    private int CAMERA_FRONT_POSITION = -1;\n\n    private SurfaceHolder mHolder = null;\n    private float screenProp = -1.0f;\n\n    private boolean isRecorder = false;\n    private MediaRecorder mediaRecorder;\n    private String videoFileName;\n    private String saveVideoPath;\n    private String videoFileAbsPath;\n    private Bitmap videoFirstFrame = null;\n\n    private StErrorListener errorLisenter;\n\n    private ImageView mSwitchView;\n//    private ImageView mFlashLamp;\n\n    private int preview_width;\n    private int preview_height;\n\n    private int angle = 0;\n    private int cameraAngle = 90;//摄像头角度   默认为90度\n    private int rotation = 0;\n    private byte[] firstFrame_data;\n\n    public static final int TYPE_RECORDER = 0x090;\n    public static final int TYPE_CAPTURE = 0x091;\n    private int nowScaleRate = 0;\n    private int recordScleRate = 0;\n\n    //视频质量\n    private int mediaQuality = StCameraView.MEDIA_QUALITY_MIDDLE;\n    private SensorManager sm = null;\n\n    private Context mContext;\n\n    //获取CameraInterface单例\n    public static synchronized CameraInterface getInstance() {\n        if (mCameraInterface == null)\n            synchronized (CameraInterface.class) {\n                if (mCameraInterface == null)\n                    mCameraInterface = new CameraInterface();\n            }\n        return mCameraInterface;\n    }\n\n    public void setSwitchView(ImageView mSwitchView) {\n        this.mSwitchView = mSwitchView;\n//        this.mFlashLamp = mFlashLamp;\n        if (mSwitchView != null) {\n            cameraAngle = CameraParamUtil.getInstance().getCameraDisplayOrientation(mSwitchView.getContext(),\n                    SELECTED_CAMERA);\n        }\n    }\n\n    private SensorEventListener sensorEventListener = new SensorEventListener() {\n        public void onSensorChanged(SensorEvent event) {\n            if (Sensor.TYPE_ACCELEROMETER != event.sensor.getType()) {\n                return;\n            }\n            float[] values = event.values;\n            angle = AngleUtil.getSensorAngle(values[0], values[1]);\n            rotationAnimation();\n        }\n\n        public void onAccuracyChanged(Sensor sensor, int accuracy) {\n        }\n    };\n\n    //切换摄像头icon跟随手机角度进行旋转\n    private void rotationAnimation() {\n        if (mSwitchView == null) {\n            return;\n        }\n        if (rotation != angle) {\n            int start_rotaion = 0;\n            int end_rotation = 0;\n            switch (rotation) {\n                case 0:\n                    start_rotaion = 0;\n                    switch (angle) {\n                        case 90:\n                            end_rotation = -90;\n                            break;\n                        case 270:\n                            end_rotation = 90;\n                            break;\n                    }\n                    break;\n                case 90:\n                    start_rotaion = -90;\n                    switch (angle) {\n                        case 0:\n                            end_rotation = 0;\n                            break;\n                        case 180:\n                            end_rotation = -180;\n                            break;\n                    }\n                    break;\n                case 180:\n                    start_rotaion = 180;\n                    switch (angle) {\n                        case 90:\n                            end_rotation = 270;\n                            break;\n                        case 270:\n                            end_rotation = 90;\n                            break;\n                    }\n                    break;\n                case 270:\n                    start_rotaion = 90;\n                    switch (angle) {\n                        case 0:\n                            end_rotation = 0;\n                            break;\n                        case 180:\n                            end_rotation = 180;\n                            break;\n                    }\n                    break;\n            }\n            ObjectAnimator animC = ObjectAnimator.ofFloat(mSwitchView, \"rotation\", start_rotaion, end_rotation);\n//            ObjectAnimator animF = ObjectAnimator.ofFloat(mFlashLamp, \"rotation\", start_rotaion, end_rotation);\n            AnimatorSet set = new AnimatorSet();\n            set.playTogether(animC);\n            set.setDuration(500);\n            set.start();\n            rotation = angle;\n        }\n    }\n\n    @SuppressWarnings(\"ResultOfMethodCallIgnored\")\n    void setSaveVideoPath(String saveVideoPath) {\n        this.saveVideoPath = saveVideoPath;\n        File file = new File(saveVideoPath);\n        if (!file.exists()) {\n            file.mkdirs();\n        }\n    }\n\n\n    public void setZoom(float zoom, int type) {\n        if (mCamera == null) {\n            return;\n        }\n        if (mParams == null) {\n            mParams = mCamera.getParameters();\n        }\n        if (!mParams.isZoomSupported() || !mParams.isSmoothZoomSupported()) {\n            return;\n        }\n        switch (type) {\n            case TYPE_RECORDER:\n                //如果不是录制视频中，上滑不会缩放\n                if (!isRecorder) {\n                    return;\n                }\n                if (zoom >= 0) {\n                    //每移动50个像素缩放一个级别\n                    int scaleRate = (int) (zoom / 40);\n                    if (scaleRate <= mParams.getMaxZoom() && scaleRate >= nowScaleRate && recordScleRate != scaleRate) {\n                        mParams.setZoom(scaleRate);\n                        mCamera.setParameters(mParams);\n                        recordScleRate = scaleRate;\n                    }\n                }\n                break;\n            case TYPE_CAPTURE:\n                if (isRecorder) {\n                    return;\n                }\n                //每移动50个像素缩放一个级别\n                int scaleRate = (int) (zoom / 50);\n                if (scaleRate < mParams.getMaxZoom()) {\n                    nowScaleRate += scaleRate;\n                    if (nowScaleRate < 0) {\n                        nowScaleRate = 0;\n                    } else if (nowScaleRate > mParams.getMaxZoom()) {\n                        nowScaleRate = mParams.getMaxZoom();\n                    }\n                    mParams.setZoom(nowScaleRate);\n                    mCamera.setParameters(mParams);\n                }\n                StCmeraLog.i(\"setZoom = \" + nowScaleRate);\n                break;\n        }\n\n    }\n\n    void setMediaQuality(int quality) {\n        this.mediaQuality = quality;\n    }\n\n\n    @Override\n    public void onPreviewFrame(byte[] data, Camera camera) {\n        firstFrame_data = data;\n    }\n\n    public void setFlashMode(String flashMode) {\n        if (mCamera == null)\n            return;\n        Camera.Parameters params = mCamera.getParameters();\n        params.setFlashMode(flashMode);\n        mCamera.setParameters(params);\n    }\n\n\n    public interface CameraOpenOverCallback {\n        void cameraHasOpened();\n    }\n\n    private CameraInterface() {\n        findAvailableCameras();\n        SELECTED_CAMERA = CAMERA_POST_POSITION;\n        saveVideoPath = \"\";\n    }\n\n\n    /**\n     * open Camera\n     */\n    void doOpenCamera(CameraOpenOverCallback callback) {\n        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.M) {\n            if (!CheckPermission.isCameraUseable(SELECTED_CAMERA) && this.errorLisenter != null) {\n                this.errorLisenter.onError();\n                return;\n            }\n        }\n        if (mCamera == null) {\n            openCamera(SELECTED_CAMERA);\n        }\n        callback.cameraHasOpened();\n    }\n\n    private void setFlashModel() {\n        mParams = mCamera.getParameters();\n        mParams.setFlashMode(Camera.Parameters.FLASH_MODE_TORCH); //设置camera参数为Torch模式\n        mCamera.setParameters(mParams);\n    }\n\n    private synchronized void openCamera(int id) {\n        try {\n            this.mCamera = Camera.open(id);\n        } catch (Exception var3) {\n            var3.printStackTrace();\n            if (this.errorLisenter != null) {\n                this.errorLisenter.onError();\n            }\n        }\n\n        if (Build.VERSION.SDK_INT > 17 && this.mCamera != null) {\n            try {\n                this.mCamera.enableShutterSound(false);\n            } catch (Exception e) {\n                e.printStackTrace();\n                Log.e(\"CJT\", \"enable shutter sound faild\");\n            }\n        }\n    }\n\n    public synchronized void switchCamera(SurfaceHolder holder, float screenProp) {\n        if (SELECTED_CAMERA == CAMERA_POST_POSITION) {\n            SELECTED_CAMERA = CAMERA_FRONT_POSITION;\n        } else {\n            SELECTED_CAMERA = CAMERA_POST_POSITION;\n        }\n        doDestroyCamera();\n        StCmeraLog.i(\"open start\");\n        openCamera(SELECTED_CAMERA);\n//        mCamera = Camera.open();\n        if (Build.VERSION.SDK_INT > 17 && this.mCamera != null) {\n            try {\n                this.mCamera.enableShutterSound(false);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        StCmeraLog.i(\"open end\");\n        doStartPreview(holder, screenProp);\n    }\n\n    /**\n     * doStartPreview\n     */\n    public void doStartPreview(SurfaceHolder holder, float screenProp) {\n        if (isPreviewing) {\n            StCmeraLog.i(\"doStartPreview isPreviewing\");\n        }\n        if (this.screenProp < 0) {\n            this.screenProp = screenProp;\n        }\n        if (holder == null) {\n            return;\n        }\n        this.mHolder = holder;\n        if (mCamera != null) {\n            try {\n                mParams = mCamera.getParameters();\n                Camera.Size previewSize = CameraParamUtil.getInstance().getPreviewSize(mParams\n                        .getSupportedPreviewSizes(), 1000, screenProp);\n                Camera.Size pictureSize = CameraParamUtil.getInstance().getPictureSize(mParams\n                        .getSupportedPictureSizes(), 1000, screenProp);\n//                Camera.Size previewSize = CameraParamUtil.getInstance().getSmallPictureSize(mCamera);\n//                Camera.Size pictureSize = CameraParamUtil.getInstance().getSmallPictureSize(mCamera);\n\n                mParams.setPreviewSize(previewSize.width, previewSize.height);\n\n                preview_width = previewSize.width;\n                preview_height = previewSize.height;\n\n                mParams.setPictureSize(pictureSize.width, pictureSize.height);\n                // 设置为多媒体录制，加快打开的速度\n                mParams.setRecordingHint(true);\n                if (CameraParamUtil.getInstance().isSupportedFocusMode(\n                        mParams.getSupportedFocusModes(),\n                        Camera.Parameters.FOCUS_MODE_AUTO)) {\n                    mParams.setFocusMode(Camera.Parameters.FOCUS_MODE_AUTO);\n                }\n                if (CameraParamUtil.getInstance().isSupportedPictureFormats(mParams.getSupportedPictureFormats(),\n                        ImageFormat.JPEG)) {\n                    mParams.setPictureFormat(ImageFormat.JPEG);\n                    mParams.setJpegQuality(100);\n                }\n                mCamera.setParameters(mParams);\n                mParams = mCamera.getParameters();\n                mCamera.setPreviewDisplay(holder);  //SurfaceView\n                mCamera.setDisplayOrientation(cameraAngle);//浏览角度\n                mCamera.setPreviewCallback(this); //每一帧回调\n                mCamera.startPreview();//启动浏览\n                isPreviewing = true;\n                Log.i(TAG, \"=== Start Preview ===\");\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    /**\n     * 停止预览\n     */\n    public void doStopPreview() {\n        if (null != mCamera) {\n            try {\n                mCamera.setPreviewCallback(null);\n                mCamera.stopPreview();\n                //这句要在stopPreview后执行，不然会卡顿或者花屏\n                mCamera.setPreviewDisplay(null);\n                isPreviewing = false;\n                Log.i(TAG, \"=== Stop Preview ===\");\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    /**\n     * 销毁Camera\n     */\n    void doDestroyCamera() {\n        errorLisenter = null;\n        if (null != mCamera) {\n            try {\n                mCamera.setPreviewCallback(null);\n                mSwitchView = null;\n//                mFlashLamp = null;\n                mCamera.stopPreview();\n                //这句要在stopPreview后执行，不然会卡顿或者花屏\n                mCamera.setPreviewDisplay(null);\n                mHolder = null;\n                isPreviewing = false;\n                mCamera.release();\n                mCamera = null;\n//                destroyCameraInterface();\n                Log.i(TAG, \"=== Destroy Camera ===\");\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        } else {\n            Log.i(TAG, \"=== Camera  Null===\");\n        }\n    }\n\n    /**\n     * 拍照\n     */\n    private int nowAngle;\n\n    public void takePicture(final TakePictureCallback callback) {\n        if (mCamera == null) {\n            return;\n        }\n        switch (cameraAngle) {\n            case 90:\n                nowAngle = Math.abs(angle + cameraAngle) % 360;\n                break;\n            case 270:\n                nowAngle = Math.abs(cameraAngle - angle);\n                break;\n        }\n//\n        Log.i(\"CJT\", angle + \" = \" + cameraAngle + \" = \" + nowAngle);\n        mCamera.takePicture(null, null, new Camera.PictureCallback() {\n            @Override\n            public void onPictureTaken(byte[] data, Camera camera) {\n                Bitmap bitmap = compressBitmap(data,mContext);\n                Matrix matrix = new Matrix();\n                if (SELECTED_CAMERA == CAMERA_POST_POSITION) {\n                    matrix.setRotate(nowAngle);\n                } else if (SELECTED_CAMERA == CAMERA_FRONT_POSITION) {\n                    matrix.setRotate(360 - nowAngle);\n                    matrix.postScale(-1, 1);\n                }\n\n                bitmap = createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\n                if (callback != null) {\n                    if (nowAngle == 90 || nowAngle == 270) {\n                        callback.captureResult(bitmap, true);\n                    } else {\n                        callback.captureResult(bitmap, false);\n                    }\n                }\n            }\n        });\n    }\n\n    //启动录像\n    public void startRecord(Surface surface, float screenProp, ErrorCallback callback) {\n        mCamera.stopPreview();\n        mCamera.setPreviewCallback(null);\n        final int nowAngle = (angle + 90) % 360;\n        //获取第一帧图片\n        Camera.Parameters parameters = mCamera.getParameters();\n        int width = parameters.getPreviewSize().width;\n        int height = parameters.getPreviewSize().height;\n        YuvImage yuv = new YuvImage(firstFrame_data, parameters.getPreviewFormat(), width, height, null);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        yuv.compressToJpeg(new Rect(0, 0, width, height), 50, out);\n        byte[] bytes = out.toByteArray();\n        videoFirstFrame = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n        Matrix matrix = new Matrix();\n        if (SELECTED_CAMERA == CAMERA_POST_POSITION) {\n            matrix.setRotate(nowAngle);\n        } else if (SELECTED_CAMERA == CAMERA_FRONT_POSITION) {\n            matrix.setRotate(270);\n        }\n        videoFirstFrame = createBitmap(videoFirstFrame, 0, 0, videoFirstFrame.getWidth(), videoFirstFrame\n                .getHeight(), matrix, true);\n\n        if (isRecorder) {\n            return;\n        }\n        if (mCamera == null) {\n            openCamera(SELECTED_CAMERA);\n        }\n        if (mediaRecorder == null) {\n            mediaRecorder = new MediaRecorder();\n        }\n        if (mParams == null) {\n            mParams = mCamera.getParameters();\n        }\n        List<String> focusModes = mParams.getSupportedFocusModes();\n        if (focusModes.contains(Camera.Parameters.FOCUS_MODE_CONTINUOUS_VIDEO)) {\n            mParams.setFocusMode(Camera.Parameters.FOCUS_MODE_CONTINUOUS_VIDEO);\n        }\n        mCamera.setParameters(mParams);\n        mCamera.unlock();\n        mediaRecorder.reset();\n        mediaRecorder.setCamera(mCamera);\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\n\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n\n\n        Camera.Size videoSize;\n        if (mParams.getSupportedVideoSizes() == null) {\n            videoSize = CameraParamUtil.getInstance().getPreviewSize(mParams.getSupportedPreviewSizes(), 600,\n                    screenProp);\n        } else {\n            videoSize = CameraParamUtil.getInstance().getPreviewSize(mParams.getSupportedVideoSizes(), 600,\n                    screenProp);\n        }\n        Log.i(TAG, \"setVideoSize    width = \" + videoSize.width + \"height = \" + videoSize.height);\n        if (videoSize.width == videoSize.height) {\n            mediaRecorder.setVideoSize(preview_width, preview_height);\n        } else {\n            mediaRecorder.setVideoSize(videoSize.width, videoSize.height);\n        }\n//        if (SELECTED_CAMERA == CAMERA_FRONT_POSITION) {\n//            mediaRecorder.setOrientationHint(270);\n//        } else {\n//            mediaRecorder.setOrientationHint(nowAngle);\n////            mediaRecorder.setOrientationHint(90);\n//        }\n\n        if (SELECTED_CAMERA == CAMERA_FRONT_POSITION) {\n            //手机预览倒立的处理\n            if (cameraAngle == 270) {\n                //横屏\n                if (nowAngle == 0) {\n                    mediaRecorder.setOrientationHint(180);\n                } else if (nowAngle == 270) {\n                    mediaRecorder.setOrientationHint(270);\n                } else {\n                    mediaRecorder.setOrientationHint(90);\n                }\n            } else {\n                if (nowAngle == 90) {\n                    mediaRecorder.setOrientationHint(270);\n                } else if (nowAngle == 270) {\n                    mediaRecorder.setOrientationHint(90);\n                } else {\n                    mediaRecorder.setOrientationHint(nowAngle);\n                }\n            }\n        } else {\n            mediaRecorder.setOrientationHint(nowAngle);\n        }\n\n\n        if (DeviceUtil.isHuaWeiRongyao()) {\n            mediaRecorder.setVideoEncodingBitRate(4 * 100000);\n        } else {\n            mediaRecorder.setVideoEncodingBitRate(mediaQuality);\n        }\n        mediaRecorder.setPreviewDisplay(surface);\n\n        videoFileName = \"v_\" + System.currentTimeMillis() + \".mp4\";\n        if (saveVideoPath.equals(\"\")) {\n            saveVideoPath = CommonUtils.getSDCardRootPath(mContext);\n        }\n        videoFileAbsPath = saveVideoPath + File.separator + videoFileName;\n\n        mediaRecorder.setOutputFile(videoFileAbsPath);\n        try {\n            mediaRecorder.prepare();\n            mediaRecorder.start();\n            isRecorder = true;\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n            Log.i(\"CJT\", \"startRecord IllegalStateException\");\n            if (this.errorLisenter != null) {\n                this.errorLisenter.onError();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.i(\"CJT\", \"startRecord IOException\");\n            if (this.errorLisenter != null) {\n                this.errorLisenter.onError();\n            }\n        } catch (RuntimeException e) {\n            Log.i(\"CJT\", \"startRecord RuntimeException\");\n        } catch (Exception e) {\n            //ignor\n        }\n    }\n\n    //停止录像\n    public void stopRecord(boolean isShort, StopRecordCallback callback) {\n        if (!isRecorder) {\n            return;\n        }\n        if (mediaRecorder != null) {\n            mediaRecorder.setOnErrorListener(null);\n            mediaRecorder.setOnInfoListener(null);\n            mediaRecorder.setPreviewDisplay(null);\n            try {\n                mediaRecorder.stop();\n            } catch (Exception e) {\n                e.printStackTrace();\n                mediaRecorder = null;\n                mediaRecorder = new MediaRecorder();\n            } finally {\n                if (mediaRecorder != null) {\n                    mediaRecorder.release();\n                }\n                mediaRecorder = null;\n                isRecorder = false;\n            }\n            if (isShort) {\n                if (FileUtil.deleteFile(videoFileAbsPath)) {\n                    if (callback != null) {\n                        callback.recordResult(null, null);\n                    }\n                }\n                return;\n            }\n            doStopPreview();\n            String fileName = saveVideoPath + File.separator + videoFileName;\n            if (callback != null) {\n                callback.recordResult(fileName, videoFirstFrame);\n            }\n        }\n    }\n\n    private void findAvailableCameras() {\n        Camera.CameraInfo info = new Camera.CameraInfo();\n        int cameraNum = Camera.getNumberOfCameras();\n        for (int i = 0; i < cameraNum; i++) {\n            Camera.getCameraInfo(i, info);\n            switch (info.facing) {\n                case Camera.CameraInfo.CAMERA_FACING_FRONT:\n                    CAMERA_FRONT_POSITION = info.facing;\n                    break;\n                case Camera.CameraInfo.CAMERA_FACING_BACK:\n                    CAMERA_POST_POSITION = info.facing;\n                    break;\n            }\n        }\n    }\n\n    int handlerTime = 0;\n\n    public void handleFocus(final Context context, final float x, final float y, final FocusCallback callback) {\n        if (mCamera == null) {\n            return;\n        }\n        final Camera.Parameters params = mCamera.getParameters();\n        Rect focusRect = calculateTapArea(x, y, 1f, context);\n        mCamera.cancelAutoFocus();\n        if (params.getMaxNumFocusAreas() > 0) {\n            List<Camera.Area> focusAreas = new ArrayList<>();\n            focusAreas.add(new Camera.Area(focusRect, 800));\n            params.setFocusAreas(focusAreas);\n        } else {\n            Log.i(TAG, \"focus areas not supported\");\n            callback.focusSuccess();\n            return;\n        }\n        final String currentFocusMode = params.getFocusMode();\n        try {\n            params.setFocusMode(Camera.Parameters.FOCUS_MODE_AUTO);\n            mCamera.setParameters(params);\n            mCamera.autoFocus(new Camera.AutoFocusCallback() {\n                @Override\n                public void onAutoFocus(boolean success, Camera camera) {\n                    if (success || handlerTime > 10) {\n                        Camera.Parameters params = camera.getParameters();\n                        params.setFocusMode(currentFocusMode);\n                        camera.setParameters(params);\n                        handlerTime = 0;\n                        callback.focusSuccess();\n                    } else {\n                        handlerTime++;\n                        handleFocus(context, x, y, callback);\n                    }\n                }\n            });\n        } catch (Exception e) {\n            Log.e(TAG, \"autoFocus failer\");\n        }\n    }\n\n\n    private static Rect calculateTapArea(float x, float y, float coefficient, Context context) {\n        float focusAreaSize = 300;\n        int areaSize = Float.valueOf(focusAreaSize * coefficient).intValue();\n        int centerX = (int) (x / ScreenUtils.getScreenWidth(context) * 2000 - 1000);\n        int centerY = (int) (y / ScreenUtils.getScreenHeight(context) * 2000 - 1000);\n        int left = clamp(centerX - areaSize / 2, -1000, 1000);\n        int top = clamp(centerY - areaSize / 2, -1000, 1000);\n        RectF rectF = new RectF(left, top, left + areaSize, top + areaSize);\n        return new Rect(Math.round(rectF.left), Math.round(rectF.top), Math.round(rectF.right), Math.round(rectF\n                .bottom));\n    }\n\n    private static int clamp(int x, int min, int max) {\n        if (x > max) {\n            return max;\n        }\n        if (x < min) {\n            return min;\n        }\n        return x;\n    }\n\n    void setErrorLinsenter(StErrorListener errorLisenter) {\n        this.errorLisenter = errorLisenter;\n    }\n\n\n    public interface StopRecordCallback {\n        void recordResult(String url, Bitmap firstFrame);\n    }\n\n    interface ErrorCallback {\n        void onError();\n    }\n\n    public interface TakePictureCallback {\n        void captureResult(Bitmap bitmap, boolean isVertical);\n    }\n\n    public interface FocusCallback {\n        void focusSuccess();\n\n    }\n\n\n    void registerSensorManager(Context context) {\n        if (sm == null) {\n            sm = (SensorManager) context.getSystemService(Context.SENSOR_SERVICE);\n        }\n        if (sm != null) {\n            sm.registerListener(sensorEventListener, sm.getDefaultSensor(Sensor.TYPE_ACCELEROMETER), SensorManager\n                    .SENSOR_DELAY_NORMAL);\n        }\n    }\n\n    void unregisterSensorManager(Context context) {\n        if (sm == null) {\n            sm = (SensorManager) context.getSystemService(Context.SENSOR_SERVICE);\n        }\n        if (sm != null) {\n            sm.unregisterListener(sensorEventListener);\n        }\n        sm = null;\n    }\n\n    public void setContext(Context context) {\n        mContext = context.getApplicationContext();\n    }\n\n    void isPreview(boolean res) {\n        this.isPreviewing = res;\n    }\n\n    private Bitmap compressBitmap(byte[] data, Context context) {\n        BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inJustDecodeBounds = true;// 设置后decode图片不会返回一个bitmap对象，但是会将图片的信息封装到Options中\n        BitmapFactory.decodeByteArray(data, 0, data.length,options);\n        WindowManager wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n        int width = 0;\n        int height = 0;\n        if (wm != null) {\n            width = wm.getDefaultDisplay().getWidth();\n            height = wm.getDefaultDisplay().getHeight();\n        }\n        options.inSampleSize = calculateInSampleSize(options, width, height);\n        options.inJustDecodeBounds = false;\n//        options.inPreferredConfig = Bitmap.Config.RGB_565;\n\n        return BitmapFactory.decodeByteArray(data, 0, data.length,options);\n    }\n\n    /**\n     * 计算采样大小\n     *\n     * @param options   选项\n     * @param reqWidth  最大宽度\n     * @param reqHeight 最大高度\n     * @return 采样大小\n     */\n    private static int calculateInSampleSize(BitmapFactory.Options options, int reqWidth, int reqHeight) {\n        // Raw height and width of image\n        final int height = options.outHeight;\n        final int width = options.outWidth;\n        int inSampleSize = 1;\n\n        if (height > reqHeight || width > reqWidth) {\n\n            // Calculate ratios of height and width to requested height and width\n            final int heightRatio = Math.round((float) height / (float) reqHeight);\n            final int widthRatio = Math.round((float) width / (float) reqWidth);\n\n            // Choose the smallest ratio as inSampleSize value, this will guarantee\n            // a final image with both dimensions larger than or equal to the\n            // requested height and width.\n            inSampleSize = heightRatio < widthRatio ? heightRatio : widthRatio;\n        }\n\n        return inSampleSize;\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/camera/CameraInterface.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/camera/CameraInterface.java	(date 1628135261000)
@@ -17,7 +17,6 @@
 import android.hardware.SensorManager;
 import android.media.MediaRecorder;
 import android.os.Build;
-import android.os.Environment;
 import android.util.Log;
 import android.view.Surface;
 import android.view.SurfaceHolder;
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/kpswitch/view/ChattingPanelUploadView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.widget.kpswitch.view;\n\nimport android.content.Context;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.sobot.chat.SobotUIConfig;\nimport com.sobot.chat.api.model.Information;\nimport com.sobot.chat.utils.SharedPreferencesUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\nimport com.sobot.chat.widget.kpswitch.view.emoticon.EmoticonsFuncView;\nimport com.sobot.chat.widget.kpswitch.view.emoticon.EmoticonsIndicatorView;\nimport com.sobot.chat.widget.kpswitch.view.plus.SobotPlusPageView;\nimport com.sobot.chat.widget.kpswitch.widget.adpater.PageSetAdapter;\nimport com.sobot.chat.widget.kpswitch.widget.adpater.PlusAdapter;\nimport com.sobot.chat.widget.kpswitch.widget.data.PageSetEntity;\nimport com.sobot.chat.widget.kpswitch.widget.data.PlusPageEntity;\nimport com.sobot.chat.widget.kpswitch.widget.data.PlusPageSetEntity;\nimport com.sobot.chat.widget.kpswitch.widget.interfaces.PageViewInstantiateListener;\nimport com.sobot.chat.widget.kpswitch.widget.interfaces.PlusDisplayListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * 聊天面板   更多菜单\n *\n * @author Created by jinxl on 2018/7/31.\n */\npublic class ChattingPanelUploadView extends BaseChattingPanelView implements View.OnClickListener, EmoticonsFuncView.OnEmoticonsPageViewListener {\n\n    private static final String ACTION_SATISFACTION = \"sobot_action_satisfaction\";\n    private static final String ACTION_LEAVEMSG = \"sobot_action_leavemsg\";\n    private static final String ACTION_PIC = \"sobot_action_pic\";\n    private static final String ACTION_VIDEO = \"sobot_action_video\";\n    private static final String ACTION_CAMERA = \"sobot_action_camera\";\n    private static final String ACTION_CHOOSE_FILE = \"sobot_action_choose_file\";\n\n\n    private List<SobotPlusEntity> robotList = new ArrayList<>();\n    private List<SobotPlusEntity> operatorList = new ArrayList<>();\n\n    //当前接待模式\n    private int mCurrentClientMode = -1;\n    private EmoticonsFuncView mEmoticonsFuncView;\n    private EmoticonsIndicatorView mEmoticonsIndicatorView;\n    private PageSetAdapter pageSetAdapter;\n    private SobotPlusClickListener mListener;\n\n    public ChattingPanelUploadView(Context context) {\n        super(context);\n    }\n\n    @Override\n    public View initView() {\n        return View.inflate(context, getResLayoutId(\"sobot_upload_layout\"), null);\n    }\n\n    @Override\n    public void initData() {\n\n        Information information = (Information) SharedPreferencesUtil.getObject(context, \"sobot_last_current_info\");\n\n        int leaveMsg = SharedPreferencesUtil.getIntData(context, ZhiChiConstant.sobot_msg_flag, ZhiChiConstant.sobot_msg_flag_open);\n        //是否留言转离线消息,留言转离线消息模式下,人工模式加号中菜单不显示留言\n        boolean msgToTicket = SharedPreferencesUtil.getBooleanData(context,\n                ZhiChiConstant.sobot_leave_msg_flag, false);\n        mEmoticonsFuncView = (EmoticonsFuncView) getRootView().findViewById(getResId(\"view_epv\"));\n        mEmoticonsIndicatorView = ((EmoticonsIndicatorView) getRootView().findViewById(getResId(\"view_eiv\")));\n        mEmoticonsFuncView.setOnIndicatorListener(this);\n\n        //图片\n        SobotPlusEntity picEntity = new SobotPlusEntity(getResDrawableId(\"sobot_tack_picture_button_selector\"), getResString(\"sobot_upload\"), ACTION_PIC);\n        //视频\n        SobotPlusEntity videoEntity = new SobotPlusEntity(getResDrawableId(\"sobot_tack_video_button_selector\"), getResString(\"sobot_upload_video\"), ACTION_VIDEO);\n        //拍照\n        SobotPlusEntity cameraEntity = new SobotPlusEntity(getResDrawableId(\"sobot_camera_picture_button_selector\"), getResString(\"sobot_attach_take_pic\"), ACTION_CAMERA);\n        //文件\n        SobotPlusEntity fileEntity = new SobotPlusEntity(getResDrawableId(\"sobot_choose_file_btn_selector\"), getResString(\"sobot_choose_file\"), ACTION_CHOOSE_FILE);\n        //留言\n        SobotPlusEntity leavemsgEntity = new SobotPlusEntity(getResDrawableId(\"sobot_leavemsg_selector\"), getResString(\"sobot_str_bottom_message\"), ACTION_LEAVEMSG);\n        //评价\n        SobotPlusEntity satisfactionEntity = new SobotPlusEntity(getResDrawableId(\"sobot_picture_satisfaction_selector\"), getResString(\"sobot_str_bottom_satisfaction\"), ACTION_SATISFACTION);\n\n        robotList.clear();\n        operatorList.clear();\n\n        if (information != null) {\n            //机器人模式下\n            if (!information.isHideMenuLeave()) {\n                if (leaveMsg == ZhiChiConstant.sobot_msg_flag_open) {\n                    robotList.add(leavemsgEntity);\n                }\n            }\n            if (!information.isHideMenuSatisfaction()) {\n                robotList.add(satisfactionEntity);\n            }\n\n            //人工模式下\n            if (!information.isHideMenuPicture()) {\n                operatorList.add(picEntity);\n            }\n            if (!information.isHideMenuVedio()) {\n                operatorList.add(videoEntity);\n            }\n            if (!information.isHideMenuCamera()) {\n                operatorList.add(cameraEntity);\n            }\n            if (!information.isHideMenuFile()) {\n                operatorList.add(fileEntity);\n            }\n            if (!information.isHideMenuLeave()) {\n                if (leaveMsg == ZhiChiConstant.sobot_msg_flag_open && !msgToTicket) {\n                    operatorList.add(leavemsgEntity);\n                }\n            }\n            if (!information.isHideMenuSatisfaction()) {\n                operatorList.add(satisfactionEntity);\n            }\n        } else {\n\n            if (leaveMsg == ZhiChiConstant.sobot_msg_flag_open) {\n                robotList.add(leavemsgEntity);\n            }\n            robotList.add(satisfactionEntity);\n\n            operatorList.add(picEntity);\n            operatorList.add(videoEntity);\n            operatorList.add(cameraEntity);\n            operatorList.add(fileEntity);\n            if (leaveMsg == ZhiChiConstant.sobot_msg_flag_open && !msgToTicket) {\n                operatorList.add(leavemsgEntity);\n            }\n            operatorList.add(satisfactionEntity);\n        }\n    }\n\n    public static class SobotPlusEntity {\n        public int iconResId;\n        public String name;\n        public String action;\n\n        /**\n         * 自定义菜单实体类\n         *\n         * @param iconResId 菜单图标\n         * @param name      菜单名称\n         * @param action    菜单动作 当点击按钮时会将对应action返回给callback\n         *                  以此作为依据，判断用户点击了哪个按钮\n         */\n        public SobotPlusEntity(int iconResId, String name, String action) {\n            this.iconResId = iconResId;\n            this.name = name;\n            this.action = action;\n        }\n    }\n\n    private void setAdapter(List<SobotPlusEntity> datas) {\n        if (pageSetAdapter == null) {\n            pageSetAdapter = new PageSetAdapter();\n        } else {\n            pageSetAdapter.getPageSetEntityList().clear();\n        }\n\n        PlusPageSetEntity pageSetEntity\n                = new PlusPageSetEntity.Builder()\n                .setLine(getResInteger(\"sobot_plus_menu_line\"))\n                .setRow(getResInteger(\"sobot_plus_menu_row\"))\n                .setDataList(datas)\n                .setIPageViewInstantiateItem(new PageViewInstantiateListener<PlusPageEntity>() {\n                    @Override\n                    public View instantiateItem(ViewGroup container, int position, PlusPageEntity pageEntity) {\n                        if (pageEntity.getRootView() == null) {\n                            //下面这个view  就是一个gridview\n                            SobotPlusPageView pageView = new SobotPlusPageView(container.getContext());\n                            pageView.setNumColumns(pageEntity.getRow());\n                            pageEntity.setRootView(pageView);\n                            try {\n                                PlusAdapter adapter = new PlusAdapter(container.getContext(), pageEntity, mListener);\n//                                adapter.setItemHeightMaxRatio(1.8);\n                                adapter.setOnDisPlayListener(getPlusItemDisplayListener(mListener));\n                                pageView.getGridView().setAdapter(adapter);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        }\n                        return pageEntity.getRootView();\n                    }\n                })\n                .build();\n        pageSetAdapter.add(pageSetEntity);\n        mEmoticonsFuncView.setAdapter(pageSetAdapter);\n    }\n\n    /**\n     * 这个是adapter里面的bindview回调\n     * 作用就是绑定数据用的\n     *\n     * @param plusClickListener 点击表情的回调\n     * @return\n     */\n    public PlusDisplayListener<Object> getPlusItemDisplayListener(final ChattingPanelUploadView.SobotPlusClickListener plusClickListener) {\n        return new PlusDisplayListener<Object>() {\n            @Override\n            public void onBindView(int position, ViewGroup parent, PlusAdapter.ViewHolder viewHolder, Object object) {\n                final SobotPlusEntity plusEntity = (SobotPlusEntity) object;\n                if (plusEntity == null) {\n                    return;\n                }\n                // 显示菜单\n                //viewHolder.ly_root.setBackgroundResource(getResDrawableId(\"sobot_bg_emoticon\"));\n                viewHolder.mMenu.setText(plusEntity.name);\n                Drawable drawable = context.getResources().getDrawable(plusEntity.iconResId);\n                drawable.setBounds(0, 0, drawable.getMinimumWidth(), drawable.getMinimumHeight());\n                viewHolder.mMenu.setCompoundDrawables(null, drawable, null, null);\n                viewHolder.mMenu.setTag(plusEntity.action);\n\n\n                viewHolder.rootView.setOnClickListener(ChattingPanelUploadView.this);\n            }\n        };\n    }\n\n    @Override\n    public void emoticonSetChanged(PageSetEntity pageSetEntity) {\n\n    }\n\n    @Override\n    public void playTo(int position, PageSetEntity pageSetEntity) {\n        mEmoticonsIndicatorView.playTo(position, pageSetEntity);\n    }\n\n    @Override\n    public void playBy(int oldPosition, int newPosition, PageSetEntity pageSetEntity) {\n        mEmoticonsIndicatorView.playBy(oldPosition, newPosition, pageSetEntity);\n    }\n\n    public interface SobotPlusClickListener extends SobotBasePanelListener {\n        void btnPicture();\n\n        void btnVedio();\n\n        void btnCameraPicture();\n\n        void btnSatisfaction();\n\n        void startToPostMsgActivty(boolean flag);\n\n        void chooseFile();\n    }\n\n    @Override\n    public void setListener(SobotBasePanelListener listener) {\n        if (listener != null && listener instanceof ChattingPanelUploadView.SobotPlusClickListener) {\n            mListener = (ChattingPanelUploadView.SobotPlusClickListener) listener;\n        }\n    }\n\n    @Override\n    public String getRootViewTag() {\n        return \"ChattingPanelUploadView\";\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (mListener != null) {\n            View sobot_plus_menu = v.findViewById(getResId(\"sobot_plus_menu\"));\n            String action = (String) sobot_plus_menu.getTag();\n            if (ACTION_SATISFACTION.equals(action)) {\n                //评价客服或机器人\n                mListener.btnSatisfaction();\n            } else if (ACTION_LEAVEMSG.equals(action)) {\n                //留言\n                mListener.startToPostMsgActivty(false);\n            } else if (ACTION_PIC.equals(action)) {\n                //图库\n                mListener.btnPicture();\n            } else if (ACTION_VIDEO.equals(action)) {\n                //视频\n                mListener.btnVedio();\n            } else if (ACTION_CAMERA.equals(action)) {\n                //拍照\n                mListener.btnCameraPicture();\n            } else if (ACTION_CHOOSE_FILE.equals(action)) {\n                //选择文件\n                mListener.chooseFile();\n            } else {\n                if (SobotUIConfig.pulsMenu.sSobotPlusMenuListener != null) {\n                    SobotUIConfig.pulsMenu.sSobotPlusMenuListener.onClick(v, action);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onViewStart(Bundle bundle) {\n        int tmpClientMode = bundle.getInt(\"current_client_model\");\n        if (mCurrentClientMode == -1 || mCurrentClientMode != tmpClientMode) {\n            //在初次调用或者接待模式改变时修改view\n            List<SobotPlusEntity> tmpList = new ArrayList<>();\n            if (bundle.getInt(\"current_client_model\") == ZhiChiConstant.client_model_robot) {\n                tmpList.addAll(robotList);\n            } else {\n                tmpList.addAll(operatorList);\n                if (SobotUIConfig.pulsMenu.operatorMenus != null) {\n                    tmpList.addAll(SobotUIConfig.pulsMenu.operatorMenus);\n                }\n            }\n            if (SobotUIConfig.pulsMenu.menus != null) {\n                tmpList.addAll(SobotUIConfig.pulsMenu.menus);\n            }\n            setAdapter(tmpList);\n        }\n\n        mCurrentClientMode = tmpClientMode;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/kpswitch/view/ChattingPanelUploadView.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/kpswitch/view/ChattingPanelUploadView.java	(date 1628059581000)
@@ -111,7 +111,7 @@
             if (!information.isHideMenuFile()) {
                 operatorList.add(fileEntity);
             }
-            if (!information.isHideMenuLeave()) {
+            if (!information.isHideMenuLeave()&& !information.isHideMenuManualLeave()) {
                 if (leaveMsg == ZhiChiConstant.sobot_msg_flag_open && !msgToTicket) {
                     operatorList.add(leavemsgEntity);
                 }
Index: .idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.sobot.chat:sobotsdk-imageloader:2.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/53cde47dae2c2079b4e309fab70474f0/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9aaa961470de9e2b75e423268cfd2bb0/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9aaa961470de9e2b75e423268cfd2bb0/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/9aaa961470de9e2b75e423268cfd2bb0/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.sobot.chat/sobotsdk-imageloader/2.0/8b3c25ea97d08d1445d178d64669c25edbc03aa/sobotsdk-imageloader-2.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.arch.core:core-runtime:2.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/d422d486df605e83caf08bf54345cc0c/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/49c43087c5a7994209fca109cb503088/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/49c43087c5a7994209fca109cb503088/res" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/49c43087c5a7994209fca109cb503088/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.arch.core/core-runtime/2.0.0/bc41b287c95bc50a3cd27cb1b7cfb301805ba7f1/core-runtime-2.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: com.github.bumptech.glide:disklrucache:4.9.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.github.bumptech.glide/disklrucache/4.9.0/cbb185635e8f265d6391c7d43118d3856574dc3a/disklrucache-4.9.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: com.github.bumptech.glide:disklrucache:4.9.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/com.github.bumptech.glide/disklrucache/4.9.0/cbb185635e8f265d6391c7d43118d3856574dc3a/disklrucache-4.9.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.github.bumptech.glide/disklrucache/4.9.0/cbb185635e8f265d6391c7d43118d3856574dc3a/disklrucache-4.9.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/com.github.bumptech.glide/disklrucache/4.9.0/3814da9f6d7c75619f50c123fc907ffcfd997da1/disklrucache-4.9.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotSkillGroupActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.activity;\n\nimport android.content.Intent;\nimport android.text.TextUtils;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.GridView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport com.sobot.chat.activity.base.SobotDialogBaseActivity;\nimport com.sobot.chat.adapter.SobotSikllAdapter;\nimport com.sobot.chat.api.ZhiChiApi;\nimport com.sobot.chat.api.apiUtils.ZhiChiConstants;\nimport com.sobot.chat.api.model.ZhiChiGroup;\nimport com.sobot.chat.api.model.ZhiChiGroupBase;\nimport com.sobot.chat.application.MyApplication;\nimport com.sobot.chat.core.channel.SobotMsgManager;\nimport com.sobot.chat.core.http.OkHttpUtils;\nimport com.sobot.chat.core.http.callback.StringResultCallBack;\nimport com.sobot.chat.presenter.StPostMsgPresenter;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.SharedPreferencesUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SobotSkillGroupActivity extends SobotDialogBaseActivity {\n\n    private LinearLayout sobot_btn_cancle;\n    private GridView sobot_gv_skill;\n    private TextView sobot_tv_title;\n    private SobotSikllAdapter sobotSikllAdapter;\n    private List<ZhiChiGroupBase> list_skill = new ArrayList<ZhiChiGroupBase>();\n    private boolean flag_exit_sdk;\n    private String uid = null;\n    private String companyId = null;\n    private String customerId = null;\n    private String appkey = null;\n    private String msgTmp = null;\n    private String msgTxt = null;\n    private int transferType;\n    private ZhiChiApi zhiChiApi;\n    private int mType = -1;\n    private int msgFlag = 0;\n\n    private StPostMsgPresenter mPressenter;\n\n\n    @Override\n    protected int getContentViewResId() {\n        return ResourceUtils.getResLayoutId(this, \"sobot_activity_skill_group\");\n    }\n\n    @Override\n    protected void initView() {\n        sobot_tv_title = (TextView) findViewById(ResourceUtils.getIdByName(\n                this, \"id\", \"sobot_tv_title\"));\n        sobot_tv_title.setText(ResourceUtils.getResString(SobotSkillGroupActivity.this, \"sobot_switch_robot_title_2\"));\n        mPressenter = StPostMsgPresenter.newInstance(SobotSkillGroupActivity.this, SobotSkillGroupActivity.this);\n        sobot_btn_cancle = (LinearLayout) findViewById(ResourceUtils.getIdByName(\n                this, \"id\", \"sobot_btn_cancle\"));\n        sobot_gv_skill = (GridView) findViewById(ResourceUtils.getIdByName(\n                this, \"id\", \"sobot_gv_skill\"));\n\n        sobotSikllAdapter = new SobotSikllAdapter(this, list_skill, msgFlag);\n        sobot_gv_skill.setAdapter(sobotSikllAdapter);\n        sobot_gv_skill.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n                if (list_skill != null && list_skill.size() > 0) {\n                    if (\"true\".equals(list_skill.get(position).isOnline())) {\n                        if (!TextUtils.isEmpty(list_skill.get(position).getGroupName())) {\n                            Intent intent = new Intent();\n                            intent.putExtra(\"groupIndex\", position);\n                            intent.putExtra(\"transferType\", transferType);\n                            setResult(ZhiChiConstant.REQUEST_COCE_TO_GRROUP, intent);\n                            finish();\n                        }\n                    } else {\n                        if (msgFlag == ZhiChiConstant.sobot_msg_flag_open) {\n                            Intent intent = new Intent();\n                            intent.putExtra(\"toLeaveMsg\", true);\n                            setResult(ZhiChiConstant.REQUEST_COCE_TO_GRROUP, intent);\n                            finish();\n                        }\n                    }\n                }\n            }\n        });\n\n        sobot_btn_cancle.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finishPageOrSDK();\n            }\n        });\n\n        displayInNotch(this, sobot_gv_skill);\n    }\n\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            if (event.getY() <= 0) {\n                finishPageOrSDK();\n            }\n        }\n        return true;\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        initData();\n    }\n\n    @Override\n    protected void onDestroy() {\n        mPressenter.destory();\n        OkHttpUtils.getInstance().cancelTag(SobotSkillGroupActivity.this);\n        MyApplication.getInstance().deleteActivity(this);\n        super.onDestroy();\n    }\n\n\n    protected void initData() {\n        if (getIntent() != null) {\n            uid = getIntent().getStringExtra(\"uid\");\n            companyId = getIntent().getStringExtra(\"companyId\");\n            customerId = getIntent().getStringExtra(\"customerId\");\n            appkey = getIntent().getStringExtra(\"appkey\");\n            flag_exit_sdk = getIntent().getBooleanExtra(\n                    ZhiChiConstant.FLAG_EXIT_SDK, false);\n            mType = getIntent().getIntExtra(\"type\", -1);\n            msgTmp = getIntent().getStringExtra(\"msgTmp\");\n            msgTxt = getIntent().getStringExtra(\"msgTxt\");\n            msgFlag = getIntent().getIntExtra(\"msgFlag\", 0);\n            transferType = getIntent().getIntExtra(\"transferType\", 0);\n        }\n        zhiChiApi = SobotMsgManager.getInstance(getApplicationContext()).getZhiChiApi();\n        zhiChiApi.getGroupList(SobotSkillGroupActivity.this, appkey, uid, new StringResultCallBack<ZhiChiGroup>() {\n            @Override\n            public void onSuccess(ZhiChiGroup zhiChiGroup) {\n\n                list_skill = zhiChiGroup.getData();\n                if (list_skill != null && list_skill.size() > 0) {\n//                    if (list_skill.size() % 2 != 0) {\n//                        list_skill.add(new ZhiChiGroupBase(\"\", \"\"));// 奇数时，加一个空布局，仅为展示\n//                    }\n                    sobotSikllAdapter = new SobotSikllAdapter(getApplicationContext(), list_skill, msgFlag);\n                    sobot_gv_skill.setAdapter(sobotSikllAdapter);\n                }\n            }\n\n            @Override\n            public void onFailure(Exception e, String des) {\n            }\n        });\n    }\n\n    private void finishPageOrSDK() {\n        int initType = SharedPreferencesUtil.getIntData(\n                getApplicationContext(), appkey + \"_\" + ZhiChiConstant.initType, -1);\n        if (initType == ZhiChiConstant.type_custom_only) {\n            finish();\n            sendCloseIntent(1);\n        } else {\n            if (!flag_exit_sdk) {\n                finish();\n                sendCloseIntent(2);\n            } else {\n                MyApplication.getInstance().exit();\n            }\n        }\n    }\n\n    private void sendCloseIntent(int type) {\n        Intent intent = new Intent();\n        if (type == 1) {\n            intent.setAction(ZhiChiConstants.sobot_close_now_clear_cache);\n        } else {\n            intent.setAction(ZhiChiConstants.sobot_click_cancle);\n        }\n        CommonUtils.sendLocalBroadcast(getApplicationContext(), intent);\n    }\n\n    @Override\n    public void onBackPressed() {\n        finishPageOrSDK();\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == 200) {\n            finish();\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotSkillGroupActivity.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotSkillGroupActivity.java	(date 1628135719000)
@@ -1,11 +1,12 @@
 package com.sobot.chat.activity;
 
 import android.content.Intent;
+import androidx.recyclerview.widget.GridLayoutManager;
+import androidx.recyclerview.widget.LinearLayoutManager;
+import androidx.recyclerview.widget.RecyclerView;
 import android.text.TextUtils;
 import android.view.MotionEvent;
 import android.view.View;
-import android.widget.AdapterView;
-import android.widget.GridView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
@@ -22,8 +23,11 @@
 import com.sobot.chat.presenter.StPostMsgPresenter;
 import com.sobot.chat.utils.CommonUtils;
 import com.sobot.chat.utils.ResourceUtils;
+import com.sobot.chat.utils.ScreenUtils;
 import com.sobot.chat.utils.SharedPreferencesUtil;
 import com.sobot.chat.utils.ZhiChiConstant;
+import com.sobot.chat.widget.attachment.SpaceItemDecoration;
+import com.sobot.chat.widget.horizontalgridpage.SobotRecyclerCallBack;
 
 import java.util.ArrayList;
 import java.util.List;
@@ -31,7 +35,8 @@
 public class SobotSkillGroupActivity extends SobotDialogBaseActivity {
 
     private LinearLayout sobot_btn_cancle;
-    private GridView sobot_gv_skill;
+    private RecyclerView sobot_rcy_skill;
+
     private TextView sobot_tv_title;
     private SobotSikllAdapter sobotSikllAdapter;
     private List<ZhiChiGroupBase> list_skill = new ArrayList<ZhiChiGroupBase>();
@@ -59,18 +64,15 @@
     protected void initView() {
         sobot_tv_title = (TextView) findViewById(ResourceUtils.getIdByName(
                 this, "id", "sobot_tv_title"));
-        sobot_tv_title.setText(ResourceUtils.getResString(SobotSkillGroupActivity.this, "sobot_switch_robot_title_2"));
         mPressenter = StPostMsgPresenter.newInstance(SobotSkillGroupActivity.this, SobotSkillGroupActivity.this);
         sobot_btn_cancle = (LinearLayout) findViewById(ResourceUtils.getIdByName(
                 this, "id", "sobot_btn_cancle"));
-        sobot_gv_skill = (GridView) findViewById(ResourceUtils.getIdByName(
-                this, "id", "sobot_gv_skill"));
+        sobot_rcy_skill = (RecyclerView) findViewById(ResourceUtils.getIdByName(
+                this, "id", "sobot_rcy_skill"));
 
-        sobotSikllAdapter = new SobotSikllAdapter(this, list_skill, msgFlag);
-        sobot_gv_skill.setAdapter(sobotSikllAdapter);
-        sobot_gv_skill.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+        sobotSikllAdapter = new SobotSikllAdapter(this, list_skill, msgFlag, new SobotRecyclerCallBack() {
             @Override
-            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+            public void onItemClickListener(View view, int position) {
                 if (list_skill != null && list_skill.size() > 0) {
                     if ("true".equals(list_skill.get(position).isOnline())) {
                         if (!TextUtils.isEmpty(list_skill.get(position).getGroupName())) {
@@ -90,7 +92,13 @@
                     }
                 }
             }
+
+            @Override
+            public void onItemLongClickListener(View view, int position) {
+
+            }
         });
+        sobot_rcy_skill.setAdapter(sobotSikllAdapter);
 
         sobot_btn_cancle.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -99,7 +107,7 @@
             }
         });
 
-        displayInNotch(this, sobot_gv_skill);
+        displayInNotch(this, sobot_rcy_skill);
     }
 
     public boolean onTouchEvent(MotionEvent event) {
@@ -111,12 +119,6 @@
         return true;
     }
 
-    @Override
-    protected void onResume() {
-        super.onResume();
-        initData();
-    }
-
     @Override
     protected void onDestroy() {
         mPressenter.destory();
@@ -144,19 +146,37 @@
         zhiChiApi.getGroupList(SobotSkillGroupActivity.this, appkey, uid, new StringResultCallBack<ZhiChiGroup>() {
             @Override
             public void onSuccess(ZhiChiGroup zhiChiGroup) {
-
                 list_skill = zhiChiGroup.getData();
-                if (list_skill != null && list_skill.size() > 0) {
-//                    if (list_skill.size() % 2 != 0) {
-//                        list_skill.add(new ZhiChiGroupBase("", ""));// 奇数时，加一个空布局，仅为展示
-//                    }
-                    sobotSikllAdapter = new SobotSikllAdapter(getApplicationContext(), list_skill, msgFlag);
-                    sobot_gv_skill.setAdapter(sobotSikllAdapter);
+                if (list_skill != null && list_skill.size() > 0 && sobotSikllAdapter != null) {
+                    if (list_skill.get(0).getGroupStyle() == 1) {
+                        GridLayoutManager gridlayoutmanager = new GridLayoutManager(SobotSkillGroupActivity.this, 4);
+                        sobot_rcy_skill.addItemDecoration(new SpaceItemDecoration(ScreenUtils.dip2px(SobotSkillGroupActivity.this, 10), ScreenUtils.dip2px(SobotSkillGroupActivity.this, 10), 0, SpaceItemDecoration.GRIDLAYOUT));
+                        sobot_rcy_skill.setLayoutManager(gridlayoutmanager);
+                    } else if (list_skill.get(0).getGroupStyle() == 2) {
+                        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(SobotSkillGroupActivity.this);
+                        sobot_rcy_skill.setLayoutManager(linearLayoutManager);
+                    } else {
+                        GridLayoutManager manager = new GridLayoutManager(SobotSkillGroupActivity.this, 2);
+                        sobot_rcy_skill.addItemDecoration(new SpaceItemDecoration(ScreenUtils.dip2px(SobotSkillGroupActivity.this, 10), ScreenUtils.dip2px(SobotSkillGroupActivity.this, 10), 0, SpaceItemDecoration.GRIDLAYOUT));
+                        sobot_rcy_skill.setLayoutManager(manager);
+                    }
+
+                    sobotSikllAdapter.setList(list_skill);
+                    sobotSikllAdapter.setMsgFlag(msgFlag);
+                    sobotSikllAdapter.notifyDataSetChanged();
+                    if (TextUtils.isEmpty(list_skill.get(0).getGroupGuideDoc())) {
+                        sobot_tv_title.setText(ResourceUtils.getResString(SobotSkillGroupActivity.this, "sobot_switch_robot_title_2"));
+                    } else {
+                        sobot_tv_title.setText(list_skill.get(0).getGroupGuideDoc());
+                    }
+                } else {
+                    sobot_tv_title.setText(ResourceUtils.getResString(SobotSkillGroupActivity.this, "sobot_switch_robot_title_2"));
                 }
             }
 
             @Override
             public void onFailure(Exception e, String des) {
+                sobot_tv_title.setText(ResourceUtils.getResString(SobotSkillGroupActivity.this, "sobot_switch_robot_title_2"));
             }
         });
     }
Index: .idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.vectordrawable:vectordrawable-animated:1.0.0@aar\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml	(date 1628219425000)
@@ -4,8 +4,13 @@
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/0f0f6b49e07015eae2cb1fa9ee2867c6/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/58a3036e4de2c14fb71eb3736994fc7e/res" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/58a3036e4de2c14fb71eb3736994fc7e/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/58a3036e4de2c14fb71eb3736994fc7e/jars/classes.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.vectordrawable/vectordrawable-animated/1.0.0/24f92bcc89d979cd8b99ae40def4e395850a6466/vectordrawable-animated-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: .idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.drawerlayout:drawerlayout:1.0.0@aar\">\n    <ANNOTATIONS>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/annotations.zip!/\" />\n    </ANNOTATIONS>\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/jars/classes.jar!/\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/res\" />\n      <root url=\"file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/AndroidManifest.xml\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml	(date 1628219425000)
@@ -2,13 +2,19 @@
   <library name="Gradle: androidx.drawerlayout:drawerlayout:1.0.0@aar">
     <ANNOTATIONS>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/annotations.zip!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b4a0c07a13ac92e07f916152e20d0958/annotations.zip!/" />
     </ANNOTATIONS>
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/jars/classes.jar!/" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/res" />
       <root url="file://$PROJECT_DIR$/../../softutils/androidgradle/caches/transforms-2/files-2.1/1bf235fe2324e73e575207c1b11e797a/AndroidManifest.xml" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b4a0c07a13ac92e07f916152e20d0958/AndroidManifest.xml" />
+      <root url="jar://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b4a0c07a13ac92e07f916152e20d0958/jars/classes.jar!/" />
+      <root url="file://$USER_HOME$/.gradle/caches/transforms-2/files-2.1/b4a0c07a13ac92e07f916152e20d0958/res" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.drawerlayout/drawerlayout/1.0.0/9ecd4ecb7da215ba4c5c3e00bf8d290dad6f2bc5/drawerlayout-1.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotChooseFileActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.activity;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.text.format.Formatter;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.sobot.chat.activity.base.SobotBaseActivity;\nimport com.sobot.chat.adapter.SobotFilesAdapter;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.FileOpenHelper;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.SystemUtil;\nimport com.sobot.chat.utils.ToastUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class SobotChooseFileActivity extends SobotBaseActivity implements AdapterView.OnItemClickListener, View.OnClickListener {\n\n    private static final int READ_REQUEST_CODE = 42;\n\n    private ListView sobot_lv_files;\n    private TextView sobot_tv_send;\n    private TextView sobot_tv_total;\n\n    private File mRootDir = Environment.getExternalStorageDirectory();\n    private File mCurrentDir;\n    private SobotFilesAdapter mAdapter;\n    private List<File> mDatas = new ArrayList<>();\n\n    @Override\n    protected int getContentViewResId() {\n        return getResLayoutId(\"sobot_activity_choose_file\");\n    }\n\n    @Override\n    protected void initView() {\n        if (!(Build.VERSION.SDK_INT<Build.VERSION_CODES.Q||Environment.isExternalStorageLegacy())){\n//            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n//            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION |\n//                    Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\n//            startActivityForResult(intent, READ_REQUEST_CODE);\n\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.setType(\"*/*\");//设置类型，我这里是任意类型，任意后缀的可以这样写。\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            startActivityForResult(intent,READ_REQUEST_CODE);\n\n        }\n        setTitle(getResString(\"sobot_internal_memory\"));\n        showLeftMenu(getResDrawableId(\"sobot_btn_back_selector\"), \"\", true);\n        sobot_lv_files = (ListView) findViewById(getResId(\"sobot_lv_files\"));\n        sobot_tv_send = (TextView) findViewById(getResId(\"sobot_tv_send\"));\n        sobot_tv_send.setText(ResourceUtils.getResString(SobotChooseFileActivity.this,\"sobot_button_send\"));\n        sobot_tv_total = (TextView) findViewById(getResId(\"sobot_tv_total\"));\n        sobot_tv_send.setOnClickListener(this);\n        displayInNotch(sobot_lv_files);\n    }\n\n    @Override\n    protected void initData() {\n        if (!checkStoragePermission() || !CommonUtils.isExitsSdcard()) {\n            return;\n        }\n        mCurrentDir = mRootDir;\n\n        showCurrentFiles(mCurrentDir);\n\n        sobot_lv_files.setOnItemClickListener(this);\n    }\n\n    private void showCurrentFiles(File dir) {\n        if (dir.isDirectory()) {\n            File[] childFiles = getChildFiles(dir);\n            showData(childFiles);\n        }\n    }\n\n    private void showData(File[] files) {\n        mDatas.clear();\n        if (files != null) {\n            mDatas.addAll(Arrays.asList(files));\n        }\n        Collections.sort(mDatas, new Comparator<File>() {\n            @Override\n            public int compare(File o1, File o2) {\n                if (o1.isDirectory() && o2.isFile())\n                    return -1;\n                if (o1.isFile() && o2.isDirectory())\n                    return 1;\n                return o2.getName().compareTo(o1.getName());\n            }\n        });\n        if (mAdapter == null) {\n            mAdapter = new SobotFilesAdapter(SobotChooseFileActivity.this, mDatas);\n            sobot_lv_files.setAdapter(mAdapter);\n        } else {\n            mAdapter.notifyDataSetChanged();\n        }\n    }\n\n    private File[] getChildFiles(File dir) {\n        if (dir.isDirectory()) {\n            return dir.listFiles();\n        }\n        return null;\n    }\n\n    @Override\n    protected void onLeftMenuClick(View view) {\n        goback();\n    }\n\n    @Override\n    public void onBackPressed() {\n        goback();\n    }\n\n    @Override\n    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n        try {\n            File file = mDatas.get(position);\n            if (file != null) {\n                if (file.isDirectory()) {\n                    mCurrentDir = file;\n                    showCurrentFiles(file);\n                } else {\n                    if (file.length() > 50 * 1024 * 1024) {\n                        ToastUtil.showToast(SobotChooseFileActivity.this, getResString(\"sobot_file_upload_failed\"));\n                        return;\n                    }\n                    //不能上传可执行文件 （.exe、.sys、 .com、.bat、.dll、.sh、.py）\n                    String fileName = file.getName().toLowerCase();\n                    if (FileOpenHelper.checkEndsWithInStringArray(fileName, SobotChooseFileActivity.this, \"sobot_fileEndingAll\")) {\n                        return;\n                    }\n                    if (mAdapter != null) {\n                        String totalSize;\n                        if (mAdapter.isCheckedFile(file)) {\n                            mAdapter.setCheckedFile(null);\n                            totalSize = \"0B\";\n                            sobot_tv_send.setEnabled(false);\n                        } else {\n                            mAdapter.setCheckedFile(file);\n                            totalSize = Formatter.formatFileSize(this, file.length());\n                            sobot_tv_send.setEnabled(true);\n                        }\n                        mAdapter.notifyDataSetChanged();\n                        sobot_tv_total.setText(getResString(\"sobot_files_selected\")+\"：\"+totalSize);\n                    }\n                }\n            }\n        } catch (Exception e) {\n            //ignor\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v == sobot_tv_send) {\n            File checkedFile = mAdapter.getCheckedFile();\n            if (checkedFile != null) {\n                Intent data = new Intent();\n                data.putExtra(ZhiChiConstant.SOBOT_INTENT_DATA_SELECTED_FILE, checkedFile);\n                setResult(ZhiChiConstant.REQUEST_COCE_TO_CHOOSE_FILE, data);\n                finish();\n            }\n        }\n    }\n\n    private void goback() {\n        if (!mRootDir.equals(mCurrentDir)) {\n            mCurrentDir = mCurrentDir.getParentFile();\n            showCurrentFiles(mCurrentDir);\n        } else {\n            super.onBackPressed();\n            finish();\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode,Intent resultData) {\n        //使用resultdata.getdata ( )提取该URI\n        if (requestCode == READ_REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n            Uri uri = null;\n            if (resultData != null) {\n                uri = resultData.getData();\n                if (uri!=null){\n                    Intent data = new Intent();\n                    data.setData(uri);\n                    setResult(ZhiChiConstant.REQUEST_COCE_TO_CHOOSE_FILE, data);\n                    finish();\n                    return;\n                }\n\n            }\n        }\n        finish();\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotChooseFileActivity.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotChooseFileActivity.java	(date 1628135261000)
@@ -16,7 +16,6 @@
 import com.sobot.chat.utils.CommonUtils;
 import com.sobot.chat.utils.FileOpenHelper;
 import com.sobot.chat.utils.ResourceUtils;
-import com.sobot.chat.utils.SystemUtil;
 import com.sobot.chat.utils.ToastUtil;
 import com.sobot.chat.utils.ZhiChiConstant;
 
Index: .idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"libraryTable\">\n  <library name=\"Gradle: androidx.lifecycle:lifecycle-common:2.0.0\">\n    <CLASSES>\n      <root url=\"jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.0.0/e070ffae07452331bc5684734fce6831d531785c/lifecycle-common-2.0.0.jar!/\" />\n    </CLASSES>\n    <JAVADOC />\n    <SOURCES />\n  </library>\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml	(date 1628219425000)
@@ -2,8 +2,11 @@
   <library name="Gradle: androidx.lifecycle:lifecycle-common:2.0.0">
     <CLASSES>
       <root url="jar://$PROJECT_DIR$/../../softutils/androidgradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.0.0/e070ffae07452331bc5684734fce6831d531785c/lifecycle-common-2.0.0.jar!/" />
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.0.0/e070ffae07452331bc5684734fce6831d531785c/lifecycle-common-2.0.0.jar!/" />
     </CLASSES>
     <JAVADOC />
-    <SOURCES />
+    <SOURCES>
+      <root url="jar://$USER_HOME$/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.0.0/cb4562c8927ab69f2a8ef49267b90753207df0c3/lifecycle-common-2.0.0-sources.jar!/" />
+    </SOURCES>
   </library>
 </component>
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/res/values/attrs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n\n    <!--圆形-->\n    <attr name=\"sobot_round_as_circle\" format=\"boolean\" />\n    <!--全部圆角半径-->\n    <attr name=\"sobot_round_corner\" format=\"integer|dimension\" />\n    <!--针对各个角的半径-->\n    <attr name=\"sobot_round_corner_top_left\" format=\"integer|dimension\" />\n    <attr name=\"sobot_round_corner_top_right\" format=\"integer|dimension\" />\n    <attr name=\"sobot_round_corner_bottom_left\" format=\"integer|dimension\" />\n    <attr name=\"sobot_round_corner_bottom_right\" format=\"integer|dimension\" />\n\n    <!--描边颜色／半径-->\n    <attr name=\"sobot_stroke_color\" format=\"color|reference\" />\n    <attr name=\"sobot_stroke_width\" format=\"integer|dimension\" />\n\n    <!-- 是否剪裁 RCLayout 的背景 -->\n    <attr name=\"sobot_clip_background\" format=\"boolean\" />\n\n    <!--真正用于解析的属性-->\n    <declare-styleable name=\"SobotRCAttrs\">\n        <attr name=\"sobot_round_as_circle\" />\n        <attr name=\"sobot_round_corner\" />\n        <attr name=\"sobot_round_corner_top_left\" />\n        <attr name=\"sobot_round_corner_top_right\" />\n        <attr name=\"sobot_round_corner_bottom_left\" />\n        <attr name=\"sobot_round_corner_bottom_right\" />\n        <attr name=\"sobot_stroke_color\" />\n        <attr name=\"sobot_stroke_width\" />\n        <attr name=\"sobot_clip_background\" />\n    </declare-styleable>\n\n    <!--假体：用于提示-->\n    <declare-styleable name=\"sobot_RCRelativeLayout\">\n        <attr name=\"sobot_round_as_circle\" />\n        <attr name=\"sobot_round_corner\" />\n        <attr name=\"sobot_round_corner_top_left\" />\n        <attr name=\"sobot_round_corner_top_right\" />\n        <attr name=\"sobot_round_corner_bottom_left\" />\n        <attr name=\"sobot_round_corner_bottom_right\" />\n        <attr name=\"sobot_stroke_color\" />\n        <attr name=\"sobot_stroke_width\" />\n        <attr name=\"sobot_clip_background\" />\n    </declare-styleable>\n\n    <declare-styleable name=\"sobot_RCImageView\">\n        <attr name=\"sobot_round_as_circle\" />\n        <attr name=\"sobot_round_corner\" />\n        <attr name=\"sobot_round_corner_top_left\" />\n        <attr name=\"sobot_round_corner_top_right\" />\n        <attr name=\"sobot_round_corner_bottom_left\" />\n        <attr name=\"sobot_round_corner_bottom_right\" />\n        <attr name=\"sobot_stroke_color\" />\n        <attr name=\"sobot_stroke_width\" />\n        <attr name=\"sobot_clip_background\" />\n    </declare-styleable>\n\n    <declare-styleable name=\"sobot_MHLinearLayout\">\n        <attr name=\"sobot_mhv_HeightRatio\" format=\"float\"/>\n        <attr name=\"sobot_mhv_HeightDimen\" format=\"dimension\"/>\n        <attr name=\"sobot_mhH_HeightRatio\" format=\"float\"/>\n        <attr name=\"sobot_mhH_HeightDimen\" format=\"dimension\"/>\n\n    </declare-styleable>\n\n    <declare-styleable name=\"sobot_ExpandableTextView\">\n        <attr name=\"maxCollapsedLines\" format=\"integer\"/>\n        <attr name=\"ExpandStrResId\" format=\"reference\"/>\n        <attr name=\"CollapseStrResId\" format=\"reference\"/>\n\n    </declare-styleable>\n\n    <declare-styleable name=\"sobot_GifView2\">\n        <attr name=\"gif\" format=\"reference\" />\n        <attr name=\"paused\" format=\"boolean\" />\n    </declare-styleable>\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/res/values/attrs.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/res/values/attrs.xml	(date 1628134866000)
@@ -57,17 +57,17 @@
     </declare-styleable>
 
     <declare-styleable name="sobot_MHLinearLayout">
-        <attr name="sobot_mhv_HeightRatio" format="float"/>
-        <attr name="sobot_mhv_HeightDimen" format="dimension"/>
-        <attr name="sobot_mhH_HeightRatio" format="float"/>
-        <attr name="sobot_mhH_HeightDimen" format="dimension"/>
+        <attr name="sobot_mhv_HeightRatio" format="float" />
+        <attr name="sobot_mhv_HeightDimen" format="dimension" />
+        <attr name="sobot_mhH_HeightRatio" format="float" />
+        <attr name="sobot_mhH_HeightDimen" format="dimension" />
 
     </declare-styleable>
 
     <declare-styleable name="sobot_ExpandableTextView">
-        <attr name="maxCollapsedLines" format="integer"/>
-        <attr name="ExpandStrResId" format="reference"/>
-        <attr name="CollapseStrResId" format="reference"/>
+        <attr name="maxCollapsedLines" format="integer" />
+        <attr name="ExpandStrResId" format="reference" />
+        <attr name="CollapseStrResId" format="reference" />
 
     </declare-styleable>
 
@@ -75,4 +75,10 @@
         <attr name="gif" format="reference" />
         <attr name="paused" format="boolean" />
     </declare-styleable>
+
+    <declare-styleable name="sobot_autoWrapLineLayout">
+        <attr name="verticalGap" format="dimension" />
+        <attr name="horizontalGap" format="dimension" />
+        <attr name="fillMode" format="integer" />
+    </declare-styleable>
 </resources>
\ No newline at end of file
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"RunConfigurationProducerService\">\n    <option name=\"ignoredProducers\">\n      <set>\n        <option value=\"com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer\" />\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\n      </set>\n    </option>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/runConfigurations.xml	(date 1628218744000)
@@ -3,7 +3,6 @@
   <component name="RunConfigurationProducerService">
     <option name="ignoredProducers">
       <set>
-        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: local.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>## This file must *NOT* be checked into Version Control Systems,\n# as it contains information specific to your local configuration.\n#\n# Location of the SDK. This is only used by Gradle.\n# For customization when using a Version Control System, please read the\n# header note.\n#Thu Jul 22 10:02:21 CST 2021\nsdk.dir=/Users/edy/Documents/softutils/androidsdk\nndk.dir=/Users/znw/Documents/android/software/android-sdk-macosx/ndk-bundle\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- local.properties	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ local.properties	(date 1628218744000)
@@ -4,6 +4,6 @@
 # Location of the SDK. This is only used by Gradle.
 # For customization when using a Version Control System, please read the
 # header note.
-#Thu Jul 22 10:02:21 CST 2021
-sdk.dir=/Users/edy/Documents/softutils/androidsdk
+#Fri Aug 06 10:59:04 CST 2021
 ndk.dir=/Users/znw/Documents/android/software/android-sdk-macosx/ndk-bundle
+sdk.dir=/Users/edy/Library/Android/sdk
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AndroidLayouts\">\n    <shared>\n      <config />\n    </shared>\n  </component>\n  <component name=\"AndroidLogFilters\">\n    <option name=\"TOOL_WINDOW_CUSTOM_FILTER\" value=\"sobot_log\" />\n    <option name=\"TOOL_WINDOW_LOG_LEVEL\" value=\"verbose\" />\n    <option name=\"TOOL_WINDOW_CONFIGURED_FILTER\" value=\"Show only selected application\" />\n  </component>\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"NONE\" />\n  </component>\n  <component name=\"BranchesTreeState\">\n    <expand>\n      <path>\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n      </path>\n      <path>\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n      </path>\n      <path>\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\n      </path>\n    </expand>\n    <select />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"7131948a-cca0-4901-8f33-175813d1b00c\" name=\"Default Changelist\" comment=\"\">\n      <change afterPath=\"$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.lock\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.lock\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.lock\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.lock\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/resourceHashesCache.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/fileHashes/resourceHashesCache.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/classAnalysis.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/classAnalysis.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/jarAnalysis.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/jarAnalysis.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/javaCompile.lock\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/javaCompile.lock\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/taskHistory.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/5.4.1/javaCompile/taskHistory.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/buildOutputCleanup/buildOutputCleanup.lock\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/buildOutputCleanup/buildOutputCleanup.lock\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.gradle/buildOutputCleanup/outputFiles.bin\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.gradle/buildOutputCleanup/outputFiles.bin\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/caches/build_file_checksums.ser\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/caches/build_file_checksums.ser\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_2_9_9_jar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_3_0_0_jar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_annotation_annotation_1_0_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_annotation_annotation_1_0_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_appcompat_appcompat_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_appcompat_appcompat_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_common_2_0_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_common_2_0_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_core_core_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_core_core_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_customview_customview_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_customview_customview_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_documentfile_documentfile_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_documentfile_documentfile_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_ui_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_ui_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_v4_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_v4_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_core_2_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_core_2_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_viewmodel_2_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_viewmodel_2_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_loader_loader_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_loader_loader_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_localbroadcastmanager_localbroadcastmanager_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_localbroadcastmanager_localbroadcastmanager_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_print_print_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_print_print_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_versionedparcelable_versionedparcelable_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_versionedparcelable_versionedparcelable_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_viewpager_viewpager_1_0_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__androidx_viewpager_viewpager_1_0_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_gifdecoder_4_9_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_gifdecoder_4_9_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_3_8_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_3_8_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_lzy_widget_view_core_0_1_5_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_lzy_widget_view_core_0_1_5_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_0_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_0_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_1_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_1_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_logging_interceptor_4_4_1.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_logging_interceptor_4_4_1.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_3_12_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_3_12_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_4_4_1.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_4_4_1.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_1_15_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_1_15_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_2_4_3.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_2_4_3.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_asms_1_1_3_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_asms_1_1_3_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_crash_0_0_4_aar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_crash_0_0_4_aar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_common_1_3_61.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_common_1_3_61.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/runConfigurations.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/runConfigurations.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/local.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/local.properties\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_2.9.9.jar\" beforeDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFSFragment.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFSFragment.java\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFragment.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFragment.java\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/ChatUtils.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/ChatUtils.java\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_titlebar.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_titlebar.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdkdemo/build.gradle\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdkdemo/build.gradle\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotStartSobotFunctionActivity.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotStartSobotFunctionActivity.java\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/sobotsdkdemo/src/main/res/values/strings.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/sobotsdkdemo/src/main/res/values/strings.xml\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"ExecutionTargetManager\" SELECTED_TARGET=\"device_and_snapshot_combo_box_target[VirtualDevicePath@/Users/edy/.android/avd/Pixel_2_API_30.avd]\" />\n  <component name=\"ExternalProjectsData\">\n    <projectState path=\"$PROJECT_DIR$\">\n      <ProjectState />\n    </projectState>\n  </component>\n  <component name=\"ExternalProjectsManager\">\n    <system id=\"GRADLE\">\n      <state>\n        <projects_view>\n          <tree_state>\n            <expand />\n            <select />\n          </tree_state>\n        </projects_view>\n      </state>\n    </system>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"ProjectId\" id=\"1l8NSrmhgVpPMA8ntbNqzhnKtM0\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"autoscrollFromSource\" value=\"true\" />\n    <option name=\"autoscrollToSource\" value=\"true\" />\n    <option name=\"foldersAlwaysOnTop\" value=\"false\" />\n    <option name=\"showExcludedFiles\" value=\"false\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">\n    <property name=\"DeviceAndSnapshotComboBoxAction.selectedDevice\" value=\"Q5S0219527004659\" />\n    <property name=\"DeviceAndSnapshotComboBoxAction.selectionTime\" value=\"2020-12-03T05:59:01.232Z\" />\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\n    <property name=\"android-custom-view/Users/znw/Documents/sobot-sdk-history/Sobot_Sdk_Demo_Android/sobotsdk/src/main/java/com/sobot/chat/widget/ContainsEmojiEditText.java_SELECTED\" value=\"ContainsEmojiEditText\" />\n    <property name=\"dart.analysis.tool.window.visible\" value=\"false\" />\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\n    <property name=\"memory.settings.postsync.last.time.stamp\" value=\"1626919500874\" />\n    <property name=\"multi-representation-preview/Users/znw/Documents/sobot-sdk-history/Sobot_Sdk_Demo_Android/sobotsdk/src/main/java/com/sobot/chat/widget/ContainsEmojiEditText.java_selected\" value=\"Custom views\" />\n    <property name=\"show.migrate.to.gradle.popup\" value=\"false\" />\n  </component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$\" />\n      <recent name=\"$PROJECT_DIR$/sobotsdk/libs\" />\n      <recent name=\"$PROJECT_DIR$/sobotsdkdemo/src/main\" />\n      <recent name=\"$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function\" />\n    </key>\n  </component>\n  <component name=\"RunManager\">\n    <configuration default=\"true\" type=\"AndroidJUnit\" factoryName=\"Android JUnit\">\n      <option name=\"TEST_OBJECT\" value=\"class\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$MODULE_DIR$\" />\n      <method v=\"2\">\n        <option name=\"Android.Gradle.BeforeRunTask\" enabled=\"true\" />\n      </method>\n    </configuration>\n    <configuration name=\"sobotsdkdemo\" type=\"AndroidRunConfigurationType\" factoryName=\"Android App\" activateToolWindowBeforeRun=\"false\">\n      <module name=\"Sobot_Sdk_Demo_Android.sobotsdkdemo\" />\n      <option name=\"DEPLOY\" value=\"true\" />\n      <option name=\"DEPLOY_APK_FROM_BUNDLE\" value=\"false\" />\n      <option name=\"DEPLOY_AS_INSTANT\" value=\"false\" />\n      <option name=\"ARTIFACT_NAME\" value=\"\" />\n      <option name=\"PM_INSTALL_OPTIONS\" value=\"\" />\n      <option name=\"ALL_USERS\" value=\"false\" />\n      <option name=\"ALWAYS_INSTALL_WITH_PM\" value=\"false\" />\n      <option name=\"DYNAMIC_FEATURES_DISABLED_LIST\" value=\"\" />\n      <option name=\"ACTIVITY_EXTRA_FLAGS\" value=\"\" />\n      <option name=\"MODE\" value=\"default_activity\" />\n      <option name=\"CLEAR_LOGCAT\" value=\"false\" />\n      <option name=\"SHOW_LOGCAT_AUTOMATICALLY\" value=\"false\" />\n      <option name=\"SKIP_NOOP_APK_INSTALLATIONS\" value=\"true\" />\n      <option name=\"FORCE_STOP_RUNNING_APP\" value=\"true\" />\n      <option name=\"TARGET_SELECTION_MODE\" value=\"DEVICE_AND_SNAPSHOT_COMBO_BOX\" />\n      <option name=\"SELECTED_CLOUD_MATRIX_CONFIGURATION_ID\" value=\"-1\" />\n      <option name=\"SELECTED_CLOUD_MATRIX_PROJECT_ID\" value=\"\" />\n      <option name=\"DEBUGGER_TYPE\" value=\"Auto\" />\n      <Auto>\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\n        <option name=\"WORKING_DIR\" value=\"\" />\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\n      </Auto>\n      <Hybrid>\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\n        <option name=\"WORKING_DIR\" value=\"\" />\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\n      </Hybrid>\n      <Java />\n      <Native>\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\n        <option name=\"WORKING_DIR\" value=\"\" />\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\n      </Native>\n      <Profilers>\n        <option name=\"ADVANCED_PROFILING_ENABLED\" value=\"false\" />\n        <option name=\"STARTUP_PROFILING_ENABLED\" value=\"false\" />\n        <option name=\"STARTUP_CPU_PROFILING_ENABLED\" value=\"false\" />\n        <option name=\"STARTUP_CPU_PROFILING_CONFIGURATION_NAME\" value=\"Sample Java Methods\" />\n        <option name=\"STARTUP_NATIVE_MEMORY_PROFILING_ENABLED\" value=\"false\" />\n        <option name=\"NATIVE_MEMORY_SAMPLE_RATE_BYTES\" value=\"2048\" />\n      </Profilers>\n      <option name=\"DEEP_LINK\" value=\"\" />\n      <option name=\"ACTIVITY_CLASS\" value=\"\" />\n      <option name=\"SEARCH_ACTIVITY_IN_GLOBAL_SCOPE\" value=\"false\" />\n      <option name=\"SKIP_ACTIVITY_VALIDATION\" value=\"false\" />\n      <method v=\"2\">\n        <option name=\"Android.Gradle.BeforeRunTask\" enabled=\"true\" />\n      </method>\n    </configuration>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"SvnConfiguration\">\n    <configuration />\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"7131948a-cca0-4901-8f33-175813d1b00c\" name=\"Default Changelist\" comment=\"\" />\n      <created>1606974760251</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1606974760251</updated>\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"升级版本2.9.1\">\n      <created>1608705859686</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1608705859686</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"升级版本2.9.2\">\n      <created>1610093241284</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1610093241284</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"升级版本2.9.3\">\n      <created>1611891816632</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1611891816632</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"更新jar\">\n      <created>1612235485226</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1612235485226</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"升级2.9.4版本\">\n      <created>1614318423853</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614318423853</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"替换最新jar\">\n      <created>1614678853271</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614678853271</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"替换下腾讯云域名修改\">\n      <created>1614912107630</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614912107630</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"2.9.4替换安装包\">\n      <created>1614912679906</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614912679906</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"升级2.9.5\">\n      <created>1616150276977</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1616150276977</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"升级2.9.5 jar\">\n      <created>1616384346057</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1616384346057</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"升级2.9.5 jar\">\n      <created>1616384374598</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1616384374598</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"升级2.9.8\">\n      <created>1623378379308</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1623378379308</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"13\" />\n    <servers />\n  </component>\n  <component name=\"Vcs.Log.History.Properties\">\n    <option name=\"COLUMN_ORDER\">\n      <list>\n        <option value=\"0\" />\n        <option value=\"2\" />\n        <option value=\"3\" />\n        <option value=\"1\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"升级版本2.9.1\" />\n    <MESSAGE value=\"升级版本2.9.2\" />\n    <MESSAGE value=\"升级版本2.9.3\" />\n    <MESSAGE value=\"更新jar\" />\n    <MESSAGE value=\"升级2.9.4版本\" />\n    <MESSAGE value=\"替换最新jar\" />\n    <MESSAGE value=\"替换下腾讯云域名修改\" />\n    <MESSAGE value=\"2.9.4替换安装包\" />\n    <MESSAGE value=\"升级2.9.5\" />\n    <MESSAGE value=\"升级2.9.5 jar\" />\n    <MESSAGE value=\"升级2.9.8\" />\n    <MESSAGE value=\"升级2.9.9\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"升级2.9.9\" />\n  </component>\n  <component name=\"WindowStateProjectService\">\n    <state x=\"528\" y=\"-1057\" key=\"#sobotsdkdemo\" timestamp=\"1625622424457\">\n      <screen x=\"0\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state x=\"528\" y=\"-1057\" key=\"#sobotsdkdemo/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625622424457\" />\n    <state x=\"265\" y=\"-1031\" width=\"1600\" height=\"1004\" key=\"CommitChangelistDialog2\" timestamp=\"1623378378496\">\n      <screen x=\"-54\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state x=\"265\" y=\"-1031\" width=\"1600\" height=\"1004\" key=\"CommitChangelistDialog2/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1623378378496\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.bottom\" timestamp=\"1626947453069\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.bottom/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453069\" />\n    <state width=\"1679\" height=\"144\" key=\"GridCell.Tab.0.bottom/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1624937530812\" />\n    <state width=\"1679\" height=\"16\" key=\"GridCell.Tab.0.bottom/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625624622323\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.center\" timestamp=\"1626947453068\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.center/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453068\" />\n    <state width=\"1679\" height=\"144\" key=\"GridCell.Tab.0.center/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1624937530811\" />\n    <state width=\"1679\" height=\"16\" key=\"GridCell.Tab.0.center/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625624622322\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.left\" timestamp=\"1626947453068\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.left/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453068\" />\n    <state width=\"1679\" height=\"144\" key=\"GridCell.Tab.0.left/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1624937530811\" />\n    <state width=\"1679\" height=\"16\" key=\"GridCell.Tab.0.left/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625624622322\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.right\" timestamp=\"1626947453069\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.0.right/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453069\" />\n    <state width=\"1679\" height=\"144\" key=\"GridCell.Tab.0.right/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1624937530811\" />\n    <state width=\"1679\" height=\"16\" key=\"GridCell.Tab.0.right/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625624622323\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.bottom\" timestamp=\"1626947453071\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.bottom/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453071\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.center\" timestamp=\"1626947453070\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.center/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453070\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.left\" timestamp=\"1626947453070\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.left/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453070\" />\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.right\" timestamp=\"1626947453071\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state width=\"1628\" height=\"332\" key=\"GridCell.Tab.1.right/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626947453071\" />\n    <state x=\"458\" y=\"-852\" key=\"Vcs.Push.Dialog.v2\" timestamp=\"1623378396010\">\n      <screen x=\"-54\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state x=\"458\" y=\"-852\" key=\"Vcs.Push.Dialog.v2/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1623378396010\" />\n    <state x=\"171\" y=\"-837\" width=\"961\" height=\"616\" key=\"find.popup\" timestamp=\"1626937094920\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state x=\"171\" y=\"-837\" width=\"961\" height=\"616\" key=\"find.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626937094920\" />\n    <state x=\"314\" y=\"-837\" width=\"961\" height=\"616\" key=\"find.popup/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1625042862465\" />\n    <state x=\"368\" y=\"-837\" width=\"961\" height=\"616\" key=\"find.popup/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1626681775995\" />\n    <state x=\"337\" y=\"-1032\" width=\"838\" height=\"1032\" key=\"search.everywhere.popup\" timestamp=\"1626922725412\">\n      <screen x=\"-197\" y=\"-1057\" width=\"1920\" height=\"1057\" />\n    </state>\n    <state x=\"337\" y=\"-1032\" width=\"838\" height=\"1032\" key=\"search.everywhere.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057\" timestamp=\"1626922725412\" />\n    <state x=\"480\" y=\"-1032\" width=\"838\" height=\"1032\" key=\"search.everywhere.popup/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057\" timestamp=\"1618384343140\" />\n    <state x=\"534\" y=\"-1032\" width=\"838\" height=\"1032\" key=\"search.everywhere.popup/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057\" timestamp=\"1625809136111\" />\n  </component>\n  <component name=\"XDebuggerManager\">\n    <breakpoint-manager>\n      <breakpoints>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>file://$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/VideoMessageHolder.java</url>\n          <line>77</line>\n          <option name=\"timeStamp\" value=\"8\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>file://$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotVideoActivity.java</url>\n          <line>136</line>\n          <option name=\"timeStamp\" value=\"9\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>file://$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotVideoActivity.java</url>\n          <line>159</line>\n          <option name=\"timeStamp\" value=\"10\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>file://$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatBaseFragment.java</url>\n          <line>1138</line>\n          <option name=\"timeStamp\" value=\"11\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/api/ZhiChiApiImpl.class</url>\n          <line>340</line>\n          <option name=\"timeStamp\" value=\"13\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>136</line>\n          <option name=\"timeStamp\" value=\"15\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>286</line>\n          <option name=\"timeStamp\" value=\"16\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>316</line>\n          <option name=\"timeStamp\" value=\"17\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>335</line>\n          <option name=\"timeStamp\" value=\"18\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/a/a.class</url>\n          <line>97</line>\n          <option name=\"timeStamp\" value=\"19\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>354</line>\n          <option name=\"timeStamp\" value=\"20\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>364</line>\n          <option name=\"timeStamp\" value=\"21\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>385</line>\n          <option name=\"timeStamp\" value=\"22\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"java-line\">\n          <url>jar://$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar!/com/sobot/chat/core/channel/SobotTCPServer.class</url>\n          <line>391</line>\n          <option name=\"timeStamp\" value=\"23\" />\n        </line-breakpoint>\n      </breakpoints>\n    </breakpoint-manager>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/workspace.xml	(date 1628219425000)
@@ -33,7 +33,12 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="7131948a-cca0-4901-8f33-175813d1b00c" name="Default Changelist" comment="">
-      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/SobotCustomTagHandler.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/SobotAntoLineLayout.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/horizontalgridpage/SobotRecyclerCallBack.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_evaluate_item.xml" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_list_item_skill_second_style.xml" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_list_item_skill_third_style.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.bin" beforeDir="false" afterPath="$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.bin" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.lock" beforeDir="false" afterPath="$PROJECT_DIR$/.gradle/5.4.1/executionHistory/executionHistory.lock" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.bin" beforeDir="false" afterPath="$PROJECT_DIR$/.gradle/5.4.1/fileHashes/fileHashes.bin" afterDir="false" />
@@ -46,75 +51,36 @@
       <change beforePath="$PROJECT_DIR$/.gradle/buildOutputCleanup/buildOutputCleanup.lock" beforeDir="false" afterPath="$PROJECT_DIR$/.gradle/buildOutputCleanup/buildOutputCleanup.lock" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.gradle/buildOutputCleanup/outputFiles.bin" beforeDir="false" afterPath="$PROJECT_DIR$/.gradle/buildOutputCleanup/outputFiles.bin" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/caches/build_file_checksums.ser" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/caches/build_file_checksums.ser" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_2_9_9_jar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_3_0_0_jar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_annotation_annotation_1_0_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_annotation_annotation_1_0_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_appcompat_appcompat_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_appcompat_appcompat_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_common_2_0_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_common_2_0_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_arch_core_core_runtime_2_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_asynclayoutinflater_asynclayoutinflater_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_collection_collection_1_0_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_coordinatorlayout_coordinatorlayout_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_core_core_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_core_core_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_cursoradapter_cursoradapter_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_customview_customview_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_customview_customview_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_documentfile_documentfile_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_documentfile_documentfile_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_drawerlayout_drawerlayout_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_fragment_fragment_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_interpolator_interpolator_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_ui_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_ui_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_core_utils_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_v4_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_legacy_legacy_support_v4_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_common_2_0_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_2_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_core_2_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_livedata_core_2_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_runtime_2_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_viewmodel_2_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_lifecycle_lifecycle_viewmodel_2_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_loader_loader_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_loader_loader_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_localbroadcastmanager_localbroadcastmanager_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_localbroadcastmanager_localbroadcastmanager_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_media_media_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_print_print_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_print_print_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_recyclerview_recyclerview_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_slidingpanelayout_slidingpanelayout_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_swiperefreshlayout_swiperefreshlayout_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_vectordrawable_vectordrawable_animated_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_versionedparcelable_versionedparcelable_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_versionedparcelable_versionedparcelable_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_viewpager_viewpager_1_0_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__androidx_viewpager_viewpager_1_0_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_alibaba_fastjson_1_2_73.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_annotations_4_9_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_disklrucache_4_9_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_gifdecoder_4_9_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_gifdecoder_4_9_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_3_8_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_3_8_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_github_bumptech_glide_glide_4_9_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_lzy_widget_view_core_0_1_5_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_lzy_widget_view_core_0_1_5_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_nostra13_universalimageloader_universal_image_loader_1_9_5.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsdk_imageloader_2_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_0_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_0_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_1_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_sobot_chat_sobotsupport_glidev4_2_1_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_logging_interceptor_4_4_1.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_logging_interceptor_4_4_1.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_3_12_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_3_12_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_4_4_1.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okhttp3_okhttp_4_4_1.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_1_15_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_1_15_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_2_4_3.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_okio_okio_2_4_3.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_squareup_picasso_picasso_2_5_2.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_asms_1_1_3_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_asms_1_1_3_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_common_9_1_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_crash_0_0_4_aar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__com_umeng_umsdk_crash_0_0_4_aar.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_annotations_13_0.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_1_3_61.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_common_1_3_61.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle__org_jetbrains_kotlin_kotlin_stdlib_common_1_3_61.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_3_0_0_jar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Gradle____sobotsdk_mall_x_libs_sobot_sdk_mall_x_lib_3_0_1_jar.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/runConfigurations.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/runConfigurations.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/local.properties" beforeDir="false" afterPath="$PROJECT_DIR$/local.properties" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_2.9.9.jar" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.1.jar" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotChooseFileActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotChooseFileActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotSkillGroupActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/SobotSkillGroupActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/WebViewActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/activity/WebViewActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/adapter/SobotSikllAdapter.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/adapter/SobotSikllAdapter.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/camera/CameraInterface.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/camera/CameraInterface.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFSFragment.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFSFragment.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFragment.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/conversation/SobotChatFragment.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/ChatUtils.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/ChatUtils.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_titlebar.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_titlebar.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/IOUtils.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/utils/IOUtils.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/CusEvaluateMessageHolder.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/CusEvaluateMessageHolder.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/TextMessageHolder.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/TextMessageHolder.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/DropdownListView.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/DropdownListView.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateDialog.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/dialog/SobotEvaluateDialog.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/kpswitch/view/ChattingPanelUploadView.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/kpswitch/view/ChattingPanelUploadView.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_activity_skill_group.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_activity_skill_group.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_chat_msg_item_evaluate.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_chat_msg_item_evaluate.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_dropdown_lv_head.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_dropdown_lv_head.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_evaluate.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_layout_evaluate.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_list_item_skill.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/layout/sobot_list_item_skill.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/values/attrs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdk-mall-x/src/main/res/values/attrs.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/sobotsdkdemo/build.gradle" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdkdemo/build.gradle" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotStartSobotFunctionActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotStartSobotFunctionActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotManualFunctionActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdkdemo/src/main/java/com/sobot/demo/activity/function/SobotManualFunctionActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/sobotsdkdemo/src/main/res/layout/sobot_demo_manual_func_activity.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdkdemo/src/main/res/layout/sobot_demo_manual_func_activity.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/sobotsdkdemo/src/main/res/values/strings.xml" beforeDir="false" afterPath="$PROJECT_DIR$/sobotsdkdemo/src/main/res/values/strings.xml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -122,7 +88,7 @@
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
     <option name="LAST_RESOLUTION" value="IGNORE" />
   </component>
-  <component name="ExecutionTargetManager" SELECTED_TARGET="device_and_snapshot_combo_box_target[VirtualDevicePath@/Users/edy/.android/avd/Pixel_2_API_30.avd]" />
+  <component name="ExecutionTargetManager" SELECTED_TARGET="device_and_snapshot_combo_box_target[]" />
   <component name="ExternalProjectsData">
     <projectState path="$PROJECT_DIR$">
       <ProjectState />
@@ -160,7 +126,7 @@
     <property name="android-custom-view/Users/znw/Documents/sobot-sdk-history/Sobot_Sdk_Demo_Android/sobotsdk/src/main/java/com/sobot/chat/widget/ContainsEmojiEditText.java_SELECTED" value="ContainsEmojiEditText" />
     <property name="dart.analysis.tool.window.visible" value="false" />
     <property name="last_opened_file_path" value="$PROJECT_DIR$" />
-    <property name="memory.settings.postsync.last.time.stamp" value="1626919500874" />
+    <property name="memory.settings.postsync.last.time.stamp" value="1628135821858" />
     <property name="multi-representation-preview/Users/znw/Documents/sobot-sdk-history/Sobot_Sdk_Demo_Android/sobotsdk/src/main/java/com/sobot/chat/widget/ContainsEmojiEditText.java_selected" value="Custom views" />
     <property name="show.migrate.to.gradle.popup" value="false" />
   </component>
@@ -188,7 +154,6 @@
       <option name="ARTIFACT_NAME" value="" />
       <option name="PM_INSTALL_OPTIONS" value="" />
       <option name="ALL_USERS" value="false" />
-      <option name="ALWAYS_INSTALL_WITH_PM" value="false" />
       <option name="DYNAMIC_FEATURES_DISABLED_LIST" value="" />
       <option name="ACTIVITY_EXTRA_FLAGS" value="" />
       <option name="MODE" value="default_activity" />
@@ -335,7 +300,14 @@
       <option name="project" value="LOCAL" />
       <updated>1623378379308</updated>
     </task>
-    <option name="localTasksCounter" value="13" />
+    <task id="LOCAL-00013" summary="升级3.0.0">
+      <created>1627011206416</created>
+      <option name="number" value="00013" />
+      <option name="presentableId" value="LOCAL-00013" />
+      <option name="project" value="LOCAL" />
+      <updated>1627011206416</updated>
+    </task>
+    <option name="localTasksCounter" value="14" />
     <servers />
   </component>
   <component name="Vcs.Log.History.Properties">
@@ -373,39 +345,45 @@
     <MESSAGE value="升级2.9.5 jar" />
     <MESSAGE value="升级2.9.8" />
     <MESSAGE value="升级2.9.9" />
-    <option name="LAST_COMMIT_MESSAGE" value="升级2.9.9" />
+    <MESSAGE value="升级3.0.0" />
+    <option name="LAST_COMMIT_MESSAGE" value="升级3.0.0" />
   </component>
   <component name="WindowStateProjectService">
     <state x="528" y="-1057" key="#sobotsdkdemo" timestamp="1625622424457">
       <screen x="0" y="-1057" width="1920" height="1057" />
     </state>
     <state x="528" y="-1057" key="#sobotsdkdemo/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625622424457" />
-    <state x="265" y="-1031" width="1600" height="1004" key="CommitChangelistDialog2" timestamp="1623378378496">
-      <screen x="-54" y="-1057" width="1920" height="1057" />
+    <state x="122" y="-1031" width="1600" height="1004" key="CommitChangelistDialog2" timestamp="1627011205792">
+      <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
+    <state x="122" y="-1031" key="CommitChangelistDialog2/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627011205792" />
     <state x="265" y="-1031" width="1600" height="1004" key="CommitChangelistDialog2/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1623378378496" />
-    <state width="1628" height="332" key="GridCell.Tab.0.bottom" timestamp="1626947453069">
+    <state x="143" y="-918" key="DiffContextDialog" timestamp="1627011710050">
+      <screen x="-197" y="-1057" width="1920" height="1057" />
+    </state>
+    <state x="143" y="-918" key="DiffContextDialog/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627011710050" />
+    <state width="1628" height="238" key="GridCell.Tab.0.bottom" timestamp="1627367463623">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state width="1628" height="332" key="GridCell.Tab.0.bottom/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626947453069" />
+    <state width="1628" height="238" key="GridCell.Tab.0.bottom/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627367463623" />
     <state width="1679" height="144" key="GridCell.Tab.0.bottom/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1624937530812" />
     <state width="1679" height="16" key="GridCell.Tab.0.bottom/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625624622323" />
-    <state width="1628" height="332" key="GridCell.Tab.0.center" timestamp="1626947453068">
+    <state width="1628" height="238" key="GridCell.Tab.0.center" timestamp="1627367463622">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state width="1628" height="332" key="GridCell.Tab.0.center/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626947453068" />
+    <state width="1628" height="238" key="GridCell.Tab.0.center/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627367463622" />
     <state width="1679" height="144" key="GridCell.Tab.0.center/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1624937530811" />
     <state width="1679" height="16" key="GridCell.Tab.0.center/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625624622322" />
-    <state width="1628" height="332" key="GridCell.Tab.0.left" timestamp="1626947453068">
+    <state width="1628" height="238" key="GridCell.Tab.0.left" timestamp="1627367463622">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state width="1628" height="332" key="GridCell.Tab.0.left/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626947453068" />
+    <state width="1628" height="238" key="GridCell.Tab.0.left/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627367463622" />
     <state width="1679" height="144" key="GridCell.Tab.0.left/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1624937530811" />
     <state width="1679" height="16" key="GridCell.Tab.0.left/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625624622322" />
-    <state width="1628" height="332" key="GridCell.Tab.0.right" timestamp="1626947453069">
+    <state width="1628" height="238" key="GridCell.Tab.0.right" timestamp="1627367463622">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state width="1628" height="332" key="GridCell.Tab.0.right/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626947453069" />
+    <state width="1628" height="238" key="GridCell.Tab.0.right/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627367463622" />
     <state width="1679" height="144" key="GridCell.Tab.0.right/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1624937530811" />
     <state width="1679" height="16" key="GridCell.Tab.0.right/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625624622323" />
     <state width="1628" height="332" key="GridCell.Tab.1.bottom" timestamp="1626947453071">
@@ -424,21 +402,21 @@
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
     <state width="1628" height="332" key="GridCell.Tab.1.right/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626947453071" />
-    <state x="458" y="-852" key="Vcs.Push.Dialog.v2" timestamp="1623378396010">
-      <screen x="-54" y="-1057" width="1920" height="1057" />
+    <state x="315" y="-852" key="Vcs.Push.Dialog.v2" timestamp="1627011711236">
+      <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
+    <state x="315" y="-852" key="Vcs.Push.Dialog.v2/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627011711236" />
     <state x="458" y="-852" key="Vcs.Push.Dialog.v2/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1623378396010" />
-    <state x="171" y="-837" width="961" height="616" key="find.popup" timestamp="1626937094920">
+    <state x="171" y="-837" width="961" height="616" key="find.popup" timestamp="1627875063940">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state x="171" y="-837" width="961" height="616" key="find.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626937094920" />
+    <state x="171" y="-837" width="961" height="616" key="find.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1627875063940" />
     <state x="314" y="-837" width="961" height="616" key="find.popup/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1625042862465" />
     <state x="368" y="-837" width="961" height="616" key="find.popup/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1626681775995" />
-    <state x="337" y="-1032" width="838" height="1032" key="search.everywhere.popup" timestamp="1626922725412">
+    <state x="337" y="-1032" width="838" height="1032" key="search.everywhere.popup" timestamp="1628141586154">
       <screen x="-197" y="-1057" width="1920" height="1057" />
     </state>
-    <state x="337" y="-1032" width="838" height="1032" key="search.everywhere.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1626922725412" />
-    <state x="480" y="-1032" width="838" height="1032" key="search.everywhere.popup/0.23.1680.937/-54.-1057.1920.1057@-54.-1057.1920.1057" timestamp="1618384343140" />
+    <state x="337" y="-1032" width="838" height="1032" key="search.everywhere.popup/-197.-1057.1920.1057/0.23.1680.947@-197.-1057.1920.1057" timestamp="1628141586154" />
     <state x="534" y="-1032" width="838" height="1032" key="search.everywhere.popup/0.23.1680.937/0.-1057.1920.1057@0.-1057.1920.1057" timestamp="1625809136111" />
   </component>
   <component name="XDebuggerManager">
Index: .idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<module external.linked.project.id=\":sobotsdk-mall-x\" external.linked.project.path=\"$MODULE_DIR$/../../../sobotsdk-mall-x\" external.root.project.path=\"$MODULE_DIR$/../../..\" external.system.id=\"GRADLE\" external.system.module.group=\"Sobot_Sdk_Demo_Android\" external.system.module.version=\"unspecified\" type=\"JAVA_MODULE\" version=\"4\">\n  <component name=\"FacetManager\">\n    <facet type=\"android-gradle\" name=\"Android-Gradle\">\n      <configuration>\n        <option name=\"GRADLE_PROJECT_PATH\" value=\":sobotsdk-mall-x\" />\n        <option name=\"LAST_SUCCESSFUL_SYNC_AGP_VERSION\" value=\"3.4.2\" />\n        <option name=\"LAST_KNOWN_AGP_VERSION\" value=\"3.4.2\" />\n      </configuration>\n    </facet>\n    <facet type=\"android\" name=\"Android\">\n      <configuration>\n        <option name=\"SELECTED_BUILD_VARIANT\" value=\"debug\" />\n        <option name=\"ASSEMBLE_TASK_NAME\" value=\"assembleDebug\" />\n        <option name=\"COMPILE_JAVA_TASK_NAME\" value=\"compileDebugSources\" />\n        <afterSyncTasks>\n          <task>generateDebugSources</task>\n        </afterSyncTasks>\n        <option name=\"ALLOW_USER_CONFIGURATION\" value=\"false\" />\n        <option name=\"MANIFEST_FILE_RELATIVE_PATH\" value=\"/src/main/AndroidManifest.xml\" />\n        <option name=\"RES_FOLDER_RELATIVE_PATH\" value=\"/src/main/res\" />\n        <option name=\"RES_FOLDERS_RELATIVE_PATH\" value=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/main/res;file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/debug/res;file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/res/rs/debug;file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/res/resValues/debug\" />\n        <option name=\"TEST_RES_FOLDERS_RELATIVE_PATH\" value=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/androidTest/res;file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/androidTestDebug/res;file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/res/rs/androidTest/debug;file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/res/resValues/androidTest/debug\" />\n        <option name=\"ASSETS_FOLDER_RELATIVE_PATH\" value=\"/src/main/assets\" />\n        <option name=\"PROJECT_TYPE\" value=\"1\" />\n      </configuration>\n    </facet>\n  </component>\n  <component name=\"NewModuleRootManager\" LANGUAGE_LEVEL=\"JDK_1_7\">\n    <output url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes\" />\n    <output-test url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/intermediates/javac/debugUnitTest/compileDebugUnitTestJavaWithJavac/classes\" />\n    <exclude-output />\n    <content url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x\">\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/main/java\" isTestSource=\"false\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/source/apt/debug\" isTestSource=\"false\" generated=\"true\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/source/buildConfig/debug\" isTestSource=\"false\" generated=\"true\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/src/main/res\" type=\"java-resource\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build/generated/res/resValues/debug\" type=\"java-resource\" />\n      <excludeFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/.gradle\" />\n      <excludeFolder url=\"file://$MODULE_DIR$/../../../sobotsdk-mall-x/build\" />\n      <excludeFolder url=\"file://$MODULE_DIR$/../../../sobotsdk/.gradle\" />\n    </content>\n    <orderEntry type=\"jdk\" jdkName=\"Android API 29 Platform\" jdkType=\"Android SDK\" />\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\n    <orderEntry type=\"library\" name=\"Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.okhttp3:okhttp:3.12.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.nostra13.universalimageloader:universal-image-loader:1.9.5\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.github.bumptech.glide:glide:3.8.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.picasso:picasso:2.5.2\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.okio:okio:1.15.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.collection:collection:1.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-common:2.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.arch.core:core-common:2.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.annotation:annotation:1.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.sobot.chat:sobotsupport-glidev4:2.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.legacy:legacy-support-v4:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.recyclerview:recyclerview:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.sobot.chat:sobotsdk-imageloader:2.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.media:media:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.fragment:fragment:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.legacy:legacy-support-core-ui:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.legacy:legacy-support-core-utils:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.loader:loader:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.viewpager:viewpager:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.coordinatorlayout:coordinatorlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.drawerlayout:drawerlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.slidingpanelayout:slidingpanelayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.customview:customview:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.swiperefreshlayout:swiperefreshlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.asynclayoutinflater:asynclayoutinflater:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.core:core:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.versionedparcelable:versionedparcelable:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-runtime:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.documentfile:documentfile:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.localbroadcastmanager:localbroadcastmanager:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.print:print:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.interpolator:interpolator:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.cursoradapter:cursoradapter:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-viewmodel:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-livedata:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-livedata-core:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.arch.core:core-runtime:2.0.0@aar\" level=\"project\" />\n  </component>\n</module>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/modules/sobotsdk/Sobot_Sdk_Demo_Android.sobotsdk-mall-x.iml	(date 1627874422000)
@@ -42,7 +42,7 @@
     </content>
     <orderEntry type="jdk" jdkName="Android API 29 Platform" jdkType="Android SDK" />
     <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" name="Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar" level="project" />
+    <orderEntry type="library" name="Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.1.jar" level="project" />
     <orderEntry type="library" name="Gradle: com.squareup.okhttp3:okhttp:3.12.0" level="project" />
     <orderEntry type="library" name="Gradle: com.nostra13.universalimageloader:universal-image-loader:1.9.5" level="project" />
     <orderEntry type="library" name="Gradle: com.github.bumptech.glide:glide:3.8.0" level="project" />
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/DropdownListView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.widget;\n\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AbsListView;\nimport android.widget.BaseAdapter;\nimport android.widget.FrameLayout;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.ProgressBar;\n\nimport com.sobot.chat.utils.ResourceUtils;\n\n/**\n * 聊天的Listview\n */\npublic class DropdownListView extends ListView implements AbsListView.OnScrollListener {\n\n    private static final String TAG = \"listview\";\n\n    private final static int RELEASE_To_REFRESH = 0;\n    private final static int PULL_To_REFRESH = 1;\n    private final static int REFRESHING = 2;\n    private final static int DONE = 3;\n    private final static int LOADING = 4;\n\n    // 实际的padding的距离与界面上偏移距离的比例\n    private final static int RATIO = 3;\n\n    private LayoutInflater inflater;\n    private FrameLayout fl;\n    private LinearLayout headView;\n\n    //\tprivate View line;\n    private ProgressBar progressBar;\n\n//\tprivate RotateAnimation animation;\n//\tprivate RotateAnimation reverseAnimation;\n\n    // 用于保证startY的值在一个完整的touch事件中只被记录一次\n    private boolean isRecored;\n\n    private int headContentWidth;\n    private int headContentHeight;\n\n    private int startY;\n    private int firstItemIndex;\n\n    private int state;\n\n    private boolean isBack;\n\n    private OnRefreshListenerHeader refreshListenerHeader;\n\n\n    private boolean isRefreshableHeader;\n\n\n    public DropdownListView(Context context) {\n        super(context);\n        init(context);\n    }\n\n    public DropdownListView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context);\n    }\n\n    private void init(Context context) {\n        setCacheColorHint(context.getResources().getColor(ResourceUtils.getIdByName(getContext(), \"color\",\n                \"sobot_transparent\")));\n        inflater = LayoutInflater.from(context);\n\n        fl = (FrameLayout)inflater.inflate(ResourceUtils.getIdByName(getContext(), \"layout\",\n                \"sobot_dropdown_lv_head\"), null);\n        headView = (LinearLayout) fl.findViewById(ResourceUtils.getIdByName(getContext(), \"id\",\n                \"drop_down_head\"));\n\n        progressBar = (ProgressBar) fl.findViewById(ResourceUtils.getIdByName(getContext(), \"id\",\n                \"sobot_loading\"));\n        measureView(headView);\n\n\n        headContentHeight = headView.getMeasuredHeight();\n        headContentWidth = headView.getMeasuredWidth();\n\n        headView.setPadding(0, -1 * headContentHeight, 0, 0);\n        headView.invalidate();\n\n        Log.v(\"size\", \"width:\" + headContentWidth + \" height:\"\n                + headContentHeight);\n\n        addHeaderView(fl, null, false);\n//\t\taddHeaderView(headView, null, false);\n        setOnScrollListener(this);\n\n\n        state = DONE;\n        isRefreshableHeader = false;\n    }\n\n    public void onScroll(AbsListView arg0, int firstVisiableItem, int arg2,\n                         int arg3) {\n        firstItemIndex = firstVisiableItem;\n        if(dropdownListScrollListener != null){\n            dropdownListScrollListener.onScroll(arg0,firstVisiableItem,arg2,arg3);\n        }\n    }\n\n    public void onScrollStateChanged(AbsListView arg0, int scrollState) {\n        if (scrollState == OnScrollListener.SCROLL_STATE_IDLE) {\n            // 判断滚动到底部\n\n        }\n    }\n\n    public boolean onTouchEvent(MotionEvent event) {\n\n        if (isRefreshableHeader) {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    if (firstItemIndex == 0 && !isRecored) {\n                        isRecored = true;\n                        startY = (int) event.getY();\n                        Log.v(TAG, \"在down时候记录当前位置‘\");\n                    }\n                    break;\n\n                case MotionEvent.ACTION_UP:\n\n                    if (state != REFRESHING && state != LOADING) {\n                        if (state == DONE) {\n                            // 什么都不做\n                        }\n                        if (state == PULL_To_REFRESH) {\n                            state = DONE;\n                            changeHeaderViewByState();\n\n                            Log.v(TAG, \"由下拉刷新状态，到done状态\");\n                        }\n                        if (state == RELEASE_To_REFRESH) {\n                            state = REFRESHING;\n\n                            changeHeaderViewByState();\n//\t\t\t\t\t\trecoverLine();\n                            onRefresh();\n\n                            Log.v(TAG, \"由松开刷新状态，到done状态\");\n                        }\n                    }\n\n                    isRecored = false;\n                    isBack = false;\n\n                    break;\n\n                case MotionEvent.ACTION_MOVE:\n                    int tempY = (int) event.getY();\n                    if (!isRecored && firstItemIndex == 0) {\n                        Log.v(TAG, \"在move时候记录下位置\");\n                        isRecored = true;\n                        startY = tempY;\n                    }\n\n                    if (state != REFRESHING && isRecored && state != LOADING) {\n\n                        // 保证在设置padding的过程中，当前的位置一直是在head，否则如果当列表超出屏幕的话，当在上推的时候，列表会同时进行滚动\n\n                        // 可以松手去刷新了\n                        if (state == RELEASE_To_REFRESH) {\n\n                            setSelection(0);\n\n                            // 往上推了，推到了屏幕足够掩盖head的程度，但是还没有推到全部掩盖的地步\n                            if (((tempY - startY) / RATIO < headContentHeight)\n                                    && (tempY - startY) > 0) {\n                                state = PULL_To_REFRESH;\n                                changeHeaderViewByState();\n\n                                Log.v(TAG, \"由松开刷新状态转变到下拉刷新状态\");\n                            }\n                            // 一下子推到顶了\n                            else if (tempY - startY <= 0) {\n                                state = DONE;\n                                changeHeaderViewByState();\n\n                                Log.v(TAG, \"由松开刷新状态转变到done状态\");\n                            }\n                            // 往下拉了，或者还没有上推到屏幕顶部掩盖head的地步\n                            else {\n                                // 不用进行特别的操作，只用更新paddingTop的值就行了\n                            }\n                        }\n                        // 还没有到达显示松开刷新的时候,DONE或者是PULL_To_REFRESH状态\n                        if (state == PULL_To_REFRESH) {\n\n                            setSelection(0);\n\n                            // 下拉到可以进入RELEASE_TO_REFRESH的状态\n                            if ((tempY - startY) / RATIO >= headContentHeight) {\n                                state = RELEASE_To_REFRESH;\n                                isBack = true;\n                                changeHeaderViewByState();\n\n                                Log.v(TAG, \"由done或者下拉刷新状态转变到松开刷新\");\n                            }\n                            // 上推到顶了\n                            else if (tempY - startY <= 0) {\n                                state = DONE;\n                                changeHeaderViewByState();\n\n                                Log.v(TAG, \"由DOne或者下拉刷新状态转变到done状态\");\n                            }\n                        }\n\n                        // done状态下\n                        if (state == DONE) {\n                            if (tempY - startY > 0) {\n                                state = PULL_To_REFRESH;\n                                changeHeaderViewByState();\n                            }\n                        }\n\n                        // 更新headView的size\n                        if (state == PULL_To_REFRESH) {\n                            headView.setPadding(0, -1 * headContentHeight\n                                    + (tempY - startY) / RATIO, 0, 0);\n                        }\n\n                        // 更新headView的paddingTop\n                        if (state == RELEASE_To_REFRESH) {\n                            headView.setPadding(0, (tempY - startY) / RATIO\n                                    - headContentHeight, 0, 0);\n                        }\n                    }\n\n                    break;\n            }\n        }\n\n        return super.onTouchEvent(event);\n    }\n\n    // 当状态改变时候，调用该方法，以更新界面\n    private void changeHeaderViewByState() {\n        switch (state) {\n            case RELEASE_To_REFRESH:\n                progressBar.setVisibility(View.VISIBLE);\n\n                Log.v(TAG, \"当前状态，松开刷新\");\n                break;\n            case PULL_To_REFRESH:\n                progressBar.setVisibility(View.VISIBLE);\n                // 是由RELEASE_To_REFRESH状态转变来的\n                if (isBack) {\n                    isBack = false;\n\n                } else {\n                }\n                Log.v(TAG, \"当前状态，下拉刷新\");\n                break;\n\n            case REFRESHING:\n\n                headView.setPadding(0, 0, 0, 0);\n\n                progressBar.setVisibility(View.VISIBLE);\n\n                Log.v(TAG, \"当前状态,正在刷新...\");\n                break;\n            case DONE:\n                headView.setPadding(0, -1 * headContentHeight, 0, 0);\n\n                progressBar.setVisibility(View.GONE);\n                Log.v(TAG, \"当前状态，done\");\n                break;\n        }\n    }\n\n    public void setOnRefreshListenerHead(\n            OnRefreshListenerHeader refreshListenerHeader) {\n        this.refreshListenerHeader = refreshListenerHeader;\n        isRefreshableHeader = true;\n    }\n\n\n    public interface OnRefreshListenerHeader {\n        public void onRefresh();\n    }\n\n    public interface OnRefreshListenerFooter {\n        public void onRefresh();\n    }\n\n    public void onRefreshCompleteHeader() {\n        state = DONE;\n        changeHeaderViewByState();\n    }\n\n    private void onRefresh() {\n        if (refreshListenerHeader != null) {\n            if(pullRefreshEnable){\n                refreshListenerHeader.onRefresh();\n            }else{\n                onRefreshCompleteHeader();\n            }\n        }\n    }\n\n    // 此方法直接照搬自网络上的一个下拉刷新的demo，此处是“估计”headView的width以及height\n    private void measureView(View child) {\n        ViewGroup.LayoutParams p = child.getLayoutParams();\n        if (p == null) {\n            p = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,\n                    ViewGroup.LayoutParams.WRAP_CONTENT);\n        }\n        int childWidthSpec = ViewGroup.getChildMeasureSpec(0, 0 + 0, p.width);\n        int lpHeight = p.height;\n        int childHeightSpec;\n        if (lpHeight > 0) {\n            childHeightSpec = MeasureSpec.makeMeasureSpec(lpHeight,\n                    MeasureSpec.EXACTLY);\n        } else {\n            childHeightSpec = MeasureSpec.makeMeasureSpec(0,\n                    MeasureSpec.UNSPECIFIED);\n        }\n        child.measure(childWidthSpec, childHeightSpec);\n    }\n\n    public void setAdapter(BaseAdapter adapter) {\n        super.setAdapter(adapter);\n    }\n\n    private boolean pullRefreshEnable;\n\n    public void setPullRefreshEnable(boolean pullRefreshEnable){\n        this.pullRefreshEnable= pullRefreshEnable;\n    }\n\n    private DropdownListScrollListener dropdownListScrollListener;\n\n    public void setDropdownListScrollListener(DropdownListScrollListener dropdownListScrollListener){\n        this.dropdownListScrollListener = dropdownListScrollListener;\n    }\n    public interface DropdownListScrollListener{\n        void onScroll(AbsListView arg0, int firstVisiableItem, int arg2, int arg3);\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/DropdownListView.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/DropdownListView.java	(date 1628059581000)
@@ -79,7 +79,7 @@
         fl = (FrameLayout)inflater.inflate(ResourceUtils.getIdByName(getContext(), "layout",
                 "sobot_dropdown_lv_head"), null);
         headView = (LinearLayout) fl.findViewById(ResourceUtils.getIdByName(getContext(), "id",
-                "drop_down_head"));
+                "sobot_drop_down_head"));
 
         progressBar = (ProgressBar) fl.findViewById(ResourceUtils.getIdByName(getContext(), "id",
                 "sobot_loading"));
Index: sobotsdk-mall-x/src/main/res/layout/sobot_dropdown_lv_head.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- ListView的头部 -->\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" >\n\n    <View\n        android:id=\"@+id/line\"\n        android:layout_width=\"0.2dip\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center_horizontal\"\n        android:background=\"@color/sobot_transparent\" />\n\n    <LinearLayout\n        android:id=\"@+id/drop_down_head\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom\"\n        android:gravity=\"center_horizontal\"\n        android:orientation=\"vertical\" >\n\n        <View\n            android:layout_width=\"0.2dip\"\n            android:layout_height=\"20dip\"\n            android:layout_gravity=\"center_horizontal\"\n            android:background=\"@color/sobot_transparent\" />\n\n        <ProgressBar\n            android:id=\"@+id/sobot_loading\"\n            android:layout_width=\"20dip\"\n            android:layout_height=\"20dip\"\n            android:indeterminateDrawable=\"@drawable/sobot_loading_anim\" />\n    </LinearLayout>\n\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/res/layout/sobot_dropdown_lv_head.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/res/layout/sobot_dropdown_lv_head.xml	(date 1628059581000)
@@ -12,7 +12,7 @@
         android:background="@color/sobot_transparent" />
 
     <LinearLayout
-        android:id="@+id/drop_down_head"
+        android:id="@+id/sobot_drop_down_head"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_gravity="bottom"
Index: sobotsdkdemo/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    // 签名配置\n    signingConfigs {\n\n        debug {\n            storeFile file(\"./keystore/debug.keystore\")\n        }\n    }\n\n    defaultConfig {\n        applicationId \"com.sobot.chat.tem\"\n        minSdkVersion 17\n        targetSdkVersion 29\n        versionCode 10\n        versionName \"3.0.0\"\n\n        ndk {\n            //设置支持的SO库架构\n            abiFilters 'armeabi', 'x86', 'armeabi-v7a'\n        }\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            signingConfig signingConfigs.debug\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    repositories {\n        flatDir {\n            dirs 'libs'\n        }\n    }\n\n    compileOptions.encoding = \"UTF-8\"\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n\n    //--------------智齿相关依赖 start-----------\n    implementation project(':sobotsdk-mall-x')\n//    implementation  'com.sobot.chat:sobotsdk:2.9.7'\n    implementation 'com.squareup.okhttp3:okhttp:4.4.1'\n    //目前支持常⻅的3种图片加载库，必须在下面的图片加载库中选择一个添加依赖\n    // compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    // compile 'com.squareup.picasso:picasso:2.5.2'\n    implementation('com.github.bumptech.glide:glide:4.9.0')\n    implementation 'com.sobot.chat:sobotsupport-glidev4:2.1'\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    //--------------智齿相关依赖 end-----------\n\n\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.4.1'\n    implementation  'com.umeng.umsdk:common:9.1.0' // (必选)\n    implementation  'com.umeng.umsdk:asms:1.1.3' // asms包依赖(必选)\n    implementation 'com.umeng.umsdk:crash:0.0.4' // native crash包依赖(必选)\n    implementation 'com.alibaba:fastjson:1.2.73'\n    //AlphaIndicatorView\n    implementation('com.lzy.widget:view-core:0.1.5') {\n        exclude group: 'com.android.support'\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdkdemo/build.gradle	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdkdemo/build.gradle	(date 1627875514000)
@@ -14,8 +14,8 @@
         applicationId "com.sobot.chat.tem"
         minSdkVersion 17
         targetSdkVersion 29
-        versionCode 10
-        versionName "3.0.0"
+        versionCode 11
+        versionName "3.0.1"
 
         ndk {
             //设置支持的SO库架构
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/SobotAntoLineLayout.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/SobotAntoLineLayout.java	(date 1628134866000)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/widget/SobotAntoLineLayout.java	(date 1628134866000)
@@ -0,0 +1,175 @@
+package com.sobot.chat.widget;
+
+import android.content.Context;
+import android.content.res.TypedArray;
+import android.util.AttributeSet;
+import android.view.View;
+import android.view.ViewGroup;
+
+import com.sobot.chat.R;
+
+import java.util.ArrayList;
+import java.util.List;
+
+/**
+ * 自动换行布局
+ */
+public class SobotAntoLineLayout extends ViewGroup {
+
+    public static final int MODE_FILL_PARENT = 0;
+    public static final int MODE_WRAP_CONTENT = 1;
+
+    private int mVerticalGap = 16;
+    private int mHorizontalGap = 10;
+
+    private int mFillMode = MODE_FILL_PARENT;
+
+    private List<Integer> childOfLine; //Save the count of child views of each line;
+    private List<Integer> mOriginWidth;
+
+    public SobotAntoLineLayout(Context context) {
+        super(context);
+        mOriginWidth = new ArrayList<>();
+    }
+
+    public SobotAntoLineLayout(Context context, AttributeSet attrs) {
+        super(context, attrs);
+        mOriginWidth = new ArrayList<>();
+        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.sobot_autoWrapLineLayout);
+        mHorizontalGap = ta.getDimensionPixelSize(R.styleable.sobot_autoWrapLineLayout_horizontalGap, 0);
+        mVerticalGap = ta.getDimensionPixelSize(R.styleable.sobot_autoWrapLineLayout_verticalGap, 0);
+        mFillMode = ta.getInteger(R.styleable.sobot_autoWrapLineLayout_fillMode, 0);
+        ta.recycle();
+    }
+
+    public SobotAntoLineLayout(Context context, AttributeSet attrs, int defStyleAttr) {
+        super(context, attrs, defStyleAttr);
+        mOriginWidth = new ArrayList<>();
+        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.sobot_autoWrapLineLayout);
+        mHorizontalGap = ta.getDimensionPixelSize(R.styleable.sobot_autoWrapLineLayout_horizontalGap, 0);
+        mVerticalGap = ta.getDimensionPixelSize(R.styleable.sobot_autoWrapLineLayout_verticalGap, 0);
+        mFillMode = ta.getInteger(R.styleable.sobot_autoWrapLineLayout_fillMode, 0);
+        ta.recycle();
+    }
+
+    @Override
+    protected void onLayout(boolean changed, int l, int t, int r, int b) {
+        if (mFillMode == MODE_FILL_PARENT) {
+            layoutModeFillParent();
+        } else {
+            layoutWrapContent();
+        }
+    }
+
+    @Override
+    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
+        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
+        childOfLine = new ArrayList<>();
+        int childCount = getChildCount();
+        int totalHeight = 0;
+        int totalWidth = MeasureSpec.getSize(widthMeasureSpec);
+        int curLineChildCount = 0;
+        int curLineWidth = 0;
+        int maxHeight = 0;
+        for (int i = 0; i < childCount; i++) {
+            View childItem = getChildAt(i);
+            if (mFillMode == MODE_FILL_PARENT) {
+                if (mOriginWidth.size() <= i) {
+                    measureChild(childItem, widthMeasureSpec, heightMeasureSpec);
+                    mOriginWidth.add(childItem.getMeasuredWidth());
+                } else {
+                    childItem.measure(MeasureSpec.makeMeasureSpec(mOriginWidth.get(i), MeasureSpec.EXACTLY),
+                            MeasureSpec.makeMeasureSpec(childItem.getMeasuredHeight(), MeasureSpec.EXACTLY));
+                }
+            } else {
+                measureChild(childItem, widthMeasureSpec, heightMeasureSpec);
+            }
+            int childHeight = childItem.getMeasuredHeight();
+            int childWidth = childItem.getMeasuredWidth();
+            if (curLineWidth + childWidth <= totalWidth) {
+                curLineWidth += childWidth;
+                maxHeight = Math.max(childHeight, maxHeight);
+                curLineChildCount++;
+            } else {
+                childOfLine.add(curLineChildCount);
+                curLineWidth = childWidth;
+                curLineChildCount = 1;
+                totalHeight += maxHeight;
+                maxHeight = childHeight;
+            }
+
+        }
+        childOfLine.add(curLineChildCount);
+        for (int i = 0; i < childOfLine.size(); i++) {
+            if (childOfLine.get(i) == 0) {
+                childOfLine.remove(i);
+            }
+        }
+        totalHeight += (mVerticalGap * (childOfLine.size() - 1) + maxHeight);
+        setMeasuredDimension(totalWidth, totalHeight);
+    }
+
+    private void layoutModeFillParent() {
+        int index = 0;
+        int width = getMeasuredWidth();
+        int curHeight = 0;
+        for (int i = 0; i < childOfLine.size(); i++) {
+            int childCount = childOfLine.get(i);
+            int maxHeight = 0;
+            int lineWidth = 0;
+            for (int j = 0; j < childCount; j++) {
+                lineWidth += getChildAt(j + index).getMeasuredWidth();
+            }
+            int padding = (width - lineWidth - mHorizontalGap * (childCount - 1)) / childCount / 2;
+            lineWidth = 0;
+            int target = index + childCount;
+            for (; index < target; index++) {
+                View item = getChildAt(index);
+                maxHeight = Math.max(maxHeight, item.getMeasuredHeight());
+                item.setPadding(padding, item.getPaddingTop(),
+                        padding, item.getPaddingBottom());
+                item.measure(MeasureSpec.makeMeasureSpec(item.getMeasuredWidth() + padding * 2, MeasureSpec.EXACTLY),
+                        MeasureSpec.makeMeasureSpec(item.getMeasuredHeight(), MeasureSpec.EXACTLY));
+                item.layout(lineWidth, curHeight, lineWidth + item.getMeasuredWidth(), curHeight + item.getMeasuredHeight());
+                lineWidth += item.getMeasuredWidth() + mHorizontalGap;
+            }
+            curHeight += maxHeight + mVerticalGap;
+        }
+    }
+
+    private void layoutWrapContent() {
+        int index = 0;
+        int curHeight = 0;
+        for (int i = 0; i < childOfLine.size(); i++) {
+            int childCount = childOfLine.get(i);
+            int maxHeight = 0;
+            int lineWidth = 0;
+            int target = index + childCount;
+            for (; index < target; index++) {
+                View item = getChildAt(index);
+                maxHeight = Math.max(maxHeight, item.getMeasuredHeight());
+                item.layout(lineWidth, curHeight, lineWidth + item.getMeasuredWidth(), curHeight + item.getMeasuredHeight());
+                lineWidth += item.getMeasuredWidth() + mHorizontalGap;
+            }
+            curHeight += maxHeight + mVerticalGap;
+        }
+    }
+
+    @Override
+    public void addView(View child) {
+        super.addView(child);
+    }
+
+    public void setFillMode(int fillMode) {
+        this.mFillMode = fillMode;
+    }
+
+    public void setHorizontalGap(int horizontalGap) {
+        this.mHorizontalGap = horizontalGap;
+    }
+
+    public void setVerticalGap(int verticalGap) {
+        this.mVerticalGap = verticalGap;
+    }
+
+}
\ No newline at end of file
Index: sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/TextMessageHolder.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sobot.chat.viewHolder;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport com.sobot.chat.adapter.SobotMsgAdapter;\nimport com.sobot.chat.api.model.ZhiChiMessageBase;\nimport com.sobot.chat.listener.NoDoubleClickListener;\nimport com.sobot.chat.utils.CommonUtils;\nimport com.sobot.chat.utils.HtmlTools;\nimport com.sobot.chat.utils.ResourceUtils;\nimport com.sobot.chat.utils.ScreenUtils;\nimport com.sobot.chat.utils.ToastUtil;\nimport com.sobot.chat.utils.ZhiChiConstant;\nimport com.sobot.chat.viewHolder.base.MessageHolderBase;\n\n/**\n * 文本消息\n */\npublic class TextMessageHolder extends MessageHolderBase {\n    TextView msg; // 聊天的消息内容\n    //离线留言信息标志\n    TextView sobot_tv_icon;\n\n\n    public TextMessageHolder(Context context, View convertView) {\n        super(context, convertView);\n        msg = (TextView) convertView.findViewById(ResourceUtils.getResId(context, \"sobot_msg\"));\n        sobot_tv_icon = (TextView) convertView.findViewById(ResourceUtils.getResId(context, \"sobot_tv_icon\"));\n        if (sobot_tv_icon != null) {\n            sobot_tv_icon.setText(ResourceUtils.getResString(context, \"sobot_leavemsg_title\"));\n        }\n        rightEmptyRL = (RelativeLayout) convertView.findViewById(ResourceUtils.getIdByName(context, \"id\", \"sobot_right_empty_rl\"));\n        sobot_ll_likeBtn = (LinearLayout) convertView.findViewById(ResourceUtils.getIdByName(context, \"id\", \"sobot_ll_likeBtn\"));\n        sobot_ll_dislikeBtn = (LinearLayout) convertView.findViewById(ResourceUtils.getIdByName(context, \"id\", \"sobot_ll_dislikeBtn\"));\n        sobot_tv_likeBtn = (TextView) convertView.findViewById(ResourceUtils.getIdByName(context, \"id\", \"sobot_tv_likeBtn\"));\n        sobot_tv_dislikeBtn = (TextView) convertView.findViewById(ResourceUtils.getIdByName(context, \"id\", \"sobot_tv_dislikeBtn\"));\n\n        //102=左间距12+内间距30+右间距60\n        msg.setMaxWidth(ScreenUtils.getScreenWidth((Activity) mContext) - ScreenUtils.dip2px(mContext, 102));\n    }\n\n    @Override\n    public void bindData(final Context context, final ZhiChiMessageBase message) {\n        if (message.getAnswer() != null && (!TextUtils.isEmpty(message.getAnswer().getMsg()) || !TextUtils.isEmpty(message.getAnswer().getMsgTransfer()))) {// 纯文本消息\n            String content = !TextUtils.isEmpty(message.getAnswer().getMsgTransfer()) ? message.getAnswer().getMsgTransfer() : message.getAnswer().getMsg();\n            msg.setVisibility(View.VISIBLE);\n\n            HtmlTools.getInstance(context).setRichText(msg, content, isRight ? getLinkTextColor() : getLinkTextColor());\n\n            applyTextViewUIConfig(msg);\n\n            if (isRight) {\n                try {\n                    msgStatus.setClickable(true);\n                    if (message.getSendSuccessState() == ZhiChiConstant.MSG_SEND_STATUS_SUCCESS) {// 成功的状态\n                        msgStatus.setVisibility(View.GONE);\n                        msgProgressBar.setVisibility(View.GONE);\n                    } else if (message.getSendSuccessState() == ZhiChiConstant.MSG_SEND_STATUS_ERROR) {\n                        msgStatus.setVisibility(View.VISIBLE);\n                        msgProgressBar.setVisibility(View.GONE);\n                        msgStatus.setOnClickListener(new ReSendTextLisenter(context, message\n                                .getId(), content, msgStatus, msgCallBack));\n                    } else if (message.getSendSuccessState() == ZhiChiConstant.MSG_SEND_STATUS_LOADING) {\n                        msgProgressBar.setVisibility(View.VISIBLE);\n                        msgStatus.setVisibility(View.GONE);\n                    }\n                    if (sobot_tv_icon != null) {\n                        sobot_tv_icon.setVisibility(message.isLeaveMsgFlag() ? View.VISIBLE : View.GONE);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n\n        } else {\n            // msg.setText(CommonUtils.getResString(context, \"sobot_data_wrong_hint\"));\n            msg.setText(\"\");\n        }\n        msg.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                if (!TextUtils.isEmpty(msg.getText().toString())) {\n                    ToastUtil.showCopyPopWindows(context, view, msg.getText().toString().replace(\"&amp;\", \"&\"), 30, 0);\n                }\n                return false;\n            }\n        });\n\n        refreshRevaluateItem();//左侧消息刷新顶和踩布局\n    }\n\n    public static class ReSendTextLisenter implements View.OnClickListener {\n\n        private String id;\n        private String msgContext;\n        private ImageView msgStatus;\n        private Context context;\n        private SobotMsgAdapter.SobotMsgCallBack msgCallBack;\n\n        public ReSendTextLisenter(final Context context, String id, String msgContext, ImageView\n                msgStatus, SobotMsgAdapter.SobotMsgCallBack msgCallBack) {\n            super();\n            this.context = context;\n            this.msgCallBack = msgCallBack;\n            this.id = id;\n            this.msgContext = msgContext;\n            this.msgStatus = msgStatus;\n        }\n\n        @Override\n        public void onClick(View arg0) {\n            if (msgStatus != null) {\n                msgStatus.setClickable(false);\n            }\n            showReSendTextDialog(context, id, msgContext, msgStatus);\n        }\n\n        private void showReSendTextDialog(final Context context, final String mid,\n                                          final String mmsgContext, final ImageView msgStatus) {\n            showReSendDialog(context, msgStatus, new ReSendListener() {\n\n                @Override\n                public void onReSend() {\n                    sendTextBrocast(context, mid, mmsgContext);\n                }\n            });\n        }\n\n        private void sendTextBrocast(Context context, String id, String msgContent) {\n            if (msgCallBack != null) {\n                ZhiChiMessageBase msgObj = new ZhiChiMessageBase();\n                msgObj.setContent(msgContent);\n                msgObj.setId(id);\n                msgCallBack.sendMessageToRobot(msgObj, 1, 0, \"\");\n            }\n        }\n    }\n\n\n    public void refreshRevaluateItem() {\n        if (message == null) {\n            return;\n        }\n        //找不到顶和踩就返回\n        if (sobot_tv_likeBtn == null ||\n                sobot_tv_dislikeBtn == null ||\n                sobot_ll_likeBtn == null ||\n                sobot_ll_dislikeBtn == null) {\n            return;\n        }\n        //顶 踩的状态 0 不显示顶踩按钮  1显示顶踩 按钮  2 显示顶之后的view  3显示踩之后view\n        switch (message.getRevaluateState()) {\n            case 1:\n                showRevaluateBtn();\n                break;\n            case 2:\n                showLikeWordView();\n                break;\n            case 3:\n                showDislikeWordView();\n                break;\n            default:\n                hideRevaluateBtn();\n                break;\n        }\n    }\n\n    /**\n     * 显示 顶踩 按钮\n     */\n    public void showRevaluateBtn() {\n        sobot_tv_likeBtn.setVisibility(View.VISIBLE);\n        sobot_tv_dislikeBtn.setVisibility(View.VISIBLE);\n        sobot_ll_likeBtn.setVisibility(View.VISIBLE);\n        sobot_ll_dislikeBtn.setVisibility(View.VISIBLE);\n        rightEmptyRL.setVisibility(View.VISIBLE);\n        //有顶和踩时显示信息显示两行 72-10-10=52 总高度减去上下内间距\n        msg.setMinHeight(ScreenUtils.dip2px(mContext, 52));\n        sobot_tv_likeBtn.setEnabled(true);\n        sobot_tv_dislikeBtn.setEnabled(true);\n        sobot_tv_likeBtn.setSelected(false);\n        sobot_tv_dislikeBtn.setSelected(false);\n        sobot_tv_likeBtn.setOnClickListener(new NoDoubleClickListener() {\n            @Override\n            public void onNoDoubleClick(View v) {\n                doRevaluate(true);\n            }\n        });\n        sobot_tv_dislikeBtn.setOnClickListener(new NoDoubleClickListener() {\n            @Override\n            public void onNoDoubleClick(View v) {\n                doRevaluate(false);\n            }\n        });\n    }\n\n    /**\n     * 顶踩 操作\n     *\n     * @param revaluateFlag true 顶  false 踩\n     */\n    private void doRevaluate(boolean revaluateFlag) {\n        if (msgCallBack != null && message != null) {\n            msgCallBack.doRevaluate(revaluateFlag, message);\n        }\n    }\n\n    /**\n     * 隐藏 顶踩 按钮\n     */\n    public void hideRevaluateBtn() {\n        sobot_tv_likeBtn.setVisibility(View.GONE);\n        sobot_tv_dislikeBtn.setVisibility(View.GONE);\n        sobot_ll_likeBtn.setVisibility(View.GONE);\n        sobot_ll_dislikeBtn.setVisibility(View.GONE);\n        rightEmptyRL.setVisibility(View.GONE);\n        //没有顶和踩时显示信息显示一行 42-10-10=22 总高度减去上下内间距\n        msg.setMinHeight(ScreenUtils.dip2px(mContext, 22));\n    }\n\n    /**\n     * 显示顶之后的view\n     */\n    public void showLikeWordView() {\n        sobot_tv_likeBtn.setSelected(true);\n        sobot_tv_likeBtn.setEnabled(false);\n        sobot_tv_dislikeBtn.setEnabled(false);\n        sobot_tv_dislikeBtn.setSelected(false);\n        sobot_tv_likeBtn.setVisibility(View.VISIBLE);\n        sobot_tv_dislikeBtn.setVisibility(View.GONE);\n        sobot_ll_likeBtn.setVisibility(View.VISIBLE);\n        sobot_ll_dislikeBtn.setVisibility(View.GONE);\n        rightEmptyRL.setVisibility(View.VISIBLE);\n        //有顶和踩时显示信息显示两行 72-10-10=52 总高度减去上下内间距\n        msg.setMinHeight(ScreenUtils.dip2px(mContext, 52));\n    }\n\n    /**\n     * 显示踩之后的view\n     */\n    public void showDislikeWordView() {\n        sobot_tv_dislikeBtn.setSelected(true);\n        sobot_tv_dislikeBtn.setEnabled(false);\n        sobot_tv_likeBtn.setEnabled(false);\n        sobot_tv_likeBtn.setSelected(false);\n        sobot_tv_likeBtn.setVisibility(View.GONE);\n        sobot_tv_dislikeBtn.setVisibility(View.VISIBLE);\n        sobot_ll_likeBtn.setVisibility(View.GONE);\n        sobot_ll_dislikeBtn.setVisibility(View.VISIBLE);\n        rightEmptyRL.setVisibility(View.VISIBLE);\n        //有顶和踩时显示信息显示两行 72-10-10=52 总高度减去上下内间距\n        msg.setMinHeight(ScreenUtils.dip2px(mContext, 52));\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/TextMessageHolder.java	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdk-mall-x/src/main/java/com/sobot/chat/viewHolder/TextMessageHolder.java	(date 1628135261000)
@@ -12,7 +12,6 @@
 import com.sobot.chat.adapter.SobotMsgAdapter;
 import com.sobot.chat.api.model.ZhiChiMessageBase;
 import com.sobot.chat.listener.NoDoubleClickListener;
-import com.sobot.chat.utils.CommonUtils;
 import com.sobot.chat.utils.HtmlTools;
 import com.sobot.chat.utils.ResourceUtils;
 import com.sobot.chat.utils.ScreenUtils;
Index: .idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<module external.linked.project.id=\":sobotsdkdemo\" external.linked.project.path=\"$MODULE_DIR$/../../../sobotsdkdemo\" external.root.project.path=\"$MODULE_DIR$/../../..\" external.system.id=\"GRADLE\" external.system.module.group=\"Sobot_Sdk_Demo_Android\" external.system.module.version=\"unspecified\" type=\"JAVA_MODULE\" version=\"4\">\n  <component name=\"FacetManager\">\n    <facet type=\"android-gradle\" name=\"Android-Gradle\">\n      <configuration>\n        <option name=\"GRADLE_PROJECT_PATH\" value=\":sobotsdkdemo\" />\n        <option name=\"LAST_SUCCESSFUL_SYNC_AGP_VERSION\" value=\"3.4.2\" />\n        <option name=\"LAST_KNOWN_AGP_VERSION\" value=\"3.4.2\" />\n      </configuration>\n    </facet>\n    <facet type=\"android\" name=\"Android\">\n      <configuration>\n        <option name=\"SELECTED_BUILD_VARIANT\" value=\"debug\" />\n        <option name=\"ASSEMBLE_TASK_NAME\" value=\"assembleDebug\" />\n        <option name=\"COMPILE_JAVA_TASK_NAME\" value=\"compileDebugSources\" />\n        <afterSyncTasks>\n          <task>generateDebugSources</task>\n        </afterSyncTasks>\n        <option name=\"ALLOW_USER_CONFIGURATION\" value=\"false\" />\n        <option name=\"MANIFEST_FILE_RELATIVE_PATH\" value=\"/src/main/AndroidManifest.xml\" />\n        <option name=\"RES_FOLDER_RELATIVE_PATH\" value=\"/src/main/res\" />\n        <option name=\"RES_FOLDERS_RELATIVE_PATH\" value=\"file://$MODULE_DIR$/../../../sobotsdkdemo/src/main/res;file://$MODULE_DIR$/../../../sobotsdkdemo/src/debug/res;file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/res/rs/debug;file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/res/resValues/debug\" />\n        <option name=\"TEST_RES_FOLDERS_RELATIVE_PATH\" value=\"file://$MODULE_DIR$/../../../sobotsdkdemo/src/androidTest/res;file://$MODULE_DIR$/../../../sobotsdkdemo/src/androidTestDebug/res;file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/res/rs/androidTest/debug;file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/res/resValues/androidTest/debug\" />\n        <option name=\"ASSETS_FOLDER_RELATIVE_PATH\" value=\"/src/main/assets\" />\n      </configuration>\n    </facet>\n  </component>\n  <component name=\"NewModuleRootManager\" LANGUAGE_LEVEL=\"JDK_1_7\">\n    <output url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes\" />\n    <output-test url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/intermediates/javac/debugUnitTest/compileDebugUnitTestJavaWithJavac/classes\" />\n    <exclude-output />\n    <content url=\"file://$MODULE_DIR$/../../../sobotsdkdemo\">\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/src/main/java\" isTestSource=\"false\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/source/apt/debug\" isTestSource=\"false\" generated=\"true\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/source/buildConfig/debug\" isTestSource=\"false\" generated=\"true\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/source/buildConfig/androidTest/debug\" isTestSource=\"true\" generated=\"true\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/src/main/assets\" type=\"java-resource\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/src/main/res\" type=\"java-resource\" />\n      <sourceFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build/generated/res/resValues/debug\" type=\"java-resource\" />\n      <excludeFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/.gradle\" />\n      <excludeFolder url=\"file://$MODULE_DIR$/../../../sobotsdkdemo/build\" />\n    </content>\n    <orderEntry type=\"jdk\" jdkName=\"Android API 29 Platform\" jdkType=\"Android SDK\" />\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\n    <orderEntry type=\"library\" name=\"Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.okhttp3:logging-interceptor:4.4.1\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.okhttp3:okhttp:4.4.1\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.squareup.okio:okio:2.4.3\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.3.61\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: org.jetbrains.kotlin:kotlin-stdlib-common:1.3.61\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: org.jetbrains:annotations:13.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.collection:collection:1.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-common:2.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.arch.core:core-common:2.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.annotation:annotation:1.0.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.github.bumptech.glide:disklrucache:4.9.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.github.bumptech.glide:annotations:4.9.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.umeng.umsdk:common:9.1.0\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.alibaba:fastjson:1.2.73\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.sobot.chat:sobotsupport-glidev4:2.1@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.sobot.chat:sobotsdk-imageloader:2.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.github.bumptech.glide:glide:4.9.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.github.bumptech.glide:gifdecoder:4.9.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.lzy.widget:view-core:0.1.5@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.appcompat:appcompat:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.recyclerview:recyclerview:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.fragment:fragment:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.vectordrawable:vectordrawable-animated:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.legacy:legacy-support-core-ui:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.legacy:legacy-support-core-utils:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.vectordrawable:vectordrawable:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.loader:loader:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.viewpager:viewpager:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.coordinatorlayout:coordinatorlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.drawerlayout:drawerlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.slidingpanelayout:slidingpanelayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.customview:customview:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.swiperefreshlayout:swiperefreshlayout:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.asynclayoutinflater:asynclayoutinflater:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.core:core:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.versionedparcelable:versionedparcelable:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.cursoradapter:cursoradapter:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-viewmodel:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-runtime:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.documentfile:documentfile:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.localbroadcastmanager:localbroadcastmanager:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.print:print:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.interpolator:interpolator:1.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-livedata:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.lifecycle:lifecycle-livedata-core:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: androidx.arch.core:core-runtime:2.0.0@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.umeng.umsdk:asms:1.1.3@aar\" level=\"project\" />\n    <orderEntry type=\"library\" name=\"Gradle: com.umeng.umsdk:crash:0.0.4@aar\" level=\"project\" />\n    <orderEntry type=\"module\" module-name=\"Sobot_Sdk_Demo_Android.sobotsdk-mall-x\" />\n  </component>\n</module>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ .idea/modules/sobotsdkdemo/Sobot_Sdk_Demo_Android.sobotsdkdemo.iml	(date 1627874422000)
@@ -42,7 +42,7 @@
     </content>
     <orderEntry type="jdk" jdkName="Android API 29 Platform" jdkType="Android SDK" />
     <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" name="Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.0.jar" level="project" />
+    <orderEntry type="library" name="Gradle: ./sobotsdk-mall-x/libs/sobot_sdk_mall_x_lib_3.0.1.jar" level="project" />
     <orderEntry type="library" name="Gradle: com.squareup.okhttp3:logging-interceptor:4.4.1" level="project" />
     <orderEntry type="library" name="Gradle: com.squareup.okhttp3:okhttp:4.4.1" level="project" />
     <orderEntry type="library" name="Gradle: com.squareup.okio:okio:2.4.3" level="project" />
Index: sobotsdkdemo/src/main/res/layout/sobot_demo_manual_func_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <include\n        android:id=\"@+id/sobot_demo_titlebar\"\n        layout=\"@layout/sobot_demo_layout_titlebar\" />\n\n    <ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@+id/sobot_demo_bottom_layout\"\n        android:layout_below=\"@+id/sobot_demo_titlebar\"\n        android:background=\"#ffffff\"\n        android:padding=\"10dp\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\">\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.1 技能组id\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:指定技能组id,指定后，转人工不会再弹技能组选项]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_groupid\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.2 客服id\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:指定客服]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_choose_adminid\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.2 指定客服类型\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:指定客服转接类型(0:可转入其他客服，1:必须转入指定客服)]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_tranReceptionistFlag\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"number\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:text=\"0\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.3 用户自定义资料和自定义字段\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:具体配置参考文档4.2.3部分,输入json格式数据]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_customer_fields\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.4 接入成功后自动发送对象\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:接入成功后自动发送一条消息，0:不发,1:给机器人发送,2给人工发送,3:机器人和人工都发]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_autoSendMsgMode\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"number\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.4 接入成功后自动发送内容\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:文本信息之外的类型直接输入文件在存储卡上的路径]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_autoSendMsgcontent\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.4 接入成功后自动发送内容类型\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:0:文本,1:图片,12:文件,23:视频]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_autoSendMsgtype\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"number\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.4 接入成功后自动发送次数\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:默认 1 只发一次 ；0 每次进入页面都自动发送,默认只发一次]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_autoSendMsg_count\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"number\"\n                android:padding=\"6dp\"\n                android:text=\"0\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.5 指定客户排队优先接入\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明: 1:优先接入  0:默认值，正常排队]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_queue_First\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"number\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:text=\"0\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.6 服务总结自定义字段\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:pc设置自定义字段,添加格式json如下:{'your keyId':'your value'}，具体配置可参考文档4.2.6]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_summary_params\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.7 多轮会话自定义字段\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:在使用多轮会话功能时,每一个接口我们都会传入 uid 和 mulitParams 两个固定的自定义参数,格式为json,例如{'key1':'val1'}]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_multi_params\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_8\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text428\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.8 商品卡片\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text428\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:详细设置请参考文档4.2.8商品卡片]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_8\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_marginEnd=\"10dp\"\n                    android:layout_alignParentEnd=\"true\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_9\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text429\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.9 订单卡片\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text429\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:详细设置请参考文档4.2.9订单卡片]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_9\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_11\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text4211\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.11 客户身份是否VIP\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text4211\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:指定用户是否是vip]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_11\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_marginEnd=\"10dp\"\n                    android:layout_alignParentEnd=\"true\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.11 指定用户的vip等级\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:pc设置-自定义字段-VIP等级]\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_vip_level\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"4.2.12 用户标签\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                style=\"@style/TextAppearance.AppCompat\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"6dp\"\n                android:text=\"[说明:pc设置-自定义字段-客户字段],多个标签之间用,分割\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/sobot_et_user_label\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"10dp\"\n                android:background=\"@drawable/sobot_editview_stocke_bg\"\n                android:enabled=\"true\"\n                android:inputType=\"textMultiLine\"\n                android:padding=\"6dp\"\n                android:scrollbars=\"none\"\n                android:textColor=\"@color/sobot_common_gray1\"\n                android:textColorHint=\"@color/sobot_common_gray3\"\n                android:textSize=\"14sp\" />\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_1\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42131\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏评价功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42131\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'评价按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42132\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏留言功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42132\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'留言按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_3\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42133\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏图片功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42133\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'图片按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_3\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_4\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42134\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏视频功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42134\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'视频按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_4\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_5\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42135\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏拍摄功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42135\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'拍摄按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_5\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:layout_marginEnd=\"10dp\" />\n\n            </RelativeLayout>\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n            <RelativeLayout\n                android:id=\"@+id/sobot_rl_4_2_13_6\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\">\n\n                <TextView\n                    android:id=\"@+id/sobot_text42136\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"4.2.13 隐藏文件功能\"\n                    android:textColor=\"@color/sobot_common_gray1\"\n                    android:textSize=\"16sp\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <TextView\n                    style=\"@style/TxtTitle_Des\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/sobot_text42136\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginRight=\"25dp\"\n                    android:background=\"@null\"\n                    android:gravity=\"center_vertical\"\n                    android:text=\"[说明:隐藏'+'文件按钮]\"\n                    android:layout_marginEnd=\"25dp\" />\n\n                <ImageView\n                    android:id=\"@+id/sobot_image_4_2_13_6\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:layout_marginRight=\"10dp\"\n                    android:background=\"@drawable/sobot_demo_icon_close\"\n                    android:contentDescription=\"@null\"\n                    android:visibility=\"visible\"\n                    android:layout_marginEnd=\"10dp\"\n                    android:layout_alignParentEnd=\"true\" />\n\n            </RelativeLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:background=\"@color/sobot_common_gray1\" />\n\n\n            <TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@color/sobot_common_gray2\"\n                android:padding=\"6dp\"\n                android:text=\"参考文档\"\n                android:textSize=\"14sp\" />\n\n\n            <TextView\n                android:id=\"@+id/tv_manual_fun_4_2_1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"10dp\"\n                android:textColor=\"@color/sobot_common_blue\"\n                android:textSize=\"14sp\" />\n\n            <TextView\n                android:id=\"@+id/tv_manual_fun_4_2_2\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"10dp\"\n                android:textColor=\"@color/sobot_common_blue\"\n                android:textSize=\"14sp\" />\n\n            <TextView\n                android:id=\"@+id/tv_manual_fun_4_2_8\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"10dp\"\n                android:textColor=\"@color/sobot_common_blue\"\n                android:textSize=\"14sp\" />\n\n            <TextView\n                android:id=\"@+id/tv_manual_fun_4_2_9\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"10dp\"\n                android:textColor=\"@color/sobot_common_blue\"\n                android:textSize=\"14sp\" />\n\n            <TextView\n                android:id=\"@+id/tv_manual_fun_4_2_13\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"10dp\"\n                android:textColor=\"@color/sobot_common_blue\"\n                android:textSize=\"14sp\" />\n\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.4dp\"\n                android:layout_marginTop=\"10dp\"\n                android:layout_marginBottom=\"40dp\" />\n\n        </LinearLayout>\n\n    </ScrollView>\n\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- sobotsdkdemo/src/main/res/layout/sobot_demo_manual_func_activity.xml	(revision f7a3969621904c4fab315f7106a4a06a2e342119)
+++ sobotsdkdemo/src/main/res/layout/sobot_demo_manual_func_activity.xml	(date 1627875177000)
@@ -10,7 +10,6 @@
     <ScrollView
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_above="@+id/sobot_demo_bottom_layout"
         android:layout_below="@+id/sobot_demo_titlebar"
         android:background="#ffffff"
         android:padding="10dp">
@@ -752,7 +751,7 @@
                     android:layout_marginRight="25dp"
                     android:background="@null"
                     android:gravity="center_vertical"
-                    android:text="[说明:隐藏'+'留言按钮]"
+                    android:text="[说明:隐藏机器人和人工聊天模式下，'+'中的留言按钮]"
                     android:layout_marginEnd="25dp" />
 
                 <ImageView
@@ -768,6 +767,58 @@
                     android:layout_alignParentEnd="true"
                     android:layout_marginEnd="10dp" />
 
+            </RelativeLayout>
+
+            <View
+                android:layout_width="match_parent"
+                android:layout_height="0.4dp"
+                android:layout_marginTop="10dp"
+                android:layout_marginBottom="10dp"
+                android:background="@color/sobot_common_gray1" />
+
+            <RelativeLayout
+                android:id="@+id/sobot_rl_4_2_13_7"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:visibility="visible">
+
+                <TextView
+                    android:id="@+id/sobot_text42137"
+                    android:layout_width="fill_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginRight="25dp"
+                    android:background="@null"
+                    android:gravity="center_vertical"
+                    android:text="4.2.13 只隐藏人工聊天模式的留言功能"
+                    android:textColor="@color/sobot_common_gray1"
+                    android:textSize="16sp"
+                    android:layout_marginEnd="25dp" />
+
+                <TextView
+                    style="@style/TxtTitle_Des"
+                    android:layout_width="fill_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_below="@+id/sobot_text42137"
+                    android:layout_marginTop="10dp"
+                    android:layout_marginRight="25dp"
+                    android:background="@null"
+                    android:gravity="center_vertical"
+                    android:text="[说明:只隐藏在人工聊天模式'+'中的留言按钮]"
+                    android:layout_marginEnd="25dp" />
+
+                <ImageView
+                    android:id="@+id/sobot_image_4_2_13_7"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_alignParentRight="true"
+                    android:layout_centerVertical="true"
+                    android:layout_marginRight="10dp"
+                    android:background="@drawable/sobot_demo_icon_close"
+                    android:contentDescription="@null"
+                    android:visibility="visible"
+                    android:layout_marginEnd="10dp"
+                    android:layout_alignParentEnd="true" />
+
             </RelativeLayout>
 
             <View
@@ -981,6 +1032,8 @@
 
             </RelativeLayout>
 
+
+
             <View
                 android:layout_width="match_parent"
                 android:layout_height="0.4dp"
